/*! For license information please see main.bf88997c.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,j=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function F(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case S:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,_e=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Te(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==Ee||null!==_e)&&(Ne(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Oe=!1}function De(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,je=null,Ue=!1,Ve=null,Fe={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,je=null,De.apply(Fe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,_t,St,Tt=!1,Ct=[],It=null,Nt=null,At=null,Pt=new Map,Rt=new Map,Ot=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function Ft(){Tt=!1,null!==It&&Ut(It)&&(It=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Pt.forEach(Vt),Rt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)jt(n),null===n.blockedOn&&Ot.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Kt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Gt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Xt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&qr(e,t,r,Xt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Xt=null;function Qt(e,t,n,r){if(Xt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=j({},ln,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(j({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return _n}var Tn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Tn),In=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(j({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Pn),On=[9,13,27,32],Ln=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Mn=c&&"TextEvent"in window&&!Dn,jn=c&&(!Ln||Dn&&8<Dn&&11>=Dn),Un=String.fromCharCode(32),Vn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Xn(e){Ur(e,0)}function Qn(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Pe(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==X(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},_r={};function Sr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}c&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=Sr("animationend"),Cr=Sr("animationiteration"),Ir=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),u(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Lr=Pr[Or];Rr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Rr(Tr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=je;Me=!1,je=null,Ue||(Ue=!0,Ve=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Fr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Tr:case Cr:case Ir:u=yn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&c.push(Wr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==l?s:bi(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Gr(c),h=Gr(h)}c=null}else c=null;null!==u&&Xr(o,s,u,c,!1),null!==l&&null!==f&&Xr(o,f,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(qn(s))if($n)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Ln)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Fn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Ln&&Fn(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Re(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Re(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function _i(e){return{current:e}}function Si(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ti(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ci={},Ii=_i(Ci),Ni=_i(!1),Ai=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ni),Si(Ii)}function Li(e,t,n){if(Ii.current!==Ci)throw Error(a(168));Ti(Ii,t),Ti(Ni,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ii.current,Ti(Ii,e),Ti(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ii),Ti(Ii,e)):Si(Ni),Ti(Ni,n)}var Ui=null,Vi=!1,Fi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Fi&&null!==Ui){Fi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Fi=!1}}return null}var Hi=b.ReactCurrentBatchConfig;function qi(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Wi=_i(null),Ki=null,Gi=null,Xi=null;function Qi(){Xi=Gi=Ki=null}function Yi(e){var t=Wi.current;Si(Wi),e._currentValue=t}function $i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Ki=e,Xi=Gi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Xi!==e)if(e={context:e,memoizedValue:t,next:null},null===Gi){if(null===Ki)throw Error(a(308));Gi=e,Ki.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tl(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ua(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:ta=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ou|=o,e.lanes=o,e.memoizedState=f}}function la(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ca=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$u(),i=Ju(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zu(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$u(),i=Ju(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zu(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$u(),r=Ju(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zu(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function pa(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Ri(t)?Ai:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ca,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Ri(t)?Ai:Ii.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ka=null,ba=0,wa=[],xa=0,Ea=null,_a=1,Sa="";function Ta(e,t){ya[ga++]=ba,ya[ga++]=ka,ka=e,ba=t}function Ca(e,t,n){wa[xa++]=_a,wa[xa++]=Sa,wa[xa++]=Ea,Ea=e;var r=_a;e=Sa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_a=1<<32-ot(t)+i|n<<i|r,Sa=a+e}else _a=1<<a|n<<i|r,Sa=e}function Ia(e){null!==e.return&&(Ta(e,1),Ca(e,1,0))}function Na(e){for(;e===ka;)ka=ya[--ga],ya[ga]=null,ba=ya[--ga],ya[ga]=null;for(;e===Ea;)Ea=wa[--xa],wa[xa]=null,Sa=wa[--xa],wa[xa]=null,_a=wa[--xa],wa[xa]=null}var Aa=null,Pa=null,Ra=!1,Oa=null;function La(e,t){var n=Al(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Da(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Aa=e,Pa=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Aa=e,Pa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ea?{id:_a,overflow:Sa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Al(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Aa=e,Pa=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ja(e){if(Ra){var t=Pa;if(t){var n=t;if(!Da(e,t)){if(Ma(e))throw Error(a(418));t=li(n.nextSibling);var r=Aa;t&&Da(e,t)?La(r,n):(e.flags=-4097&e.flags|2,Ra=!1,Aa=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Ra=!1,Aa=e}}}function Ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Aa=e}function Va(e){if(e!==Aa)return!1;if(!Ra)return Ua(e),Ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Pa)){if(Ma(e)){for(e=Pa;e;)e=li(e.nextSibling);throw Error(a(418))}for(;t;)La(e,t),t=li(t.nextSibling)}if(Ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pa=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pa=null}}else Pa=Aa?li(e.stateNode.nextSibling):null;return!0}function Fa(){Pa=Aa=null,Ra=!1}function za(e){null===Oa?Oa=[e]:Oa.push(e)}function Ba(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ca&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function Wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ml(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&qa(a)===t.type)?((r=i(t,n.props)).ref=Ba(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=Ba(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ml(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=Ba(e,null,t),n.return=e,n;case x:return(t=jl(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Ll(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===s.length)return n(i,f),Ra&&Ta(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return Ra&&Ta(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),Ra&&Ta(i,v),l}function m(i,s,u,l){var c=D(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?c=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Ra&&Ta(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,l))&&(s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return Ra&&Ta(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Ra&&Ta(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ba(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=Ll(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ol(o.type,o.key,o.props,null,r.mode,u)).ref=Ba(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jl(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(D(o))return m(r,a,o,u);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ml(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ka=Wa(!0),Ga=Wa(!1),Xa={},Qa=_i(Xa),Ya=_i(Xa),$a=_i(Xa);function Ja(e){if(e===Xa)throw Error(a(174));return e}function Za(e,t){switch(Ti($a,t),Ti(Ya,e),Ti(Qa,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Qa),Ti(Qa,t)}function eo(){Si(Qa),Si(Ya),Si($a)}function to(e){Ja($a.current);var t=Ja(Qa.current),n=ue(t,e.type);t!==n&&(Ti(Ya,e),Ti(Qa,n))}function no(e){Ya.current===e&&(Si(Qa),Si(Ya))}var ro=_i(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var so=b.ReactCurrentDispatcher,uo=b.ReactCurrentBatchConfig,lo=0,co=null,fo=null,ho=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,o){if(lo=o,co=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,so.current=as,e=n(r,i)}while(vo)}if(so.current=ns,t=null!==fo&&null!==fo.next,lo=0,ho=fo=co=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?co.memoizedState=ho=e:ho=ho.next=e,ho}function Eo(){if(null===fo){var e=co.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?co.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?co.memoizedState=ho=e:ho=ho.next=e}return ho}function _o(e,t){return"function"===typeof t?t(e):t}function So(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((lo&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,co.lanes|=f,Ou|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,co.lanes|=o,Ou|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function To(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(){}function Io(e,t){var n=co,r=Eo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,Vo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Lo(9,Ao.bind(null,n,r,i,t),void 0,null),null===Tu)throw Error(a(349));0!==(30&lo)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=co.updateQueue)?(t={lastEffect:null,stores:null},co.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&Zu(e,1,-1)}function Po(e,t,n){return n((function(){Ro(t)&&Zu(e,1,-1)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Oo(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=$o.bind(null,co,e),[t.memoizedState,e]}function Lo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=co.updateQueue)?(t={lastEffect:null,stores:null},co.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return Eo().memoizedState}function Mo(e,t,n,r){var i=xo();co.flags|=e,i.memoizedState=Lo(1|t,n,void 0,void 0===r?null:r)}function jo(e,t,n,r){var i=Eo();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Lo(t,n,a,r))}co.flags|=e,i.memoizedState=Lo(1|t,n,a,r)}function Uo(e,t){return Mo(8390656,8,e,t)}function Vo(e,t){return jo(2048,8,e,t)}function Fo(e,t){return jo(4,2,e,t)}function zo(e,t){return jo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4,4,Bo.bind(null,t,e),n)}function qo(){}function Wo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t,n){return 0===(21&lo)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),co.lanes|=n,Ou|=n,e.baseState=!0),t)}function Xo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{kt=n,uo.transition=r}}function Qo(){return Eo().memoizedState}function Yo(e,t,n){var r=Ju(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Zo(t,n):(es(e,t,n),null!==(e=Zu(e,r,n=$u()))&&ts(e,t,r))}function $o(e,t,n){var r=Ju(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Zo(t,i);else{es(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o))return}catch(u){}null!==(e=Zu(e,r,n=$u()))&&ts(e,t,r)}}function Jo(e){var t=e.alternate;return e===co||null!==t&&t===co}function Zo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tl(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ns={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},rs={readContext:Zi,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,co,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Oo,useDebugValue:qo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=Xo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=co,i=xo();if(Ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tu)throw Error(a(349));0!==(30&lo)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Lo(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Tu.identifierPrefix;if(Ra){var n=Sa;t=":"+t+"R"+(n=(_a&~(1<<32-ot(_a)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:Zi,useCallback:Wo,useContext:Zi,useEffect:Vo,useImperativeHandle:Ho,useInsertionEffect:Fo,useLayoutEffect:zo,useMemo:Ko,useReducer:So,useRef:Do,useState:function(){return So(_o)},useDebugValue:qo,useDeferredValue:function(e){return Go(Eo(),fo.memoizedState,e)},useTransition:function(){return[So(_o)[0],Eo().memoizedState]},useMutableSource:Co,useSyncExternalStore:Io,useId:Qo,unstable_isNewReconciler:!1},as={readContext:Zi,useCallback:Wo,useContext:Zi,useEffect:Vo,useImperativeHandle:Ho,useInsertionEffect:Fo,useLayoutEffect:zo,useMemo:Ko,useReducer:To,useRef:Do,useState:function(){return To(_o)},useDebugValue:qo,useDeferredValue:function(e){var t=Eo();return null===fo?t.memoizedState=e:Go(t,fo.memoizedState,e)},useTransition:function(){return[To(_o)[0],Eo().memoizedState]},useMutableSource:Co,useSyncExternalStore:Io,useId:Qo,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var us,ls,cs,fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zu||(zu=!0,Bu=r),ss(0,t)},n}function ds(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ss(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_l.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ys(e,t){if(!Ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ks(e,t,n){var r=t.pendingProps;switch(Na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(t),null;case 1:case 17:return Ri(t.type)&&Oi(),gs(t),null;case 3:return r=t.stateNode,eo(),Si(Ni),Si(Ii),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Oa&&(al(Oa),Oa=null))),gs(t),null;case 5:no(t);var i=Ja($a.current);if(n=t.type,null!==e&&null!=t.stateNode)ls(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gs(t),null}if(e=Ja(Qa.current),Va(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,us(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Vr("scroll",e):null!=c&&k(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gs(t),null;case 6:if(e&&null!=t.stateNode)cs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja($a.current),Ja(Qa.current),Va(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Aa))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gs(t),null;case 13:if(Si(ro),r=t.memoizedState,Ra&&null!==Pa&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Pa;r;)r=li(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Va(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gs(t),null}return null!==Oa&&(al(Oa),Oa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Va(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Pu&&(Pu=3):pl())),null!==t.updateQueue&&(t.flags|=4),gs(t),null);case 4:return eo(),null===e&&Br(t.stateNode.containerInfo),gs(t),null;case 10:return Yi(t.type._context),gs(t),null;case 19:if(Si(ro),null===(o=t.memoizedState))return gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)ys(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=io(e))){for(t.flags|=128,ys(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Vu&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ys(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!Ra)return gs(t),null}else 2*$e()-o.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=ro.current,Ti(ro,r?1&n|2:1&n),t):(gs(t),null);case 22:case 23:return cl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nu)&&(gs(t),6&t.subtreeFlags&&(t.flags|=8192)):gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja(Qa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Vr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},cs=function(e,t,n,r){n!==r&&(t.flags|=4)};var bs=b.ReactCurrentOwner,ws=!1;function xs(e,t,n,r){t.child=null===e?Ga(t,null,n,r):Ka(t,e.child,n,r)}function Es(e,t,n,r,i){n=n.render;var a=t.ref;return Ji(t,i),r=bo(e,t,n,r,a,i),n=wo(),null===e||ws?(Ra&&n&&Ia(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Rl(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Is(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Au,Nu),Nu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Au,Nu),Nu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Au,Nu),Nu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Au,Nu),Nu|=r;return xs(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Ri(n)?Ai:Ii.current;return a=Pi(t,a),Ji(t,i),n=bo(e,t,n,r,a,i),r=wo(),null===e||ws?(Ra&&r&&Ia(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Ns(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Zi(l):l=Pi(t,l=Ri(n)?Ai:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&va(t,o,r,l),ta=!1;var h=t.memoizedState;o.state=h,ua(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||ta?("function"===typeof c&&(fa(t,n,c,r),u=t.memoizedState),(s=ta||da(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:qi(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Zi(u):u=Pi(t,u=Ri(n)?Ai:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&va(t,o,r,u),ta=!1,h=t.memoizedState,o.state=h,ua(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(l=ta||da(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),qs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Za(e,t.containerInfo)}function Rs(e,t,n,r,i){return Fa(),za(i),t.flags|=256,xs(e,t,n,r),t.child}var Os={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ms(e,t,n){var r,i=t.pendingProps,o=ro.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(ro,1&o),null===e)return ja(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Dl(o,i,0,null),e=Ll(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Os,e):js(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Fs(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Dl({mode:"visible",children:i.children},o,0,null),(s=Ll(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Ka(t,e.child,null,n),t.child.memoizedState=Ls(n),t.memoizedState=Os,s);if(0===(1&t.mode))t=Fs(e,t,n,null);else if("$!"===r.data)t=Fs(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),ws||i){if(null!==(i=Tu)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,Zu(e,i,-1))}pl(),t=Fs(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Tl.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Pa=li(r.nextSibling),Aa=t,Ra=!0,Oa=null,null!==n&&(wa[xa++]=_a,wa[xa++]=Sa,wa[xa++]=Ea,_a=n.id,Sa=n.overflow,Ea=t),(t=js(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Vs(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Ls(n):Ds(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Os,i):(n=Us(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Vs(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Ls(n):Ds(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Os,i):(n=Us(e,t,i.children,n),t.memoizedState=null,n)}function js(e,t){return(t=Dl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){var i=e.child;return e=i.sibling,n=Rl(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Vs(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Rl(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Rl(o,r):(r=Ll(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Fs(e,t,n,r){return null!==r&&za(r),Ka(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),$i(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ou|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){switch(Na(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Si(Ni),Si(Ii),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Si(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ro),null;case 4:return eo(),null;case 10:return Yi(t.type._context),null;case 22:case 23:return cl(),null;default:return null}}var Ks=!1,Gs=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Ys(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function $s(e,t,n){try{n()}catch(r){El(e,t,r)}}var Js=!1;function Zs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&$s(t,n,a)}i=i.next}while(i!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}var su=null,uu=!1;function lu(e,t,n){for(n=n.child;null!==n;)cu(e,t,n),n=n.sibling}function cu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Gs||Ys(n,t);case 6:var r=su,i=uu;su=null,lu(e,t,n),uu=i,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(su,n.stateNode));break;case 4:r=su,i=uu,su=n.stateNode.containerInfo,uu=!0,lu(e,t,n),su=r,uu=i;break;case 0:case 11:case 14:case 15:if(!Gs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&$s(n,t,o),i=i.next}while(i!==r)}lu(e,t,n);break;case 1:if(!Gs&&(Ys(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){El(n,t,s)}lu(e,t,n);break;case 21:lu(e,t,n);break;case 22:1&n.mode?(Gs=(r=Gs)||null!==n.memoizedState,lu(e,t,n),Gs=r):lu(e,t,n);break;default:lu(e,t,n)}}function fu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(a(160));cu(o,s,i),su=null,uu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){El(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)du(t,e),t=t.sibling}function du(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hu(t,e),pu(e),4&r){try{Zs(3,e,e.return),eu(3,e)}catch(v){El(e,e.return,v)}try{Zs(5,e,e.return)}catch(v){El(e,e.return,v)}}break;case 1:hu(t,e),pu(e),512&r&&null!==n&&Ys(n,n.return);break;case 5:if(hu(t,e),pu(e),512&r&&null!==n&&Ys(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){El(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&$(i,o),ke(u,s);var c=ke(u,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){El(e,e.return,v)}}break;case 6:if(hu(t,e),pu(e),4&r){if(null===e.stateNode)throw Error(a(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(v){El(e,e.return,v)}}break;case 3:if(hu(t,e),pu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){El(e,e.return,v)}break;case 4:default:hu(t,e),pu(e);break;case 13:hu(t,e),pu(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&(Uu=$e()),4&r&&fu(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Gs=(f=Gs)||c,hu(t,e),Gs=f):hu(t,e),pu(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(v){El(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){El(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!c&&0!==(1&e.mode))for(Qs=e,e=e.child;null!==e;){for(c=Qs=e;null!==Qs;){switch(h=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:Zs(4,f,f.return);break;case 1:if(Ys(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){El(d,p,v)}}break;case 5:Ys(f,f.return);break;case 22:if(null!==f.memoizedState){gu(c);continue}}null!==h?(h.return=f,Qs=h):gu(c)}e=e.sibling}}break;case 19:hu(t,e),pu(e),4&r&&fu(e);case 21:}}function pu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ou(e,iu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;au(e,iu(e),o);break;default:throw Error(a(161))}}catch(s){El(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){Qs=e,mu(e,t,n)}function mu(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var i=Qs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ks;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Gs;s=Ks;var l=Gs;if(Ks=o,(Gs=u)&&!l)for(Qs=i;null!==Qs;)u=(o=Qs).child,22===o.tag&&null!==o.memoizedState?ku(i):null!==u?(u.return=o,Qs=u):ku(i);for(;null!==a;)Qs=a,mu(a,t,n),a=a.sibling;Qs=i,Ks=s,Gs=l}yu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qs=a):yu(e)}}function yu(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gs||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&la(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}la(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Gs||512&t.flags&&tu(t)}catch(d){El(t,t.return,d)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function gu(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function ku(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){El(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){El(t,i,u)}}var a=t.return;try{tu(t)}catch(u){El(t,a,u)}break;case 5:var o=t.return;try{tu(t)}catch(u){El(t,o,u)}}}catch(u){El(t,t.return,u)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var bu,wu=Math.ceil,xu=b.ReactCurrentDispatcher,Eu=b.ReactCurrentOwner,_u=b.ReactCurrentBatchConfig,Su=0,Tu=null,Cu=null,Iu=0,Nu=0,Au=_i(0),Pu=0,Ru=null,Ou=0,Lu=0,Du=0,Mu=null,ju=null,Uu=0,Vu=1/0,Fu=null,zu=!1,Bu=null,Hu=null,qu=!1,Wu=null,Ku=0,Gu=0,Xu=null,Qu=-1,Yu=0;function $u(){return 0!==(6&Su)?$e():-1!==Qu?Qu:Qu=$e()}function Ju(e){return 0===(1&e.mode)?1:0!==(2&Su)&&0!==Iu?Iu&-Iu:null!==Hi.transition?(0===Yu&&(Yu=vt()),Yu):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function Zu(e,t,n){if(50<Gu)throw Gu=0,Xu=null,Error(a(185));var r=el(e,t);return null===r?null:(yt(r,t,n),0!==(2&Su)&&r===Tu||(r===Tu&&(0===(2&Su)&&(Lu|=t),4===Pu&&ol(r,Iu)),nl(r,n),1===t&&0===Su&&0===(1&e.mode)&&(Vu=$e()+500,Vi&&Bi())),r)}function el(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tl(e){return(null!==Tu||null!==ea)&&0!==(1&e.mode)&&0===(2&Su)}function nl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Tu?Iu:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(sl.bind(null,e)):zi(sl.bind(null,e)),oi((function(){0===Su&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Il(n,rl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rl(e,t){if(Qu=-1,Yu=0,0!==(6&Su))throw Error(a(327));var n=e.callbackNode;if(wl()&&e.callbackNode!==n)return null;var r=ht(e,e===Tu?Iu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Su;Su|=2;var o=dl();for(Tu===e&&Iu===t||(Fu=null,Vu=$e()+500,fl(e,t));;)try{yl();break}catch(u){hl(e,u)}Qi(),xu.current=o,Su=i,null!==Cu?t=0:(Tu=null,Iu=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=il(e,i))),1===t)throw n=Ru,fl(e,0),ol(e,r),nl(e,$e()),n;if(6===t)ol(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(o=pt(e))&&(r=o,t=il(e,o))),1===t))throw n=Ru,fl(e,0),ol(e,r),nl(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bl(e,ju,Fu);break;case 3:if(ol(e,r),(130023424&r)===r&&10<(t=Uu+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){$u(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bl.bind(null,e,ju,Fu),t);break}bl(e,ju,Fu);break;case 4:if(ol(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wu(r/1960))-r)){e.timeoutHandle=ri(bl.bind(null,e,ju,Fu),r);break}bl(e,ju,Fu);break;default:throw Error(a(329))}}}return nl(e,$e()),e.callbackNode===n?rl.bind(null,e):null}function il(e,t){var n=Mu;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=ju,ju=n,null!==t&&al(t)),e}function al(e){null===ju?ju=e:ju.push.apply(ju,e)}function ol(e,t){for(t&=~Du,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sl(e){if(0!==(6&Su))throw Error(a(327));wl();var t=ht(e,0);if(0===(1&t))return nl(e,$e()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Ru,fl(e,0),ol(e,t),nl(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bl(e,ju,Fu),nl(e,$e()),null}function ul(e,t){var n=Su;Su|=1;try{return e(t)}finally{0===(Su=n)&&(Vu=$e()+500,Vi&&Bi())}}function ll(e){null!==Wu&&0===Wu.tag&&0===(6&Su)&&wl();var t=Su;Su|=1;var n=_u.transition,r=kt;try{if(_u.transition=null,kt=1,e)return e()}finally{kt=r,_u.transition=n,0===(6&(Su=t))&&Bi()}}function cl(){Nu=Au.current,Si(Au)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Cu)for(n=Cu.return;null!==n;){var r=n;switch(Na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:eo(),Si(Ni),Si(Ii),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Si(ro);break;case 10:Yi(r.type._context);break;case 22:case 23:cl()}n=n.return}if(Tu=e,Cu=e=Rl(e.current,null),Iu=Nu=t,Pu=0,Ru=null,Du=Lu=Ou=0,ju=Mu=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hl(e,t){for(;;){var n=Cu;try{if(Qi(),so.current=ns,po){for(var r=co.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(lo=0,ho=fo=co=null,vo=!1,mo=0,Eu.current=null,null===n||null===n.return){Pu=1,Ru=t,Cu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Iu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&ps(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ps(o,c,t),pl();break e}l=Error(a(426))}else if(Ra&&1&u.mode){var y=vs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ms(y,s,u,0,t),za(l);break e}}o=l,4!==Pu&&(Pu=2),null===Mu?Mu=[o]:Mu.push(o),l=os(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,sa(u,hs(0,l,t));break e;case 1:o=l;var g=u.type,k=u.stateNode;if(0===(128&u.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hu||!Hu.has(k)))){u.flags|=65536,t&=-t,u.lanes|=t,sa(u,ds(u,o,t));break e}}u=u.return}while(null!==u)}kl(n)}catch(b){t=b,Cu===n&&null!==n&&(Cu=n=n.return);continue}break}}function dl(){var e=xu.current;return xu.current=ns,null===e?ns:e}function pl(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Tu||0===(268435455&Ou)&&0===(268435455&Lu)||ol(Tu,Iu)}function vl(e,t){var n=Su;Su|=2;var r=dl();for(Tu===e&&Iu===t||(Fu=null,fl(e,t));;)try{ml();break}catch(i){hl(e,i)}if(Qi(),Su=n,xu.current=r,null!==Cu)throw Error(a(261));return Tu=null,Iu=0,Pu}function ml(){for(;null!==Cu;)gl(Cu)}function yl(){for(;null!==Cu&&!Qe();)gl(Cu)}function gl(e){var t=bu(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?kl(e):Cu=t,Eu.current=null}function kl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ks(n,t,Nu)))return void(Cu=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Cu=n);if(null===e)return Pu=6,void(Cu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cu=t);Cu=t=e}while(null!==t);0===Pu&&(Pu=5)}function bl(e,t,n){var r=kt,i=_u.transition;try{_u.transition=null,kt=1,function(e,t,n,r){do{wl()}while(null!==Wu);if(0!==(6&Su))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Tu&&(Cu=Tu=null,Iu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qu||(qu=!0,Il(tt,(function(){return wl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_u.transition,_u.transition=null;var s=kt;kt=1;var u=Su;Su|=4,Eu.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:qi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){El(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}v=Js,Js=!1}(e,n),du(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,vu(n,e,i),Ye(),Su=u,kt=s,_u.transition=o}else e.current=n;if(qu&&(qu=!1,Wu=e,Ku=i),0===(o=e.pendingLanes)&&(Hu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nl(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(zu)throw zu=!1,e=Bu,Bu=null,e;0!==(1&Ku)&&0!==e.tag&&wl(),0!==(1&(o=e.pendingLanes))?e===Xu?Gu++:(Gu=0,Xu=e):Gu=0,Bi()}(e,t,n,r)}finally{_u.transition=i,kt=r}return null}function wl(){if(null!==Wu){var e=bt(Ku),t=_u.transition,n=kt;try{if(_u.transition=null,kt=16>e?16:e,null===Wu)var r=!1;else{if(e=Wu,Wu=null,Ku=0,0!==(6&Su))throw Error(a(331));var i=Su;for(Su|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Qs=c;null!==Qs;){var f=Qs;switch(f.tag){case 0:case 11:case 15:Zs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Qs=h;else for(;null!==Qs;){var d=(f=Qs).sibling,p=f.return;if(nu(f),f===c){Qs=null;break}if(null!==d){d.return=p,Qs=d;break}Qs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:Zs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Qs=g;break e}Qs=o.return}}var k=e.current;for(Qs=k;null!==Qs;){var b=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Qs=b;else e:for(s=k;null!==Qs;){if(0!==(2048&(u=Qs).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(x){El(u,u.return,x)}if(u===s){Qs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Qs=w;break e}Qs=u.return}}if(Su=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,_u.transition=t}}return!1}function xl(e,t,n){aa(e,t=hs(0,t=os(n,t),1)),t=$u(),null!==(e=el(e,1))&&(yt(e,1,t),nl(e,t))}function El(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){aa(t,e=ds(t,e=os(n,e),1)),e=$u(),null!==(t=el(t,1))&&(yt(t,1,e),nl(t,e));break}}t=t.return}}function _l(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=$u(),e.pingedLanes|=e.suspendedLanes&n,Tu===e&&(Iu&n)===n&&(4===Pu||3===Pu&&(130023424&Iu)===Iu&&500>$e()-Uu?fl(e,0):Du|=n),nl(e,t)}function Sl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=$u();null!==(e=el(e,t))&&(yt(e,t,n),nl(e,n))}function Tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sl(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sl(e,n)}function Il(e,t){return Ge(e,t)}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Al(e,t,n,r){return new Nl(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return null===n?((n=Al(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Ll(n.children,i,o,t);case _:s=8,i|=8;break;case S:return(e=Al(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Al(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Al(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Dl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case I:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Al(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ll(e,t,n,r){return(e=Al(7,e,r,t)).lanes=n,e}function Dl(e,t,n,r){return(e=Al(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Ml(e,t,n){return(e=Al(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=Al(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,i,a,o,s,u){return e=new Ul(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Al(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Fl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zl(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Di(e,n,t)}return t}function Bl(e,t,n,r,i,a,o,s,u){return(e=Vl(n,r,!0,e,0,a,0,s,u)).context=zl(null),n=e.current,(a=ia(r=$u(),i=Ju(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nl(e,r),e}function Hl(e,t,n,r){var i=t.current,a=$u(),o=Ju(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zu(i,o,a))&&oa(e,i,o),o}function ql(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}bu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),Fa();break;case 5:to(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(Wi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Ti(ro,1&ro.current),null!==(e=qs(e,t,n))?e.sibling:null);Ti(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return qs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,Ra&&0!==(1048576&t.flags)&&Ca(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Pi(t,Ii.current);Ji(t,n),i=bo(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,Ra&&o&&Ia(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=qi(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=_s(null,t,r,qi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Rs(e,t,r,n,i=Error(a(424)));break e}for(Pa=li(t.stateNode.containerInfo.firstChild),Aa=t,Ra=!0,Oa=null,n=Ga(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=qs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&ja(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Cs(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ja(t),null;case 13:return Ms(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(Wi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=ia(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),$i(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),$i(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=qi(r=t.type,t.pendingProps),_s(e,t,r,i=qi(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Ji(t,n),pa(t,r,i),ma(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Ts(e,t,n)}throw Error(a(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function Zl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=ql(o);s.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=ql(o);a.call(e)}}var o=Bl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),ll(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=ql(u);s.call(e)}}var u=Vl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),ll((function(){Hl(t,u,n,r)})),u}(n,t,e,i,r);return ql(o)}Ql.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hl(e,t,null,null)},Ql.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ll((function(){Hl(null,e,null,null)})),t[pi]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nl(t,$e()),0===(6&Su)&&(Vu=$e()+500,Bi()))}break;case 13:var r=$u();ll((function(){return Zu(e,1,r)})),Kl(e,1)}},xt=function(e){13===e.tag&&(Zu(e,134217728,$u()),Kl(e,134217728))},Et=function(e){if(13===e.tag){var t=$u(),n=Ju(e);Zu(e,n,t),Kl(e,n)}},_t=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ul,Ne=ll;var ec={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ce,ul]},tc={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(a(200));return Fl(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(a(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Xl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return ll(e)},t.hydrate=function(e,t,n){if(!$l(t))throw Error(a(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ql(t)},t.render=function(e,t,n){if(!$l(t))throw Error(a(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$l(e))throw Error(a(40));return!!e._reactRootContainer&&(ll((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zl(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=N(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!_.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(m=!1,b(e),!v)if(null!==r(l))v=!0,O(x);else{var t=r(c);null!==t&&L(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&L(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,S=null,T=-1,C=5,I=-1;function N(){return!(t.unstable_now()-I<C)}function A(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?E():(_=!1,S=null)}}else _=!1}if("function"===typeof k)E=function(){k(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=A,E=function(){R.postMessage(null)}}else E=function(){y(A,0)};function O(e){S=e,_||(_=!0,E())}function L(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(T),T=-1):m=!0,L(w,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.p="/food-delivery-app/",function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){t=function(){return n};var n={},r=Object.prototype,i=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}n.wrap=c;var h={};function d(){}function p(){}function v(){}var m={};l(m,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==r&&i.call(g,o)&&(m=g);var k=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(t,n){function r(a,o,s,u){var l=f(t[a],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==e(h)&&i.call(h,"__await")?n.resolve(h.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):n.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,u)}))}u(l.arg)}var a;this._invoke=function(e,t){function i(){return new n((function(n,i){r(e,t,n,i)}))}return a=a?a.then(i,i):i()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,l(k,"constructor",v),l(v,"constructor",p),p.displayName=l(v,u,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,s,(function(){return this})),n.AsyncIterator=w,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new w(c(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),l(k,u,"Generator"),l(k,o,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},n.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},n}function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=n(791),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},c=u.createContext&&u.createContext(l),f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)},h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function d(e){return e&&e.map((function(e,t){return u.createElement(e.tag,f({key:t},e.attr),d(e.child))}))}function p(e){return function(t){return u.createElement(v,f({attr:f({},e.attr)},t),d(e.child))}}function v(e){var t=function(t){var n,r=e.attr,i=e.size,a=e.title,o=h(e,["attr","size","title"]),s=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),u.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:f(f({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&u.createElement("title",null,a),e.children)};return void 0!==c?u.createElement(c.Consumer,null,(function(e){return t(e)})):t(l)}function m(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function y(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}}]})(e)}function g(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17.21 9l-4.38-6.56a.993.993 0 00-.83-.42c-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}}]})(e)}function k(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}}]})(e)}function b(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"}}]})(e)}function w(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19.35 10.04A7.49 7.49 0 0012 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 000 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}}]})(e)}function x(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18.06 22.99h1.66c.84 0 1.53-.64 1.63-1.46L23 5.05h-5V1h-1.97v4.05h-4.97l.3 2.34c1.71.47 3.31 1.32 4.27 2.26 1.44 1.42 2.43 2.89 2.43 5.29v8.05zM1 21.99V21h15.03v.99c0 .55-.45 1-1.01 1H2.01c-.56 0-1.01-.45-1.01-1zm15.03-7c0-8-15.03-8-15.03 0h15.03zM1.02 17h15v2h-15z"}}]})(e)}function E(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}}]})(e)}function _(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}}]})(e)}function S(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 3L4 9v12h16V9l-8-6zm.5 9.5c0 .83-.67 1.5-1.5 1.5v4h-1v-4c-.83 0-1.5-.67-1.5-1.5v-3h1v3h.5v-3h1v3h.5v-3h1v3zM15 18h-1v-3.5h-1v-3c0-1.1.9-2 2-2V18z"}}]})(e)}function T(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21v-2z"}}]})(e)}var C=function(e,t){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},C(e,t)};function I(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},N.apply(this,arguments)};function A(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function P(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function O(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var L=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},D={measureLayout:L(["layout","layoutId","drag"]),animation:L(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:L(["exit"]),drag:L(["drag","dragControls"]),focus:L(["whileFocus"]),hover:L(["whileHover","onHoverStart","onHoverEnd"]),tap:L(["whileTap","onTap","onTapStart","onTapCancel"]),pan:L(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:L(["whileInView","onViewportEnter","onViewportLeave"])};var M=(0,u.createContext)({strict:!1}),j=Object.keys(D),U=j.length;var V=(0,u.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),F=(0,u.createContext)({});var z=(0,u.createContext)(null),B="undefined"!==typeof document,H=B?u.useLayoutEffect:u.useEffect,q={current:null},W=!1;function K(){return!W&&function(){if(W=!0,B)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return q.current=e.matches};e.addListener(t),t()}else q.current=!1}(),R((0,u.useState)(q.current),1)[0]}function G(e,t,n,r){var i=(0,u.useContext)(M),a=(0,u.useContext)(F).visualElement,o=(0,u.useContext)(z),s=function(){var e=K(),t=(0,u.useContext)(V).reducedMotion;return"never"!==t&&("always"===t||e)}(),l=(0,u.useRef)(void 0);r||(r=i.renderer),!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceId:null===o||void 0===o?void 0:o.id,blockInitialAnimation:!1===(null===o||void 0===o?void 0:o.initial),shouldReduceMotion:s}));var c=l.current;return H((function(){null===c||void 0===c||c.syncRender()})),(0,u.useEffect)((function(){var e;null===(e=null===c||void 0===c?void 0:c.animationState)||void 0===e||e.animateChanges()})),H((function(){return function(){return null===c||void 0===c?void 0:c.notifyUnmount()}}),[]),c}function X(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Q(e){return Array.isArray(e)}function Y(e){return"string"===typeof e||Q(e)}function $(e,t,n,r,i){var a;return void 0===r&&(r={}),void 0===i&&(i={}),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=null===(a=e.variants)||void 0===a?void 0:a[t]),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,r,i)),t}function J(e,t,n){var r=e.getProps();return $(r,t,null!==n&&void 0!==n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function Z(e){var t;return"function"===typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||Y(e.initial)||Y(e.animate)||Y(e.whileHover)||Y(e.whileDrag)||Y(e.whileTap)||Y(e.whileFocus)||Y(e.exit)}function ee(e){return Boolean(Z(e)||e.variants)}function te(e){var t=function(e,t){if(Z(e)){var n=e.initial,r=e.animate;return{initial:!1===n||Y(n)?n:void 0,animate:Y(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,u.useContext)(F)),n=t.initial,r=t.animate;return(0,u.useMemo)((function(){return{initial:n,animate:r}}),[ne(n),ne(r)])}function ne(e){return Array.isArray(e)?e.join(" "):e}function re(e){var t=(0,u.useRef)(null);return null===t.current&&(t.current=e()),t.current}var ie=1/60*1e3,ae="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},oe="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(ae())}),ie)};var se=!0,ue=!1,le=!1,ce={delta:0,timestamp:0},fe=["read","update","preRender","render","postRender"],he=fe.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var l=[n,t];if(t=l[0],(n=l[1]).length=0,r=t.length)for(var c=0;c<r;c++){var f=t[c];f(u),o.has(f)&&(s.schedule(f),e())}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return ue=!0})),e}),{}),de=fe.reduce((function(e,t){var n=he[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ue||ge(),n.schedule(e,t,r)},e}),{}),pe=fe.reduce((function(e,t){return e[t]=he[t].cancel,e}),{}),ve=fe.reduce((function(e,t){return e[t]=function(){return he[t].process(ce)},e}),{}),me=function(e){return he[e].process(ce)},ye=function e(t){ue=!1,ce.delta=se?ie:Math.max(Math.min(t-ce.timestamp,40),1),ce.timestamp=t,le=!0,fe.forEach(me),le=!1,ue&&(se=!1,oe(e))},ge=function(){ue=!0,se=!0,le||oe(ye)},ke=function(){return ce},be=de,we=function(e,t,n){return-n*e+n*t+e};function xe(e,t){return t?e*(1e3/t):0}function Ee(e,t){-1===e.indexOf(t)&&e.push(t)}function _e(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Se=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return Ee(this.subscriptions,e),function(){return _e(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),Te=function(){function e(e){var t,n=this;this.version="6.3.10",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Se,this.velocityUpdateSubscribers=new Se,this.renderSubscribers=new Se,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),n.prev=n.current,n.current=e;var r=ke(),i=r.delta,a=r.timestamp;n.lastUpdated!==a&&(n.timeDelta=i,n.lastUpdated=a,be.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),t&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return be.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?xe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function Ce(e){return new Te(e)}var Ie=function(e){return Boolean(null!==e&&"object"===typeof e&&e.getVelocity)},Ne=function(e,t,n){return Math.min(Math.max(n,e),t)},Ae=.001;function Pe(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,u=void 0===s?0:s,l=e.mass,c=void 0===l?1:l,f=1-o;f=Ne(.05,1,f),i=Ne(.01,10,i/1e3),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,a=Re(e,f),o=Math.exp(-n);return Ae-r/a*o},n=function(e){var n=e*f*i,r=n*u+u,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),s=Re(Math.pow(e,2),f);return(-t(e)+Ae>0?-1:1)*((r-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-.001},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var h=function(e,t,n){for(var r=n,i=1;i<12;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*c;return{stiffness:d,damping:2*f*Math.sqrt(c*d),duration:i}}function Re(e,t){return e*Math.sqrt(1-t*t)}var Oe=["duration","bounce"],Le=["stiffness","damping","mass"];function De(e,t){return t.some((function(t){return void 0!==e[t]}))}function Me(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.restSpeed,o=void 0===a?2:a,s=e.restDelta,u=A(e,["from","to","restSpeed","restDelta"]),l={done:!1,value:n},c=function(e){var t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!De(e,Le)&&De(e,Oe)){var n=Pe(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(u),f=c.stiffness,h=c.damping,d=c.mass,p=c.velocity,v=c.duration,m=c.isResolvedFromDuration,y=je,g=je;function k(){var e=p?-p/1e3:0,t=i-n,r=h/(2*Math.sqrt(f*d)),a=Math.sqrt(f/d)/1e3;if(void 0===s&&(s=Math.min(Math.abs(i-n)/100,.4)),r<1){var o=Re(a,r);y=function(n){var s=Math.exp(-r*a*n);return i-s*((e+r*a*t)/o*Math.sin(o*n)+t*Math.cos(o*n))},g=function(n){var i=Math.exp(-r*a*n);return r*a*i*(Math.sin(o*n)*(e+r*a*t)/o+t*Math.cos(o*n))-i*(Math.cos(o*n)*(e+r*a*t)-o*t*Math.sin(o*n))}}else if(1===r)y=function(n){return i-Math.exp(-a*n)*(t+(e+a*t)*n)};else{var u=a*Math.sqrt(r*r-1);y=function(n){var o=Math.exp(-r*a*n),s=Math.min(u*n,300);return i-o*((e+r*a*t)*Math.sinh(s)+u*t*Math.cosh(s))/u}}}return k(),{next:function(e){var t=y(e);if(m)l.done=e>=v;else{var n=1e3*g(e),r=Math.abs(n)<=o,a=Math.abs(i-t)<=s;l.done=r&&a}return l.value=l.done?i:t,l},flipTarget:function(){p=-p;var e=[i,n];n=e[0],i=e[1],k()}}}Me.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var je=function(e){return 0},Ue=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},Ve=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},Fe=function(e){return e%1?Number(e.toFixed(5)):e},ze=/(-)?([\d]*\.?[\d])+/g,Be=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,He=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function qe(e){return"string"===typeof e}var We={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},Ke=Object.assign(Object.assign({},We),{transform:Ve(0,1)}),Ge=Object.assign(Object.assign({},We),{default:1});function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qe=function(e,t){return function(n){return Boolean(qe(n)&&He.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},Ye=function(e,t,n){return function(r){var i;if(!qe(r))return r;var a=s(r.match(ze),4),o=a[0],u=a[1],l=a[2],c=a[3];return Xe(i={},e,parseFloat(o)),Xe(i,t,parseFloat(u)),Xe(i,n,parseFloat(l)),Xe(i,"alpha",void 0!==c?parseFloat(c):1),i}},$e=Ve(0,255),Je=Object.assign(Object.assign({},We),{transform:function(e){return Math.round($e(e))}}),Ze={test:Qe("rgb","red"),parse:Ye("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+Je.transform(t)+", "+Je.transform(n)+", "+Je.transform(r)+", "+Fe(Ke.transform(a))+")"}};var et={test:Qe("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Ze.transform},tt=function(e){return{test:function(t){return qe(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},nt=tt("deg"),rt=tt("%"),it=tt("px"),at=tt("vh"),ot=tt("vw"),st=Object.assign(Object.assign({},rt),{parse:function(e){return rt.parse(e)/100},transform:function(e){return rt.transform(100*e)}}),ut={test:Qe("hsl","hue"),parse:Ye("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+rt.transform(Fe(n))+", "+rt.transform(Fe(r))+", "+Fe(Ke.transform(a))+")"}};function lt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ct(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,l=2*r-u;a=lt(l,u,t+1/3),o=lt(l,u,t),s=lt(l,u,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}var ft=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},ht=[et,Ze,ut],dt=function(e){return ht.find((function(t){return t.test(e)}))},pt=function(e){return"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")},vt=function(e,t){var n=dt(e),r=dt(t);pt(e),pt(t);var i=n.parse(e),a=r.parse(t);n===ut&&(i=ct(i),n=Ze),r===ut&&(a=ct(a),r=Ze);var o=Object.assign({},i);return function(e){for(var t in o)"alpha"!==t&&(o[t]=ft(i[t],a[t],e));return o.alpha=we(i.alpha,a.alpha,e),n.transform(o)}};function mt(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yt={test:function(e){return Ze.test(e)||et.test(e)||ut.test(e)},parse:function(e){return Ze.test(e)?Ze.parse(e):ut.test(e)?ut.parse(e):et.parse(e)},transform:function(e){return qe(e)?e:e.hasOwnProperty("red")?Ze.transform(e):ut.transform(e)}},gt="${c}",kt="${n}";function bt(e){"number"===typeof e&&(e="".concat(e));var t=[],n=0,r=e.match(Be);r&&(n=r.length,e=e.replace(Be,gt),t.push.apply(t,mt(r.map(yt.parse))));var i=e.match(ze);return i&&(e=e.replace(ze,kt),t.push.apply(t,mt(i.map(We.parse)))),{values:t,numColors:n,tokenised:e}}function wt(e){return bt(e).values}function xt(e){var t=bt(e),n=t.values,r=t.numColors,i=t.tokenised,a=n.length;return function(e){for(var t=i,n=0;n<a;n++)t=t.replace(n<r?gt:kt,n<r?yt.transform(e[n]):Fe(e[n]));return t}}var Et=function(e){return"number"===typeof e?0:e};var _t={test:function(e){var t,n,r,i;return isNaN(e)&&qe(e)&&(null!==(n=null===(t=e.match(ze))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(Be))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:wt,createTransformer:xt,getAnimatableNone:function(e){var t=wt(e);return xt(e)(t.map(Et))}},St=function(e){return"number"===typeof e},Tt=function(e,t){return function(n){return t(e(n))}},Ct=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Tt)};function It(e,t){return St(e)?function(n){return we(e,t,n)}:yt.test(e)?vt(e,t):Rt(e,t)}var Nt=function(e,t){var n=mt(e),r=n.length,i=e.map((function(e,n){return It(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},At=function(e,t){var n=Object.assign(Object.assign({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=It(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function Pt(e){for(var t=_t.parse(e),n=t.length,r=0,i=0,a=0,o=0;o<n;o++)r||"number"===typeof t[o]?r++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}var Rt=function(e,t){var n=_t.createTransformer(t),r=Pt(e),i=Pt(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?Ct(Nt(r.parsed,i.parsed),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),function(n){return"".concat(n>0?t:e)})},Ot=function(e,t){return function(n){return we(e,t,n)}};function Lt(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?Ot:"string"===typeof e?yt.test(e)?vt:Rt:Array.isArray(e)?Nt:"object"===typeof e?At:void 0}(e[0]),a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var u=Array.isArray(t)?t[o]:t;s=Ct(u,s)}r.push(s)}return r}function Dt(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,1)[0];return function(e){return a(Ue(r,i,e))}}function Mt(e,t){var n=e.length,r=n-1;return function(i){var a=0,o=!1;if(i<=e[0]?o=!0:i>=e[r]&&(a=r-1,o=!0),!o){for(var s=1;s<n&&!(e[s]>i||s===r);s++);a=s-1}var u=Ue(e[a],e[a+1],i);return t[a](u)}}function jt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,s=e.length;t.length,!a||!Array.isArray(a)||a.length,e[0]>e[s-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var u=Lt(t,a,o),l=2===s?Dt(e,u):Mt(e,u);return i?function(t){return l(Ne(e[0],e[s-1],t))}:l}var Ut,Vt=function(e){return function(t){return 1-e(1-t)}},Ft=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},zt=function(e){return function(t){return t*t*((e+1)*t-e)}},Bt=function(e){return e},Ht=(Ut=2,function(e){return Math.pow(e,Ut)}),qt=Vt(Ht),Wt=Ft(Ht),Kt=function(e){return 1-Math.sin(Math.acos(e))},Gt=Vt(Kt),Xt=Ft(Gt),Qt=zt(1.525),Yt=Vt(Qt),$t=Ft(Qt),Jt=function(e){var t=zt(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),Zt=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},en=Vt(Zt);function tn(e,t){return e.map((function(){return t||Wt})).splice(0,e.length-1)}function nn(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.ease,o=e.offset,s=e.duration,u=void 0===s?300:s,l={done:!1,value:n},c=Array.isArray(i)?i:[n,i],f=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===c.length?o:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(c),u);function h(){return jt(f,c,{ease:Array.isArray(a)?a:tn(c,a)})}var d=h();return{next:function(e){return l.value=d(e),l.done=e>=u,l},flipTarget:function(){c.reverse(),d=h()}}}var rn={keyframes:nn,spring:Me,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,i=void 0===r?0:r,a=e.power,o=void 0===a?.8:a,s=e.timeConstant,u=void 0===s?350:s,l=e.restDelta,c=void 0===l?.5:l,f=e.modifyTarget,h={done:!1,value:i},d=o*n,p=i+d,v=void 0===f?p:f(p);return v!==p&&(d=v-i),{next:function(e){var t=-d*Math.exp(-e/u);return h.done=!(t>c||t<-c),h.value=h.done?v:v+t,h},flipTarget:function(){}}}};function an(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-t-n}var on=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return be.update(t,!0)},stop:function(){return pe.update(t)}}};function sn(e){var t,n,r,i,a,o=e.from,s=e.autoplay,u=void 0===s||s,l=e.driver,c=void 0===l?on:l,f=e.elapsed,h=void 0===f?0:f,d=e.repeat,p=void 0===d?0:d,v=e.repeatType,m=void 0===v?"loop":v,y=e.repeatDelay,g=void 0===y?0:y,k=e.onPlay,b=e.onStop,w=e.onComplete,x=e.onRepeat,E=e.onUpdate,_=A(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),S=_.to,T=0,C=_.duration,I=!1,N=!0,P=function(e){if(Array.isArray(e.to))return nn;if(rn[e.type])return rn[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?nn:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?Me:nn}(_);(null===(n=(t=P).needsInterpolation)||void 0===n?void 0:n.call(t,o,S))&&(a=jt([0,100],[o,S],{clamp:!1}),o=0,S=100);var R=P(Object.assign(Object.assign({},_),{from:o,to:S}));function O(){T++,"reverse"===m?h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+n:an(t+-e,t,n)}(h,C,g,N=T%2===0):(h=an(h,C,g),"mirror"===m&&R.flipTarget()),I=!1,x&&x()}function L(e){if(N||(e=-e),h+=e,!I){var t=R.next(Math.max(0,h));i=t.value,a&&(i=a(i)),I=N?t.done:h<=0}null===E||void 0===E||E(i),I&&(0===T&&(null!==C&&void 0!==C||(C=h)),T<p?function(e,t,n,r){return r?e>=t+n:e<=-n}(h,C,g,N)&&O():(r.stop(),w&&w()))}return u&&(null===k||void 0===k||k(),(r=c(L)).start()),{stop:function(){null===b||void 0===b||b(),r.stop()}}}var un=function(e){return 1e3*e},ln=function(e,t){return 1-3*t+3*e},cn=function(e,t){return 3*t-6*e},fn=function(e){return 3*e},hn=function(e,t,n){return((ln(t,n)*e+cn(t,n))*e+fn(t))*e},dn=function(e,t,n){return 3*ln(t,n)*e*e+2*cn(t,n)*e+fn(t)};var pn=.1;function vn(e,t,n,r){if(e===t&&n===r)return Bt;for(var i=new Float32Array(11),a=0;a<11;++a)i[a]=hn(a*pn,e,n);function o(t){for(var r=0,a=1;10!==a&&i[a]<=t;++a)r+=pn;--a;var o=r+(t-i[a])/(i[a+1]-i[a])*pn,s=dn(o,e,n);return s>=.001?function(e,t,n,r){for(var i=0;i<8;++i){var a=dn(t,n,r);if(0===a)return t;t-=(hn(t,n,r)-e)/a}return t}(t,o,e,n):0===s?o:function(e,t,n,r,i){var a,o,s=0;do{(a=hn(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,r,r+pn,e,n)}return function(e){return 0===e||1===e?e:hn(o(e),t,r)}}var mn={linear:Bt,easeIn:Ht,easeInOut:Wt,easeOut:qt,circIn:Kt,circInOut:Xt,circOut:Gt,backIn:Qt,backInOut:$t,backOut:Yt,anticipate:Jt,bounceIn:en,bounceInOut:function(e){return e<.5?.5*(1-Zt(1-2*e)):.5*Zt(2*e-1)+.5},bounceOut:Zt},yn=function(e){if(Array.isArray(e)){e.length;var t=R(e,4);return vn(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),mn[e]):e},gn=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!_t.test(t)||t.startsWith("url(")))},kn=function(e){return Array.isArray(e)},bn=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},wn=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},xn=function(){return{type:"keyframes",ease:"linear",duration:.3}},En=function(e){return{type:"keyframes",duration:.8,values:e}},_n={x:bn,y:bn,z:bn,rotate:bn,rotateX:bn,rotateY:bn,rotateZ:bn,scaleX:wn,scaleY:wn,scale:wn,opacity:xn,backgroundColor:xn,color:xn,default:wn},Sn=new Set(["brightness","contrast","saturate","opacity"]);function Tn(e){var t=s(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=s(r.match(ze)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=Sn.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var Cn=/([a-z-]*)\(.*?\)/g,In=Object.assign(Object.assign({},_t),{getAnimatableNone:function(e){var t=e.match(Cn);return t?t.map(Tn).join(" "):e}}),Nn=N(N({},We),{transform:Math.round}),An={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,size:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,rotate:nt,rotateX:nt,rotateY:nt,rotateZ:nt,scale:Ge,scaleX:Ge,scaleY:Ge,scaleZ:Ge,skew:nt,skewX:nt,skewY:nt,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:Ke,originX:st,originY:st,originZ:it,zIndex:Nn,fillOpacity:Ke,strokeOpacity:Ke,numOctaves:Nn},Pn=N(N({},An),{color:yt,backgroundColor:yt,outlineColor:yt,fill:yt,stroke:yt,borderColor:yt,borderTopColor:yt,borderRightColor:yt,borderBottomColor:yt,borderLeftColor:yt,filter:In,WebkitFilter:In}),Rn=function(e){return Pn[e]};function On(e,t){var n,r=Rn(e);return r!==In&&(r=_t),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var Ln=!1,Dn=function(e){return kn(e)?e[e.length-1]||0:e};function Mn(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,a=e.loop,o=A(e,["ease","times","yoyo","flip","loop"]),s=N({},o);return n&&(s.offset=n),o.duration&&(s.duration=un(o.duration)),o.repeatDelay&&(s.repeatDelay=un(o.repeatDelay)),t&&(s.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(t)?t.map(yn):yn(t)),"tween"===o.type&&(s.type="keyframes"),(r||a||i)&&(!0,r?s.repeatType="reverse":a?s.repeatType="loop":i&&(s.repeatType="mirror"),s.repeat=a||r||i||o.repeat),"spring"!==o.type&&(s.type="keyframes"),s}function jn(e,t,n){var r;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=O([],R(e.to),!1),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=A(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=N(N({},e),function(e,t){var n;return n=kn(t)?En:_n[e]||_n.default,N({to:t},n(t))}(n,t.to))),N(N({},t),Mn(e))}function Un(e,t,n,r,i){var a,o=zn(r,e),s=null!==(a=o.from)&&void 0!==a?a:t.get(),u=gn(e,n);"none"===s&&u&&"string"===typeof n?s=On(e,n):Vn(s)&&"string"===typeof n?s=Fn(n):!Array.isArray(n)&&Vn(n)&&"string"===typeof s&&(n=Fn(s));var l=gn(e,s);return"You are trying to animate ".concat(e,' from "').concat(s,'" to "').concat(n,'". ').concat(s," is not an animatable value - to enable this animation set ").concat(s," to a value animatable to ").concat(n," via the `style` property."),l&&u&&!1!==o.type?function(){var r={from:s,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===o.type||"decay"===o.type?function(e){var t,n=e.from,r=void 0===n?0:n,i=e.velocity,a=void 0===i?0:i,o=e.min,s=e.max,u=e.power,l=void 0===u?.8:u,c=e.timeConstant,f=void 0===c?750:c,h=e.bounceStiffness,d=void 0===h?500:h,p=e.bounceDamping,v=void 0===p?10:p,m=e.restDelta,y=void 0===m?1:m,g=e.modifyTarget,k=e.driver,b=e.onUpdate,w=e.onComplete,x=e.onStop;function E(e){return void 0!==o&&e<o||void 0!==s&&e>s}function _(e){return void 0===o?s:void 0===s||Math.abs(o-e)<Math.abs(s-e)?o:s}function S(e){null===t||void 0===t||t.stop(),t=sn(Object.assign(Object.assign({},e),{driver:k,onUpdate:function(t){var n;null===b||void 0===b||b(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:w,onStop:x}))}function T(e){S(Object.assign({type:"spring",stiffness:d,damping:v,restDelta:y},e))}if(E(r))T({from:r,velocity:a,to:_(r)});else{var C=l*a+r;"undefined"!==typeof g&&(C=g(C));var I,N,A=_(C),P=A===o?-1:1;S({type:"decay",from:r,velocity:a,timeConstant:f,power:l,restDelta:y,modifyTarget:g,onUpdate:E(C)?function(e){I=N,N=e,a=xe(e-I,ke().delta),(1===P&&e>A||-1===P&&e<A)&&T({from:e,to:A,velocity:a})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(N(N({},r),o)):sn(N(N({},jn(o,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=o.onUpdate)||void 0===t||t.call(o,e)},onComplete:function(){var e;r.onComplete(),null===(e=o.onComplete)||void 0===e||e.call(o)}}))}:function(){var e,r,a=Dn(n);return t.set(a),i(),null===(e=null===o||void 0===o?void 0:o.onUpdate)||void 0===e||e.call(o,a),null===(r=null===o||void 0===o?void 0:o.onComplete)||void 0===r||r.call(o),{stop:function(){}}}}function Vn(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function Fn(e){return"number"===typeof e?0:On("",e)}function zn(e,t){return e[t]||e.default||e}function Bn(e,t,n,r){return void 0===r&&(r={}),Ln&&(r={type:!1}),t.start((function(i){var a,o,s=Un(e,t,n,r,i),u=function(e,t){var n,r;return null!==(r=null!==(n=(zn(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}(r,e),l=function(){return o=s()};return u?a=window.setTimeout(l,un(u)):l(),function(){clearTimeout(a),null===o||void 0===o||o.stop()}}))}var Hn=["TopLeft","TopRight","BottomLeft","BottomRight"],qn=Hn.length,Wn=function(e){return"string"===typeof e?parseFloat(e):e},Kn=function(e){return"number"===typeof e||it.test(e)};function Gn(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var Xn=Yn(0,.5,Gt),Qn=Yn(.5,.95,Bt);function Yn(e,t,n){return function(r){return r<e?0:r>t?1:n(Ue(e,t,r))}}function $n(e,t){e.min=t.min,e.max=t.max}function Jn(e,t){$n(e.x,t.x),$n(e.y,t.y)}function Zn(e){return void 0===e||1===e}function er(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!Zn(t)||!Zn(n)||!Zn(r)}function tr(e){return er(e)||nr(e.x)||nr(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function nr(e){return e&&"0%"!==e}function rr(e,t,n){return n+t*(e-n)}function ir(e,t,n,r,i){return void 0!==i&&(e=rr(e,i,r)),rr(e,n,r)+t}function ar(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),e.min=ir(e.min,t,n,r,i),e.max=ir(e.max,t,n,r,i)}function or(e,t){var n=t.x,r=t.y;ar(e.x,n.translate,n.scale,n.originPoint),ar(e.y,r.translate,r.scale,r.originPoint)}function sr(e,t){e.min=e.min+t,e.max=e.max+t}function ur(e,t,n){var r=R(n,3),i=r[0],a=r[1],o=r[2],s=void 0!==t[o]?t[o]:.5,u=we(e.min,e.max,s);ar(e,t[i],t[a],u,t.scale)}var lr=["x","scaleX","originX"],cr=["y","scaleY","originY"];function fr(e,t){ur(e.x,t,lr),ur(e.y,t,cr)}var hr=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},dr=function(e){return hr(e)&&e.hasOwnProperty("z")},pr=function(e,t){return Math.abs(e-t)};function vr(e,t){if(St(e)&&St(t))return pr(e,t);if(hr(e)&&hr(t)){var n=pr(e.x,t.x),r=pr(e.y,t.y),i=dr(e)&&dr(t)?pr(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}function mr(e){return e.max-e.min}function yr(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),vr(e,t)<n}function gr(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=we(t.min,t.max,e.origin),e.scale=mr(n)/mr(t),(yr(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=we(n.min,n.max,e.origin)-e.originPoint,(yr(e.translate)||isNaN(e.translate))&&(e.translate=0)}function kr(e,t,n,r){gr(e.x,t.x,n.x,null===r||void 0===r?void 0:r.originX),gr(e.y,t.y,n.y,null===r||void 0===r?void 0:r.originY)}function br(e,t,n){e.min=n.min+t.min,e.max=e.min+mr(t)}function wr(e,t,n){e.min=t.min-n.min,e.max=e.min+mr(t)}function xr(e,t,n){wr(e.x,t.x,n.x),wr(e.y,t.y,n.y)}function Er(e,t,n,r,i){return e=rr(e-=t,1/n,r),void 0!==i&&(e=rr(e,1/i,r)),e}function _r(e,t,n,r,i){var a=R(n,3),o=a[0],s=a[1],u=a[2];!function(e,t,n,r,i,a,o){if(void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===a&&(a=e),void 0===o&&(o=e),rt.test(t)&&(t=parseFloat(t),t=we(o.min,o.max,t/100)-o.min),"number"===typeof t){var s=we(a.min,a.max,r);e===a&&(s-=t),e.min=Er(e.min,t,n,s,i),e.max=Er(e.max,t,n,s,i)}}(e,t[o],t[s],t[u],t.scale,r,i)}var Sr=["x","scaleX","originX"],Tr=["y","scaleY","originY"];function Cr(e,t,n,r){_r(e.x,t,Sr,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),_r(e.y,t,Tr,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function Ir(e){return 0===e.translate&&1===e.scale}function Nr(e){return Ir(e.x)&&Ir(e.y)}function Ar(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var Pr=function(){function e(){this.members=[]}return e.prototype.add=function(e){Ee(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(_e(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach((function(e){var t,n,r,i,a;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(a=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===a||a.call(i)}))},e.prototype.scheduleRender=function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),Rr={};function Or(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,a="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(n){var o=n.rotate,s=n.rotateX,u=n.rotateY;o&&(a+="rotate(".concat(o,"deg) ")),s&&(a+="rotateX(".concat(s,"deg) ")),u&&(a+="rotateY(".concat(u,"deg) "))}return"translate3d(0px, 0px, 0) scale(1, 1)"===(a+="scale(".concat(e.x.scale,", ").concat(e.y.scale,")"))?"none":a}function Lr(e){return[e("x"),e("y")]}var Dr=["","X","Y","Z"],Mr=["transformPerspective","x","y","z"];function jr(e,t){return Mr.indexOf(e)-Mr.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return Dr.forEach((function(t){return Mr.push(e+t)}))}));var Ur=new Set(Mr);function Vr(e){return Ur.has(e)}var Fr=new Set(["originX","originY","originZ"]);function zr(e){return Fr.has(e)}var Br=function(e,t){return e.depth-t.depth},Hr=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){Ee(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){_e(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(Br),this.isDirty=!1,this.children.forEach(e)},e}();function qr(e){var t=Ie(e)?e.get():e;return function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}var Wr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kr(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.resetTransform;return function(){function e(e,t,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=null===n||void 0===n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){i.isUpdating&&(i.isUpdating=!1,i.clearAllSnapshots())},this.updateProjection=function(){i.nodes.forEach(Zr),i.nodes.forEach(ei)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?O(O([],R(r.path),!1),[r],!1):[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new Hr)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Se),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.eventHandlers.get(e);null===r||void 0===r||r.notify.apply(r,O([],R(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,n){var r,i=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var a=this.options,o=a.layoutId,s=a.layout,u=a.visualElement;if(u&&!u.getInstance()&&u.mount(e),this.root.nodes.add(this),null===(r=this.parent)||void 0===r||r.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(s||o)&&(this.isLayoutDirty=!0),t){var l,c=function(){return i.root.updateBlockedByResize=!1};t(e,(function(){i.root.updateBlockedByResize=!0,clearTimeout(l),l=window.setTimeout(c,250),Wr.hasAnimatedSinceResize&&(Wr.hasAnimatedSinceResize=!1,i.nodes.forEach(Jr))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&u&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t,n,r,a,o,s=e.delta,l=e.hasLayoutChanged,c=e.hasRelativeTargetChanged,f=e.layout;if(i.isTreeAnimationBlocked())return i.target=void 0,void(i.relativeTarget=void 0);var h=null!==(n=null!==(t=i.options.transition)&&void 0!==t?t:u.getDefaultTransition())&&void 0!==n?n:oi,d=u.getProps(),p=d.onLayoutAnimationStart,v=d.onLayoutAnimationComplete,m=!i.targetLayout||!Ar(i.targetLayout,f)||c,y=!l&&c;if((null===(r=i.resumeFrom)||void 0===r?void 0:r.instance)||y||l&&(m||!i.currentAnimation)){i.resumeFrom&&(i.resumingFrom=i.resumeFrom,i.resumingFrom.resumingFrom=void 0),i.setAnimationOrigin(s,y);var g=N(N({},zn(h,"layout")),{onPlay:p,onComplete:v});u.shouldReduceMotion&&(g.delay=0,g.type=!1),i.startAnimation(g)}else l||0!==i.animationProgress||i.finishAnimation(),i.isLead()&&(null===(o=(a=i.options).onExitComplete)||void 0===o||o.call(a));i.targetLayout=f}))}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,pe.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(ti))},e.prototype.willUpdate=function(e){var t,n,r;if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var a=this.path[i];a.shouldResetTransform=!0,a.updateScroll()}var o=this.options,s=o.layoutId,u=o.layout;if(void 0!==s||u){var l=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null===l||void 0===l?void 0:l(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Yr);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(si),this.potentialNodes.clear()),this.nodes.forEach($r),this.nodes.forEach(Gr),this.nodes.forEach(Xr),this.clearAllSnapshots(),ve.update(),ve.preRender(),ve.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(Qr),this.sharedNodes.forEach(ni)},e.prototype.scheduleUpdateProjection=function(){be.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;be.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));li(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var n=this.measure();li(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null===r||void 0===r?void 0:r.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=r(this.instance))},e.prototype.resetTransform=function(){var e;if(i){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!Nr(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,a=null===r||void 0===r?void 0:r(this.latestValues,""),o=a!==this.prevTransformTemplateValue;t&&(n||tr(this.latestValues)||o)&&(i(this.instance,a),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(sr(t.x,n.x),sr(t.y,n.y)),t},e.prototype.removeElementScroll=function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};Jn(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options;r!==this.root&&i&&a.layoutScroll&&(sr(t.x,i.x),sr(t.y,i.y))}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n={x:{min:0,max:0},y:{min:0,max:0}};Jn(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fr(n,{x:-i.scroll.x,y:-i.scroll.y}),tr(i.latestValues)&&fr(n,i.latestValues)}return tr(this.latestValues)&&fr(n,this.latestValues),n},e.prototype.removeTransform=function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};Jn(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&tr(i.latestValues)){er(i.latestValues)&&i.updateSnapshot();var a={x:{min:0,max:0},y:{min:0,max:0}};Jn(a,i.measure()),Cr(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,a)}}return tr(this.latestValues)&&Cr(n,this.latestValues),n},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=N(N(N({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,n,r,i=this.options,a=i.layout,o=i.layoutId;this.layout&&(a||o)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xr(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),Jn(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,n=this.relativeTarget,r=this.relativeParent.target,br(t.x,n.x,r.x),br(t.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):Jn(this.target,this.layout.actual),or(this.target,this.targetDelta)):Jn(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xr(this.relativeTargetOrigin,this.target,this.relativeParent.target),Jn(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(this.parent&&!tr(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();Jn(this.layoutCorrected,this.layout.actual),function(e,t,n,r){var i,a;void 0===r&&(r=!1);var o=n.length;if(o){var s,u;t.x=t.y=1;for(var l=0;l<o;l++)u=(s=n[l]).projectionDelta,"contents"!==(null===(a=null===(i=s.instance)||void 0===i?void 0:i.style)||void 0===a?void 0:a.display)&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&fr(e,{x:-s.scroll.x,y:-s.scroll.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,or(e,u)),r&&tr(s.latestValues)&&fr(e,s.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var a=i.target;if(a){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var o=this.treeScale.x,s=this.treeScale.y,u=this.projectionTransform;kr(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.projectionTransform=Or(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===o&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var n,r=this;void 0===t&&(t=!1);var i=this.snapshot,a=(null===i||void 0===i?void 0:i.latestValues)||{},o=N({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var u={x:{min:0,max:0},y:{min:0,max:0}},l=null===i||void 0===i?void 0:i.isShared,c=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,f=Boolean(l&&!c&&!0===this.options.crossfade&&!this.path.some(ai));this.animationProgress=0,this.mixTargetDelta=function(t){var n,i=t/1e3;ri(s.x,e.x,i),ri(s.y,e.y,i),r.setTargetDelta(s),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(n=r.relativeParent)||void 0===n?void 0:n.layout)&&(xr(u,r.layout.actual,r.relativeParent.layout.actual),function(e,t,n,r){ii(e.x,t.x,n.x,r),ii(e.y,t.y,n.y,r)}(r.relativeTarget,r.relativeTargetOrigin,u,i)),l&&(r.animationValues=o,function(e,t,n,r,i,a){var o,s,u,l;i?(e.opacity=we(0,null!==(o=n.opacity)&&void 0!==o?o:1,Xn(r)),e.opacityExit=we(null!==(s=t.opacity)&&void 0!==s?s:1,0,Qn(r))):a&&(e.opacity=we(null!==(u=t.opacity)&&void 0!==u?u:1,null!==(l=n.opacity)&&void 0!==l?l:1,r));for(var c=0;c<qn;c++){var f="border".concat(Hn[c],"Radius"),h=Gn(t,f),d=Gn(n,f);void 0===h&&void 0===d||(h||(h=0),d||(d=0),0===h||0===d||Kn(h)===Kn(d)?(e[f]=Math.max(we(Wn(h),Wn(d),r),0),(rt.test(d)||rt.test(h))&&(e[f]+="%")):e[f]=d)}(t.rotate||n.rotate)&&(e.rotate=we(t.rotate||0,n.rotate||0,r))}(o,a,r.latestValues,i,f,c)),r.root.scheduleUpdateProjection(),r.scheduleRender(),r.animationProgress=i},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,n,r=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(pe.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update((function(){Wr.hasAnimatedSinceResize=!0,r.currentAnimation=function(e,t,n){void 0===n&&(n={});var r=Ie(e)?e:Ce(e);return Bn("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,1e3,N(N({},e),{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;t&&n&&r&&(Jn(t,n),fr(t,i),kr(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))},e.prototype.registerSharedNode=function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new Pr),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,i=t.preserveFollowOpacity,a=this.getStack();a&&a.promote(this,i),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<Dr.length;r++){var i="rotate"+Dr[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null===e||void 0===e||e.syncRender(),n)e.setStaticValue(i,n[i]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){var t,n,r,i,a,o;void 0===e&&(e={});var s={};if(!this.instance||this.isSVG)return s;if(!this.isVisible)return{visibility:"hidden"};s.visibility="";var u=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=qr(e.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none",s;var l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){var c={};return this.options.layoutId&&(c.opacity=null!==(n=this.latestValues.opacity)&&void 0!==n?n:1,c.pointerEvents=qr(e.pointerEvents)||""),this.hasProjected&&!tr(this.latestValues)&&(c.transform=u?u({},""):"none",this.hasProjected=!1),c}var f=l.animationValues||l.latestValues;this.applyTransformsToTarget(),s.transform=Or(this.projectionDeltaWithTransform,this.treeScale,f),u&&(s.transform=u(f,s.transform));var h=this.projectionDelta,d=h.x,p=h.y;for(var v in s.transformOrigin="".concat(100*d.origin,"% ").concat(100*p.origin,"% 0"),l.animationValues?s.opacity=l===this?null!==(i=null!==(r=f.opacity)&&void 0!==r?r:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=l===this?null!==(a=f.opacity)&&void 0!==a?a:"":null!==(o=f.opacityExit)&&void 0!==o?o:0,Rr)if(void 0!==f[v]){var m=Rr[v],y=m.correct,g=m.applyTo,k=y(f[v],l);if(g)for(var b=g.length,w=0;w<b;w++)s[g[w]]=k;else s[v]=k}return this.options.layoutId&&(s.pointerEvents=l===this?qr(e.pointerEvents)||"":"none"),s},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Yr),this.root.sharedNodes.clear()},e}()}function Gr(e){e.updateLayout()}function Xr(e){var t,n,r,i,a=null!==(n=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==n?n:e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){var o=e.layout,s=o.actual,u=o.measured;"size"===e.options.animationType?Lr((function(e){var t=a.isShared?a.measured[e]:a.layout[e],n=mr(t);t.min=s[e].min,t.max=t.min+n})):"position"===e.options.animationType&&Lr((function(e){var t=a.isShared?a.measured[e]:a.layout[e],n=mr(s[e]);t.max=t.min+n}));var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};kr(l,s,a.layout);var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a.isShared?kr(c,e.applyTransform(u,!0),a.measured):kr(c,s,a.layout);var f=!Nr(l),h=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var d=e.relativeParent,p=d.snapshot,v=d.layout;if(p&&v){var m={x:{min:0,max:0},y:{min:0,max:0}};xr(m,a.layout,p.layout);var y={x:{min:0,max:0},y:{min:0,max:0}};xr(y,s,v.actual),Ar(m,y)||(h=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:a,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else e.isLead()&&(null===(i=(r=e.options).onExitComplete)||void 0===i||i.call(r));e.options.transition=void 0}function Qr(e){e.clearSnapshot()}function Yr(e){e.clearMeasurements()}function $r(e){var t=e.options.visualElement;(null===t||void 0===t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function Jr(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function Zr(e){e.resolveTargetDelta()}function ei(e){e.calcProjection()}function ti(e){e.resetRotation()}function ni(e){e.removeLeadSnapshot()}function ri(e,t,n){e.translate=we(t.translate,0,n),e.scale=we(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ii(e,t,n,r){e.min=we(t.min,n.min,r),e.max=we(t.max,n.max,r)}function ai(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var oi={duration:.45,ease:[.4,0,.1,1]};function si(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function ui(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function li(e){ui(e.x),ui(e.y)}var ci=1;var fi=(0,u.createContext)({}),hi=(0,u.createContext)({});var di=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)},t.prototype.render=function(){return this.props.children},t}(u.Component);function pi(e){var t=e.preloadedFeatures,n=e.createVisualElement,r=e.projectionNodeConstructor,i=e.useRender,a=e.useVisualState,o=e.Component;return t&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?D.projectionNodeConstructor=e[t]:D[t].Component=e[t])}(t),(0,u.forwardRef)((function(e,t){var s=function(e){var t,n=e.layoutId,r=null===(t=(0,u.useContext)(fi))||void 0===t?void 0:t.id;return r&&void 0!==n?r+"-"+n:n}(e);e=N(N({},e),{layoutId:s});var l=(0,u.useContext)(V),c=null,f=te(e),h=l.isStatic?void 0:re((function(){if(Wr.hasEverUpdated)return ci++})),d=a(e,l.isStatic);return!l.isStatic&&B&&(f.visualElement=G(o,d,N(N({},l),e),n),function(e,t,n,r){var i,a=t.layoutId,o=t.layout,s=t.drag,l=t.dragConstraints,c=t.layoutScroll,f=(0,u.useContext)(hi);r&&n&&!(null===n||void 0===n?void 0:n.projection)&&(n.projection=new r(e,n.getLatestValues(),null===(i=n.parent)||void 0===i?void 0:i.projection),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:Boolean(s)||l&&X(l),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:"string"===typeof o?o:"both",initialPromotionConfig:f,layoutScroll:c}))}(h,e,f.visualElement,r||D.projectionNodeConstructor),c=function(e,t,n){var r=[];if((0,u.useContext)(M),!t)return null;for(var i=0;i<U;i++){var a=j[i],o=D[a],s=o.isEnabled,l=o.Component;s(e)&&l&&r.push(u.createElement(l,N({key:a},e,{visualElement:t})))}return r}(e,f.visualElement)),u.createElement(di,{visualElement:f.visualElement,props:N(N({},l),e)},c,u.createElement(F.Provider,{value:f},i(o,e,h,function(e,t,n){return(0,u.useCallback)((function(r){var i;r&&(null===(i=e.mount)||void 0===i||i.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):X(n)&&(n.current=r))}),[t])}(d,f.visualElement,t),d,l.isStatic,f.visualElement)))}))}function vi(e){function t(t,n){return void 0===n&&(n={}),pi(e(t,n))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var mi=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function yi(e){return"string"===typeof e&&!e.includes("-")&&!!(mi.indexOf(e)>-1||/[A-Z]/.test(e))}function gi(e,t){var n=t.layout,r=t.layoutId;return Vr(e)||zr(e)||(n||void 0!==r)&&(!!Rr[e]||"opacity"===e)}var ki={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function bi(e){return e.startsWith("--")}var wi=function(e,t){return t&&"number"===typeof e?t.transform(e):e};function xi(e,t,n,r){var i,a=e.style,o=e.vars,s=e.transform,u=e.transformKeys,l=e.transformOrigin;u.length=0;var c=!1,f=!1,h=!0;for(var d in t){var p=t[d];if(bi(d))o[d]=p;else{var v=An[d],m=wi(p,v);if(Vr(d)){if(c=!0,s[d]=m,u.push(d),!h)continue;p!==(null!==(i=v.default)&&void 0!==i?i:0)&&(h=!1)}else zr(d)?(l[d]=m,f=!0):a[d]=m}}c?a.transform=function(e,t,n,r){var i=e.transform,a=e.transformKeys,o=t.enableHardwareAcceleration,s=void 0===o||o,u=t.allowTransformNone,l=void 0===u||u,c="";a.sort(jr);for(var f=!1,h=a.length,d=0;d<h;d++){var p=a[d];c+="".concat(ki[p]||p,"(").concat(i[p],") "),"z"===p&&(f=!0)}return!f&&s?c+="translateZ(0)":c=c.trim(),r?c=r(i,n?"":c):l&&n&&(c="none"),c}(e,n,h,r):r?a.transform=r({},""):!t.transform&&a.transform&&(a.transform="none"),f&&(a.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,i=void 0===r?"50%":r,a=e.originZ,o=void 0===a?0:a;return"".concat(n," ").concat(i," ").concat(o)}(l))}var Ei=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function _i(e,t,n){for(var r in t)Ie(t[r])||gi(r,n)||(e[r]=t[r])}function Si(e,t,n){var r={};return _i(r,e.style||{},e),Object.assign(r,function(e,t,n){var r=e.transformTemplate;return(0,u.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};xi(e,t,{enableHardwareAcceleration:!n},r);var i=e.style;return N(N({},e.vars),i)}),[t])}(e,t,n)),e.transformValues&&(r=e.transformValues(r)),r}function Ti(e,t,n){var r={},i=Si(e,t,n);return Boolean(e.drag)&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),r.style=i,r}var Ci=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function Ii(e){return Ci.has(e)}var Ni,Ai=function(e){return!Ii(e)};try{(Ni=require("@emotion/is-prop-valid").default)&&(Ai=function(e){return e.startsWith("on")?!Ii(e):Ni(e)})}catch(CE){}function Pi(e,t,n){return"string"===typeof e?e:it.transform(t+n*e)}var Ri={offset:"stroke-dashoffset",array:"stroke-dasharray"},Oi={offset:"strokeDashoffset",array:"strokeDasharray"};function Li(e,t,n,r){var i=t.attrX,a=t.attrY,o=t.originX,s=t.originY,u=t.pathLength,l=t.pathSpacing,c=void 0===l?1:l,f=t.pathOffset,h=void 0===f?0:f;xi(e,A(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var d=e.attrs,p=e.style,v=e.dimensions;d.transform&&(v&&(p.transform=d.transform),delete d.transform),v&&(void 0!==o||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){var r=Pi(t,e.x,e.width),i=Pi(n,e.y,e.height);return"".concat(r," ").concat(i)}(v,void 0!==o?o:.5,void 0!==s?s:.5)),void 0!==i&&(d.x=i),void 0!==a&&(d.y=a),void 0!==u&&function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=!0),e.pathLength=1;var a=i?Ri:Oi;e[a.offset]=it.transform(-r);var o=it.transform(t),s=it.transform(n);e[a.array]="".concat(o," ").concat(s)}(d,u,c,h,!1)}var Di=function(){return N(N({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function Mi(e,t){var n=(0,u.useMemo)((function(){var n=Di();return Li(n,t,{enableHardwareAcceleration:!1},e.transformTemplate),N(N({},n.attrs),{style:N({},n.style)})}),[t]);if(e.style){var r={};_i(r,e.style,e),n.style=N(N({},r),n.style)}return n}function ji(e){void 0===e&&(e=!1);return function(t,n,r,i,a,o){var s=a.latestValues,l=(yi(t)?Mi:Ti)(n,s,o),c=function(e,t,n){var r={};for(var i in e)(Ai(i)||!0===n&&Ii(i)||!t&&!Ii(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),f=N(N(N({},c),l),{ref:i});return r&&(f["data-projection-id"]=r),(0,u.createElement)(t,f)}}var Ui=/([a-z])([A-Z])/g,Vi=function(e){return e.replace(Ui,"$1-$2").toLowerCase()};function Fi(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var zi=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function Bi(e,t,n,r){for(var i in Fi(e,t,void 0,r),t.attrs)e.setAttribute(zi.has(i)?i:Vi(i),t.attrs[i])}function Hi(e){var t=e.style,n={};for(var r in t)(Ie(t[r])||gi(r,e))&&(n[r]=t[r]);return n}function qi(e){var t=Hi(e);for(var n in e){if(Ie(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function Wi(e){return"object"===typeof e&&"function"===typeof e.start}function Ki(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:Xi(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}var Gi=function(e){return function(t,n){var r=(0,u.useContext)(F),i=(0,u.useContext)(z);return n?Ki(e,t,r,i):re((function(){return Ki(e,t,r,i)}))}};function Xi(e,t,n,r){var i={},a=!1===(null===n||void 0===n?void 0:n.initial),o=r(e);for(var s in o)i[s]=qr(o[s]);var u=e.initial,l=e.animate,c=Z(e),f=ee(e);t&&f&&!c&&!1!==e.inherit&&(null!==u&&void 0!==u||(u=t.initial),null!==l&&void 0!==l||(l=t.animate));var h=a||!1===u,d=h?l:u;d&&"boolean"!==typeof d&&!Wi(d)&&(Array.isArray(d)?d:[d]).forEach((function(t){var n=$(e,t);if(n){var r=n.transitionEnd;n.transition;var a=A(n,["transitionEnd","transition"]);for(var o in a){var s=a[o];if(Array.isArray(s))s=s[h?s.length-1:0];null!==s&&(i[o]=s)}for(var o in r)i[o]=r[o]}}));return i}var Qi,Yi={useVisualState:Gi({scrapeMotionValuesFromProps:qi,createRenderState:Di,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(a){r.dimensions={x:0,y:0,width:0,height:0}}Li(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),Bi(t,r)}})},$i={useVisualState:Gi({scrapeMotionValuesFromProps:Hi,createRenderState:Ei})};function Ji(e,t,n,r){return void 0===r&&(r={passive:!0}),e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function Zi(e,t,n,r){(0,u.useEffect)((function(){var i=e.current;if(n&&i)return Ji(i,t,n,r)}),[e,t,n,r])}function ea(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function ta(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(Qi||(Qi={}));var na={pageX:0,pageY:0};function ra(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||na;return{x:n[t+"X"],y:n[t+"Y"]}}function ia(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function aa(e,t){return void 0===t&&(t="page"),{point:ta(e)?ra(e,t):ia(e,t)}}var oa=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,aa(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},sa={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},ua={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function la(e){return B&&null===window.onpointerdown?e:B&&null===window.ontouchstart?ua[e]:B&&null===window.onmousedown?sa[e]:e}function ca(e,t,n,r){return Ji(e,la(t),oa(n,"pointerdown"===t),r)}function fa(e,t,n,r){return Zi(e,la(t),n&&oa(n,"pointerdown"===t),r)}function ha(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var da=ha("dragHorizontal"),pa=ha("dragVertical");function va(e){var t=!1;if("y"===e)t=pa();else if("x"===e)t=da();else{var n=da(),r=pa();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function ma(){var e=va(!0);return!e||(e(),!1)}function ya(e,t,n){return function(r,i){var a;ea(r)&&!ma()&&(null===(a=e.animationState)||void 0===a||a.setActive(Qi.Hover,t),null===n||void 0===n||n(r,i))}}var ga=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function ka(e){return(0,u.useEffect)((function(){return function(){return e()}}),[])}new Set;var ba=new WeakMap,wa=new WeakMap,xa=function(e){var t;null===(t=ba.get(e.target))||void 0===t||t(e)},Ea=function(e){e.forEach(xa)};function _a(e,t,n){var r=function(e){var t=e.root,n=A(e,["root"]),r=t||document;wa.has(r)||wa.set(r,{});var i=wa.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(Ea,N({root:t},n))),i[a]}(t);return ba.set(e,n),r.observe(e),function(){ba.delete(e),r.unobserve(e)}}var Sa={some:0,all:1};function Ta(e,t,n,r){var i=r.root,a=r.margin,o=r.amount,s=void 0===o?"some":o,l=r.once;(0,u.useEffect)((function(){if(e){var r={root:null===i||void 0===i?void 0:i.current,rootMargin:a,threshold:"number"===typeof s?s:Sa[s]};return _a(n.getInstance(),r,(function(e){var r,i=e.isIntersecting;if(t.isInView!==i&&(t.isInView=i,!l||i||!t.hasEnteredView)){i&&(t.hasEnteredView=!0),null===(r=n.animationState)||void 0===r||r.setActive(Qi.InView,i);var a=n.getProps(),o=i?a.onViewportEnter:a.onViewportLeave;null===o||void 0===o||o(e)}}))}}),[e,i,a,s])}function Ca(e,t,n,r){var i=r.fallback,a=void 0===i||i;(0,u.useEffect)((function(){e&&a&&requestAnimationFrame((function(){var e;t.hasEnteredView=!0;var r=n.getProps().onViewportEnter;null===r||void 0===r||r(null),null===(e=n.animationState)||void 0===e||e.setActive(Qi.InView,!0)}))}),[e])}var Ia=function(e){return function(t){return e(t),null}},Na={inView:Ia((function(e){var t=e.visualElement,n=e.whileInView,r=e.onViewportEnter,i=e.onViewportLeave,a=e.viewport,o=void 0===a?{}:a,s=(0,u.useRef)({hasEnteredView:!1,isInView:!1}),l=Boolean(n||r||i);o.once&&s.current.hasEnteredView&&(l=!1),("undefined"===typeof IntersectionObserver?Ca:Ta)(l,s.current,t,o)})),tap:Ia((function(e){var t=e.onTap,n=e.onTapStart,r=e.onTapCancel,i=e.whileTap,a=e.visualElement,o=t||n||r||i,s=(0,u.useRef)(!1),l=(0,u.useRef)(null),c={passive:!(n||t||r||v)};function f(){var e;null===(e=l.current)||void 0===e||e.call(l),l.current=null}function h(){var e;return f(),s.current=!1,null===(e=a.animationState)||void 0===e||e.setActive(Qi.Tap,!1),!ma()}function d(e,n){h()&&(ga(a.getInstance(),e.target)?null===t||void 0===t||t(e,n):null===r||void 0===r||r(e,n))}function p(e,t){h()&&(null===r||void 0===r||r(e,t))}function v(e,t){var r;f(),s.current||(s.current=!0,l.current=Ct(ca(window,"pointerup",d,c),ca(window,"pointercancel",p,c)),null===(r=a.animationState)||void 0===r||r.setActive(Qi.Tap,!0),null===n||void 0===n||n(e,t))}fa(a,"pointerdown",o?v:void 0,c),ka(f)})),focus:Ia((function(e){var t=e.whileFocus,n=e.visualElement;Zi(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(Qi.Focus,!0)}:void 0),Zi(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(Qi.Focus,!1)}:void 0)})),hover:Ia((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;fa(i,"pointerenter",t||r?ya(i,!0,t):void 0,{passive:!t}),fa(i,"pointerleave",n||r?ya(i,!1,n):void 0,{passive:!n})}))},Aa=0,Pa=function(){return Aa++},Ra=function(){return re(Pa)};function Oa(){var e=(0,u.useContext)(z);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,i=Ra();(0,u.useEffect)((function(){return r(i)}),[]);return!t&&n?[!1,function(){return null===n||void 0===n?void 0:n(i)}]:[!0]}function La(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var Da=function(e){return/^\-?\d*\.?\d+$/.test(e)},Ma=function(e){return/^0[^.\s]+$/.test(e)},ja=function(e){return function(t){return t.test(e)}},Ua=[We,it,rt,nt,ot,at,{test:function(e){return"auto"===e},parse:function(e){return e}}],Va=function(e){return Ua.find(ja(e))},Fa=O(O([],R(Ua),!1),[yt,_t],!1),za=function(e){return Fa.find(ja(e))};function Ba(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ce(n))}function Ha(e,t){var n=J(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i;r.transition;var o=A(r,["transitionEnd","transition"]);for(var s in o=N(N({},o),a)){Ba(e,s,Dn(o[s]))}}function qa(e,t){if(t)return(t[e]||t.default||t).from}function Wa(e,t,n){var r;void 0===n&&(n={});var i=J(e,t,n.custom),a=(i||{}).transition,o=void 0===a?e.getDefaultTransition()||{}:a;n.transitionOverride&&(o=n.transitionOverride);var s=i?function(){return Ka(e,i,n)}:function(){return Promise.resolve()},u=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var i=o.delayChildren,a=void 0===i?0:i,s=o.staggerChildren,u=o.staggerDirection;return function(e,t,n,r,i,a){void 0===n&&(n=0);void 0===r&&(r=0);void 0===i&&(i=1);var o=[],s=(e.variantChildren.size-1)*r,u=1===i?function(e){return void 0===e&&(e=0),e*r}:function(e){return void 0===e&&(e=0),s-e*r};return Array.from(e.variantChildren).sort(Ga).forEach((function(e,r){o.push(Wa(e,t,N(N({},a),{delay:n+u(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(o)}(e,t,a+r,s,u,n)}:function(){return Promise.resolve()},l=o.when;if(l){var c=R("beforeChildren"===l?[s,u]:[u,s],2),f=c[0],h=c[1];return f().then(h)}return Promise.all([s(),u(n.delay)])}function Ka(e,t,n){var r,i=void 0===n?{}:n,a=i.delay,o=void 0===a?0:a,s=i.transitionOverride,u=i.type,l=e.makeTargetAnimatable(t),c=l.transition,f=void 0===c?e.getDefaultTransition():c,h=l.transitionEnd,d=A(l,["transition","transitionEnd"]);s&&(f=s);var p=[],v=u&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[u]);for(var m in d){var y=e.getValue(m),g=d[m];if(!(!y||void 0===g||v&&Xa(v,m))){var k=N({delay:o},f);e.shouldReduceMotion&&Vr(m)&&(k=N(N({},k),{type:!1,delay:0}));var b=Bn(m,y,g,k);p.push(b)}}return Promise.all(p).then((function(){h&&Ha(e,h)}))}function Ga(e,t){return e.sortNodePosition(t)}function Xa(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var Qa=[Qi.Animate,Qi.InView,Qi.Focus,Qi.Hover,Qi.Tap,Qi.Drag,Qi.Exit],Ya=O([],R(Qa),!1).reverse(),$a=Qa.length;function Ja(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(t),Array.isArray(t)){var i=t.map((function(t){return Wa(e,t,n)}));r=Promise.all(i)}else if("string"===typeof t)r=Wa(e,t,n);else{var a="function"===typeof t?J(e,t,n.custom):t;r=Ka(e,a,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}function Za(e){var t=Ja(e),n=function(){var e;return(e={})[Qi.Animate]=eo(!0),e[Qi.InView]=eo(),e[Qi.Hover]=eo(),e[Qi.Tap]=eo(),e[Qi.Drag]=eo(),e[Qi.Focus]=eo(),e[Qi.Exit]=eo(),e}(),r={},i=!0,a=function(t,n){var r=J(e,n);if(r){r.transition;var i=r.transitionEnd,a=A(r,["transition","transitionEnd"]);t=N(N(N({},t),a),i)}return t};function o(o,s){for(var u,l=e.getProps(),c=e.getVariantContext(!0)||{},f=[],h=new Set,d={},p=1/0,v=function(t){var r=Ya[t],v=n[r],m=null!==(u=l[r])&&void 0!==u?u:c[r],y=Y(m),g=r===s?v.isActive:null;!1===g&&(p=t);var k=m===c[r]&&m!==l[r]&&y;if(k&&i&&e.manuallyAnimateOnMount&&(k=!1),v.protectedKeys=N({},d),!v.isActive&&null===g||!m&&!v.prevProp||Wi(m)||"boolean"===typeof m)return"continue";var b=function(e,t){if("string"===typeof t)return t!==e;if(Q(t))return!La(t,e);return!1}(v.prevProp,m),w=b||r===s&&v.isActive&&!k&&y||t>p&&y,x=Array.isArray(m)?m:[m],E=x.reduce(a,{});!1===g&&(E={});var _=v.prevResolvedValues,S=void 0===_?{}:_,T=N(N({},S),E),C=function(e){w=!0,h.delete(e),v.needsAnimating[e]=!0};for(var I in T){var A=E[I],P=S[I];d.hasOwnProperty(I)||(A!==P?kn(A)&&kn(P)?!La(A,P)||b?C(I):v.protectedKeys[I]=!0:void 0!==A?C(I):h.add(I):void 0!==A&&h.has(I)?C(I):v.protectedKeys[I]=!0)}v.prevProp=m,v.prevResolvedValues=E,v.isActive&&(d=N(N({},d),E)),i&&e.blockInitialAnimation&&(w=!1),w&&!k&&f.push.apply(f,O([],R(x.map((function(e){return{animation:e,options:N({type:r},o)}}))),!1))},m=0;m<$a;m++)v(m);if(r=N({},d),h.size){var y={};h.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(y[t]=n)})),f.push({animation:y})}var g=Boolean(f.length);return i&&!1===l.initial&&!e.manuallyAnimateOnMount&&(g=!1),i=!1,g?t(f):Promise.resolve()}return{isAnimated:function(e){return void 0!==r[e]},animateChanges:o,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=o(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function eo(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var to={animation:Ia((function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=Za(t)),Wi(n)&&(0,u.useEffect)((function(){return n.subscribe(t)}),[n])})),exit:Ia((function(e){var t=e.custom,n=e.visualElement,r=R(Oa(),2),i=r[0],a=r[1],o=(0,u.useContext)(z);(0,u.useEffect)((function(){var e,r;n.isPresent=i;var s=null===(e=n.animationState)||void 0===e?void 0:e.setActive(Qi.Exit,!i,{custom:null!==(r=null===o||void 0===o?void 0:o.custom)&&void 0!==r?r:t});!i&&(null===s||void 0===s||s.then(a))}),[i])}))},no=function(){function e(e,t,n){var r=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=ao(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=vr(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=ke().timestamp;r.history.push(N(N({},i),{timestamp:a}));var o=r.handlers,s=o.onStart,u=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=ro(t,r.transformPagePoint),ea(e)&&0===e.buttons?r.handlePointerUp(e,t):be.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=ao(ro(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)},!(ta(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var a=ro(aa(e),this.transformPagePoint),o=a.point,s=ke().timestamp;this.history=[N(N({},o),{timestamp:s})];var u=t.onSessionStart;u&&u(e,ao(a,this.history)),this.removeListeners=Ct(ca(window,"pointermove",this.handlePointerMove),ca(window,"pointerup",this.handlePointerUp),ca(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),pe.update(this.updatePoint)},e}();function ro(e,t){return t?{point:t(e.point)}:e}function io(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ao(e,t){var n=e.point;return{point:n,delta:io(n,so(t)),offset:io(n,oo(t)),velocity:uo(t,.1)}}function oo(e){return e[0]}function so(e){return e[e.length-1]}function uo(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=so(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>un(t)));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function lo(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function co(e,t){var n,r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=R([i,r],2))[0],i=n[1]),{min:r,max:i}}var fo=.35;function ho(e,t,n){return{min:po(e,t),max:po(e,n)}}function po(e,t){var n;return"number"===typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function vo(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function mo(e,t){return vo(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var yo=new WeakMap,go=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor,i=void 0!==r&&r;if(!1!==this.visualElement.isPresent){this.panSession=new no(e,{onSessionStart:function(e){n.stopAnimation(),i&&n.snapToCursor(aa(e,"page").point)},onStart:function(e,t){var r,i=n.getProps(),a=i.drag,o=i.dragPropagation,s=i.onDragStart;(!a||o||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=va(a),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),Lr((function(e){var t,r,i=n.getAxisMotionValue(e).get()||0;if(rt.test(i)){var a=null===(r=null===(t=n.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===r?void 0:r.actual[e];if(a)i=mr(a)*(parseFloat(i)/100)}n.originPoint[e]=i})),null===s||void 0===s||s(e,t),null===(r=n.visualElement.animationState)||void 0===r||r.setActive(Qi.Drag,!0))},onMove:function(e,t){var r=n.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(i||n.openGlobalLock){var u=t.offset;if(a&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(u),void(null!==n.currentDirection&&(null===o||void 0===o||o(n.currentDirection)));n.updateAxis("x",t.point,u),n.updateAxis("y",t.point,u),n.visualElement.syncRender(),null===s||void 0===s||s(e,t)}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null===i||void 0===i||i(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(Qi.Drag,!1)},e.prototype.updateAxis=function(e,t,n){var r=this.getProps().drag;if(n&&ko(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?we(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?we(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}},e.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&X(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:lo(e.x,r,a),y:lo(e.y,n,i)}}(i.actual,n),this.elastic=function(e){return void 0===e&&(e=fo),!1===e?e=0:!0===e&&(e=fo),{x:ho(e,"left","right"),y:ho(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Lr((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.actual[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!X(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=mo(e,n),i=t.scroll;return i&&(sr(r.x,i.x),sr(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:co(e.x,t.x),y:co(e.y,t.y)}}(i.layout.actual,a);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=vo(s))}return o},e.prototype.startAnimation=function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,l=this.constraints||{},c=Lr((function(n){var u;if(ko(n,r,t.currentDirection)){var c=null!==(u=null===l||void 0===l?void 0:l[n])&&void 0!==u?u:{};s&&(c={min:0,max:0});var f=a?200:1e6,h=a?40:1e7,d=N(N({type:"inertia",velocity:i?e[n]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},o),c);return t.startAxisValueAnimation(n,d)}}));return Promise.all(c).then(u)},e.prototype.startAxisValueAnimation=function(e,t){return Bn(e,this.getAxisMotionValue(e),0,t)},e.prototype.stopAnimation=function(){var e=this;Lr((function(t){return e.getAxisMotionValue(t).stop()}))},e.prototype.getAxisMotionValue=function(e){var t,n,r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)},e.prototype.snapToCursor=function(e){var t=this;Lr((function(n){if(ko(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.actual[n],o=a.min,s=a.max;i.set(e[n]-we(o,s,.5))}}}))},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,a=this.visualElement.projection;if(X(i)&&a&&this.constraints){this.stopAnimation();var o={x:0,y:0};Lr((function(e){var n=t.getAxisMotionValue(e);if(n){var r=n.get();o[e]=function(e,t){var n=.5,r=mr(e),i=mr(t);return i>r?n=Ue(t.min,t.max-r,e.min):r>i&&(n=Ue(e.min,e.max-i,t.min)),Ne(0,1,n)}({min:r,max:r},t.constraints[e])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(e=a.root)||void 0===e||e.updateScroll(),a.updateLayout(),this.resolveConstraints(),Lr((function(e){if(ko(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],a=i.min,s=i.max;n.set(we(a,s,o[e]))}}))}},e.prototype.addListeners=function(){var e,t=this;yo.set(this.visualElement,this);var n=ca(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){X(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,a=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var o=Ji(window,"resize",(function(){return t.scalePositionWithinConstraints()}));return i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(Lr((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())})),function(){o(),n(),a()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,u=void 0!==s&&s,l=e.dragElastic,c=void 0===l?fo:l,f=e.dragMomentum,h=void 0===f||f;return N(N({},e),{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:h})},e}();function ko(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var bo={pan:Ia((function(e){var t=e.onPan,n=e.onPanStart,r=e.onPanEnd,i=e.onPanSessionStart,a=e.visualElement,o=t||n||r||i,s=(0,u.useRef)(null),l=(0,u.useContext)(V).transformPagePoint,c={onSessionStart:i,onStart:n,onMove:t,onEnd:function(e,t){s.current=null,r&&r(e,t)}};(0,u.useEffect)((function(){null!==s.current&&s.current.updateHandlers(c)})),fa(a,"pointerdown",o&&function(e){s.current=new no(e,c,{transformPagePoint:l})}),ka((function(){return s.current&&s.current.end()}))})),drag:Ia((function(e){var t=e.dragControls,n=e.visualElement,r=re((function(){return new go(n)}));(0,u.useEffect)((function(){return t&&t.subscribe(r)}),[r,t]),(0,u.useEffect)((function(){return r.addListeners()}),[r])}))},wo=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];var xo=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,i=e.getBaseTarget,a=e.makeTargetAnimatable,o=e.measureViewportBox,s=e.render,u=e.readValueFromInstance,l=e.removeValueFromRenderState,c=e.sortNodePosition,f=e.scrapeMotionValuesFromProps;return function(e,t){var h=e.parent,d=e.props,p=e.presenceId,v=e.blockInitialAnimation,m=e.visualState,y=e.shouldReduceMotion;void 0===t&&(t={});var g,k,b=!1,w=m.latestValues,x=m.renderState,E=function(){var e=wo.map((function(){return new Se})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){wo.forEach((function(r){var i,a="on"+r,o=e[a];null===(i=t[r])||void 0===i||i.call(t),o&&(t[r]=n[a](o))}))}};return e.forEach((function(e,t){n["on"+wo[t]]=function(t){return e.add(t)},n["notify"+wo[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,O([],R(t),!1))}})),n}(),_=new Map,S=new Map,T={},C=N({},w);function I(){g&&b&&(A(),s(g,x,d.style,F.projection))}function A(){r(F,x,w,t,d)}function P(){E.notifyUpdate(w)}function L(e,t){var n=t.onChange((function(t){w[e]=t,d.onUpdate&&be.update(P,!1,!0)})),r=t.onRenderRequest(F.scheduleRender);S.set(e,(function(){n(),r()}))}var D=f(d);for(var M in D){var j=D[M];void 0!==w[M]&&Ie(j)&&j.set(w[M],!1)}var U=Z(d),V=ee(d),F=N(N({treeType:n,current:null,depth:h?h.depth+1:0,parent:h,children:new Set,presenceId:p,shouldReduceMotion:y,variantChildren:V?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===h||void 0===h?void 0:h.isMounted()),blockInitialAnimation:v,isMounted:function(){return Boolean(g)},mount:function(e){b=!0,g=F.current=e,F.projection&&F.projection.mount(e),V&&h&&!U&&(k=null===h||void 0===h?void 0:h.addVariantChild(F)),_.forEach((function(e,t){return L(t,e)})),null===h||void 0===h||h.children.add(F),F.setProps(d)},unmount:function(){var e;null===(e=F.projection)||void 0===e||e.unmount(),pe.update(P),pe.render(I),S.forEach((function(e){return e()})),null===k||void 0===k||k(),null===h||void 0===h||h.children.delete(F),E.clearAllListeners(),g=void 0,b=!1},addVariantChild:function(e){var t,n=F.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return c&&n===e.treeType?c(F.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return V?F:null===h||void 0===h?void 0:h.getClosestVariantNode()},getLayoutId:function(){return d.layoutId},getInstance:function(){return g},getStaticValue:function(e){return w[e]},setStaticValue:function(e,t){return w[e]=t},getLatestValues:function(){return w},setVisibility:function(e){F.isVisible!==e&&(F.isVisible=e,F.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),a(F,e,d,t)},measureViewportBox:function(){return o(g,d)},addValue:function(e,t){F.hasValue(e)&&F.removeValue(e),_.set(e,t),w[e]=t.get(),L(e,t)},removeValue:function(e){var t;_.delete(e),null===(t=S.get(e))||void 0===t||t(),S.delete(e),delete w[e],l(e,x)},hasValue:function(e){return _.has(e)},getValue:function(e,t){var n=_.get(e);return void 0===n&&void 0!==t&&(n=Ce(t),F.addValue(e,n)),n},forEachValue:function(e){return _.forEach(e)},readValue:function(e){var n;return null!==(n=w[e])&&void 0!==n?n:u(g,e,t)},setBaseTarget:function(e,t){C[e]=t},getBaseTarget:function(e){if(i){var t=i(d,e);if(void 0!==t&&!Ie(t))return t}return C[e]}},E),{build:function(){return A(),x},scheduleRender:function(){be.render(I,!1,!0)},syncRender:I,setProps:function(e){(e.transformTemplate||d.transformTemplate)&&F.scheduleRender(),d=e,E.updatePropListeners(e),T=function(e,t,n){var r;for(var i in t){var a=t[i],o=n[i];if(Ie(a))e.addValue(i,a);else if(Ie(o))e.addValue(i,Ce(a));else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else e.addValue(i,Ce(null!==(r=e.getStaticValue(i))&&void 0!==r?r:a))}for(var i in n)void 0===t[i]&&e.removeValue(i);return t}(F,f(d),T)},getProps:function(){return d},getVariant:function(e){var t;return null===(t=d.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return d.transition},getTransformPagePoint:function(){return d.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null===h||void 0===h?void 0:h.getVariantContext();if(!U){var t=(null===h||void 0===h?void 0:h.getVariantContext())||{};return void 0!==d.initial&&(t.initial=d.initial),t}for(var n={},r=0;r<_o;r++){var i=Eo[r],a=d[i];(Y(a)||!1===a)&&(n[i]=a)}return n}});return F}},Eo=O(["initial"],R(Qa),!1),_o=Eo.length;function So(e){return"string"===typeof e&&e.startsWith("var(--")}var To=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Co(e,t,n){void 0===n&&(n=1),'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=R(function(e){var t=To.exec(e);if(!t)return[,];var n=R(t,3);return[n[1],n[2]]}(e),2),i=r[0],a=r[1];if(i){var o=window.getComputedStyle(t).getPropertyValue(i);return o?o.trim():So(a)?Co(a,t,n+1):a}}var Io,No=new Set(["width","height","top","left","right","bottom","x","y"]),Ao=function(e){return No.has(e)},Po=function(e,t){e.set(t,!1),e.set(t)},Ro=function(e){return e===We||e===it};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Io||(Io={}));var Oo=function(e,t){return parseFloat(e.split(", ")[t])},Lo=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return Oo(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?Oo(o[1],e):0}},Do=new Set(["x","y","z"]),Mo=Mr.filter((function(e){return!Do.has(e)}));var jo={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:Lo(4,13),y:Lo(5,14)},Uo=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=N({},t),r=N({},r);var i=Object.keys(t).filter(Ao),a=[],o=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var l,c=n[i],f=Va(c),h=t[i];if(kn(h)){var d=h.length,p=null===h[0]?1:0;c=h[p],f=Va(c);for(var v=p;v<d;v++)l?Va(h[v]):(l=Va(h[v]))===f||Ro(f)&&Ro(l)}else l=Va(h);if(f!==l)if(Ro(f)&&Ro(l)){var m=u.get();"string"===typeof m&&u.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&l===it&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===l||void 0===l?void 0:l.transform)&&(0===c||0===h)?0===c?u.set(l.transform(c)):t[i]=f.transform(h):(o||(a=function(e){var t=[];return Mo.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],Po(u,h))}})),s.length){var u=s.indexOf("height")>=0?window.pageYOffset:null,l=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=jo[e](r,a)})),t.syncRender();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);Po(r,s[n]),e[n]=jo[n](u,a)})),e}(t,e,s);return a.length&&a.forEach((function(t){var n=R(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),null!==u&&window.scrollTo({top:u}),{target:l,transitionEnd:r}}return{target:t,transitionEnd:r}};function Vo(e,t,n,r){return function(e){return Object.keys(e).some(Ao)}(t)?Uo(e,t,n,r):{target:t,transitionEnd:r}}var Fo=function(e,t,n,r){var i=function(e,t,n){var r,i=A(t,[]),a=e.getInstance();if(!(a instanceof Element))return{target:i,transitionEnd:n};for(var o in n&&(n=N({},n)),e.forEachValue((function(e){var t=e.get();if(So(t)){var n=Co(t,a);n&&e.set(n)}})),i){var s=i[o];if(So(s)){var u=Co(s,a);u&&(i[o]=u,n&&(null!==(r=n[o])&&void 0!==r||(n[o]=s)))}}return{target:i,transitionEnd:n}}(e,t,r);return Vo(e,t=i.target,n,r=i.transitionEnd)};var zo={treeType:"dom",readValueFromInstance:function(e,t){if(Vr(t)){var n=Rn(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r));return(bi(t)?i.getPropertyValue(t):i[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return mo(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var i=n.transformValues;void 0===r&&(r=!0);var a=t.transition,o=t.transitionEnd,s=A(t,["transition","transitionEnd"]),u=function(e,t,n){var r,i,a={};for(var o in e)a[o]=null!==(r=qa(o,t))&&void 0!==r?r:null===(i=n.getValue(o))||void 0===i?void 0:i.get();return a}(s,a||{},e);if(i&&(o&&(o=i(o)),s&&(s=i(s)),u&&(u=i(u))),r){!function(e,t,n){var r,i,a,o,s=Object.keys(t).filter((function(t){return!e.hasValue(t)})),u=s.length;if(u)for(var l=0;l<u;l++){var c=s[l],f=t[c],h=null;Array.isArray(f)&&(h=f[0]),null===h&&(h=null!==(i=null!==(r=n[c])&&void 0!==r?r:e.readValue(c))&&void 0!==i?i:t[c]),void 0!==h&&null!==h&&("string"===typeof h&&(Da(h)||Ma(h))?h=parseFloat(h):!za(h)&&_t.test(f)&&(h=On(c,f)),e.addValue(c,Ce(h)),null!==(a=(o=n)[c])&&void 0!==a||(o[c]=h),e.setBaseTarget(c,h))}}(e,s,u);var l=Fo(e,s,u,o);o=l.transitionEnd,s=l.target}return N({transition:a,transitionEnd:o},s)},scrapeMotionValuesFromProps:Hi,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),xi(t,n,r,i.transformTemplate)},render:Fi},Bo=xo(zo),Ho=xo(N(N({},zo),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return Vr(t)?(null===(n=Rn(t))||void 0===n?void 0:n.default)||0:(t=zi.has(t)?t:Vi(t),e.getAttribute(t))},scrapeMotionValuesFromProps:qi,build:function(e,t,n,r,i){Li(t,n,r,i.transformTemplate)},render:Bi})),qo=function(e,t){return yi(e)?Ho(t,{enableHardwareAcceleration:!1}):Bo(t,{enableHardwareAcceleration:!0})};function Wo(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Ko={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!it.test(e))return e;e=parseFloat(e)}var n=Wo(e,t.target.x),r=Wo(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Go="_$css",Xo={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=e.includes("var("),o=[];a&&(e=e.replace(To,(function(e){return o.push(e),Go})));var s=_t.parse(e);if(s.length>5)return i;var u=_t.createTransformer(e),l="number"!==typeof s[0]?1:0,c=r.x.scale*n.x,f=r.y.scale*n.y;s[0+l]/=c,s[1+l]/=f;var h=we(c,f,.5);"number"===typeof s[2+l]&&(s[2+l]/=h),"number"===typeof s[3+l]&&(s[3+l]/=h);var d=u(s);if(a){var p=0;d=d.replace(Go,(function(){var e=o[p];return p++,e}))}return d}},Qo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t.prototype.componentDidMount=function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=Yo,Object.assign(Rr,e),s&&((null===i||void 0===i?void 0:i.group)&&i.group.add(s),(null===a||void 0===a?void 0:a.register)&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(N(N({},s.options),{onExitComplete:function(){return t.safeToRemove()}}))),Wr.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||be.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(i),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(i))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null===e||void 0===e||e()},t.prototype.render=function(){return null},t}(u.Component);var Yo={borderRadius:N(N({},Ko),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Ko,borderTopRightRadius:Ko,borderBottomLeftRadius:Ko,borderBottomRightRadius:Ko,boxShadow:Xo},$o={measureLayout:function(e){var t=R(Oa(),2),n=t[0],r=t[1],i=(0,u.useContext)(fi);return u.createElement(Qo,N({},e,{layoutGroup:i,switchLayoutGroup:(0,u.useContext)(hi),isPresent:n,safeToRemove:r}))}},Jo=Kr({attachResizeListener:function(e,t){return Ji(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),Zo={current:void 0},es=Kr({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!Zo.current){var e=new Jo(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Zo.current=e}return Zo.current},resetTransform:function(e,t){e.style.transform=null!==t&&void 0!==t?t:"none"}}),ts=N(N(N(N({},to),Na),bo),$o),ns=vi((function(e,t){return function(e,t,n,r,i){var a=t.forwardMotionProps,o=void 0!==a&&a,s=yi(e)?Yi:$i;return N(N({},s),{preloadedFeatures:n,useRender:ji(o),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,ts,qo,es)}));function rs(e){return rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rs(e)}function is(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rs(e)););return e}function as(){return as="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=is(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},as.apply(this,arguments)}function os(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ss(e,t){return ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ss(e,t)}function us(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ss(e,t)}function ls(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function cs(t,n){if(n&&("object"===e(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return os(t)}function fs(e){var t=ls();return function(){var n,r=rs(e);if(t){var i=rs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cs(this,n)}}function hs(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function ds(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ps(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vs(e,t,n){return t&&ps(e.prototype,t),n&&ps(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ms(e,t,n){return ms=ls()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ss(i,n.prototype),i},ms.apply(null,arguments)}function ys(e){var t="function"===typeof Map?new Map:void 0;return ys=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ms(e,arguments,rs(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ss(n,e)},ys(e)}var gs=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ks={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gs(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},bs=function(e){return function(e){var t=gs(e);return ks.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ws=function(e){try{return ks.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var xs=function(){function e(){var t=this;ds(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return vs(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Es(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _s(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Es())}function Ss(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ts(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Cs(){var e=Es();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}var Is=function(e){us(n,e);var t=fs(n);function n(e,r,i){var a;return ds(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(os(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(os(a),Ns.prototype.create),a}return vs(n)}(ys(Error)),Ns=function(){function e(t,n,r){ds(this,e),this.service=t,this.serviceName=n,this.errors=r}return vs(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?As(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Is(n,a,t);return o}}]),e}();function As(e,t){return e.replace(Ps,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ps=/\{\$([^}]+)}/g;function Rs(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Os(s)&&Os(u)){if(!Rs(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function Os(e){return null!==e&&"object"===typeof e}function Ls(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ds(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ms(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var js=function(){function e(t,n){var r=this;ds(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return vs(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=hs(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Us),void 0===r.error&&(r.error=Us),void 0===r.complete&&(r.complete=Us);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Us(){}function Vs(e){return e&&e._delegate?e._delegate:e}var Fs=function(){function e(t,n,r){ds(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return vs(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),zs="[DEFAULT]",Bs=function(){function e(t,n){ds(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return vs(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new xs;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch(l){}var t,n=hs(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zs;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=i(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(mt(n.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),mt(n.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zs;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zs;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=hs(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),l=u[0],c=u[1],f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=hs(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(CE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===zs?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(CE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zs;return this.component?this.component.multipleInstances?e:zs:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Hs,qs,Ws=function(){function e(t){ds(this,e),this.name=t,this.providers=new Map}return vs(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Bs(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ks=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(qs||(qs={}));var Gs={debug:qs.DEBUG,verbose:qs.VERBOSE,info:qs.INFO,warn:qs.WARN,error:qs.ERROR,silent:qs.SILENT},Xs=qs.INFO,Qs=(Xe(Hs={},qs.DEBUG,"log"),Xe(Hs,qs.VERBOSE,"log"),Xe(Hs,qs.INFO,"info"),Xe(Hs,qs.WARN,"warn"),Xe(Hs,qs.ERROR,"error"),Hs),Ys=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Qs[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},$s=function(){function e(t){ds(this,e),this.name=t,this._logLevel=Xs,this._logHandler=Ys,this._userLogHandler=null,Ks.push(this)}return vs(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in qs))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Gs[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qs.DEBUG].concat(t)),this._logHandler.apply(this,[this,qs.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qs.VERBOSE].concat(t)),this._logHandler.apply(this,[this,qs.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qs.INFO].concat(t)),this._logHandler.apply(this,[this,qs.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qs.WARN].concat(t)),this._logHandler.apply(this,[this,qs.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qs.ERROR].concat(t)),this._logHandler.apply(this,[this,qs.ERROR].concat(t))}}]),e}();function Js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Js(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eu,tu;var nu=new WeakMap,ru=new WeakMap,iu=new WeakMap,au=new WeakMap,ou=new WeakMap;var su={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ru.get(e);if("objectStoreNames"===t)return e.objectStoreNames||iu.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cu(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function uu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(tu||(tu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(fu(this),n),cu(nu.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cu(e.apply(fu(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[fu(this),t].concat(r));return iu.set(a,t.sort?t.sort():[t]),cu(a)}}function lu(e){return"function"===typeof e?uu(e):(e instanceof IDBTransaction&&function(e){if(!ru.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ru.set(e,t)}}(e),t=e,(eu||(eu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,su):e);var t}function cu(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(cu(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&nu.set(t,e)})).catch((function(){})),ou.set(t,e),t}(e);if(au.has(e))return au.get(e);var t=lu(e);return t!==e&&(au.set(e,t),ou.set(t,e)),t}var fu=function(e){return ou.get(e)};var hu,du,pu=["get","getKey","getAll","getAllKeys","count"],vu=["put","add","delete","clear"],mu=new Map;function yu(e,n){if(e instanceof IDBDatabase&&!(n in e)&&"string"===typeof n){if(mu.get(n))return mu.get(n);var r=n.replace(/FromIndex$/,""),a=n!==r,o=vu.includes(r);if(r in(a?IDBIndex:IDBObjectStore).prototype&&(o||pu.includes(r))){var s=function(){var e=i(t().mark((function e(n){var i,s,u,l,c,f,h=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(n,o?"readwrite":"readonly"),u=s.store,l=h.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=h[f];return a&&(u=u.index(c.shift())),e.next=6,Promise.all([(i=u)[r].apply(i,c),o&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return mu.set(n,s),s}}}su=function(e){return Zs(Zs({},e),{},{get:function(t,n,r){return yu(t,n)||e.get(t,n,r)},has:function(t,n){return!!yu(t,n)||e.has(t,n)}})}(su);var gu=function(){function e(t){ds(this,e),this.container=t}return vs(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ku="@firebase/app",bu="0.7.25",wu=new $s("@firebase/app"),xu="[DEFAULT]",Eu=(Xe(hu={},ku,"fire-core"),Xe(hu,"@firebase/app-compat","fire-core-compat"),Xe(hu,"@firebase/analytics","fire-analytics"),Xe(hu,"@firebase/analytics-compat","fire-analytics-compat"),Xe(hu,"@firebase/app-check","fire-app-check"),Xe(hu,"@firebase/app-check-compat","fire-app-check-compat"),Xe(hu,"@firebase/auth","fire-auth"),Xe(hu,"@firebase/auth-compat","fire-auth-compat"),Xe(hu,"@firebase/database","fire-rtdb"),Xe(hu,"@firebase/database-compat","fire-rtdb-compat"),Xe(hu,"@firebase/functions","fire-fn"),Xe(hu,"@firebase/functions-compat","fire-fn-compat"),Xe(hu,"@firebase/installations","fire-iid"),Xe(hu,"@firebase/installations-compat","fire-iid-compat"),Xe(hu,"@firebase/messaging","fire-fcm"),Xe(hu,"@firebase/messaging-compat","fire-fcm-compat"),Xe(hu,"@firebase/performance","fire-perf"),Xe(hu,"@firebase/performance-compat","fire-perf-compat"),Xe(hu,"@firebase/remote-config","fire-rc"),Xe(hu,"@firebase/remote-config-compat","fire-rc-compat"),Xe(hu,"@firebase/storage","fire-gcs"),Xe(hu,"@firebase/storage-compat","fire-gcs-compat"),Xe(hu,"@firebase/firestore","fire-fst"),Xe(hu,"@firebase/firestore-compat","fire-fst-compat"),Xe(hu,"fire-js","fire-js"),Xe(hu,"firebase","fire-js-all"),hu),_u=new Map,Su=new Map;function Tu(e,t){try{e.container.addComponent(t)}catch(n){wu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Cu(e){var t=e.name;if(Su.has(t))return wu.debug("There were multiple attempts to register component ".concat(t,".")),!1;Su.set(t,e);var n,r=hs(_u.values());try{for(r.s();!(n=r.n()).done;){Tu(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Iu(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Nu=(Xe(du={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Xe(du,"bad-app-name","Illegal App name: '{$appName}"),Xe(du,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Xe(du,"app-deleted","Firebase App named '{$appName}' already deleted"),Xe(du,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Xe(du,"invalid-log-argument","First argument to `onLog` must be null or a function."),Xe(du,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Xe(du,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Xe(du,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Xe(du,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),du),Au=new Ns("app","Firebase",Nu),Pu=function(){function e(t,n,r){var i=this;ds(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fs("app",(function(){return i}),"PUBLIC"))}return vs(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Au.create("app-deleted",{appName:this._name})}}]),e}(),Ru="9.8.2";function Ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu,t=_u.get(e);if(!t)throw Au.create("no-app",{appName:e});return t}function Lu(e,t,n){var r,i=null!==(r=Eu[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void wu.warn(s.join(" "))}Cu(new Fs("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Du="firebase-heartbeat-store",Mu=null;function ju(){return Mu||(Mu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=cu(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(cu(s.result),e.oldVersion,e.newVersion,cu(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Du)}}).catch((function(e){throw Au.create("storage-open",{originalErrorMessage:e.message})}))),Mu}function Uu(e){return Vu.apply(this,arguments)}function Vu(){return Vu=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ju();case 3:return r=e.sent,e.abrupt("return",r.transaction(Du).objectStore(Du).get(Bu(n)));case 7:throw e.prev=7,e.t0=e.catch(0),Au.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Vu.apply(this,arguments)}function Fu(e,t){return zu.apply(this,arguments)}function zu(){return zu=i(t().mark((function e(n,r){var i,a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ju();case 3:return i=e.sent,a=i.transaction(Du,"readwrite"),o=a.objectStore(Du),e.next=8,o.put(r,Bu(n));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),Au.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),zu.apply(this,arguments)}function Bu(e){return"".concat(e.name,"!").concat(e.options.appId)}var Hu=function(){function e(t){var n=this;ds(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Xu(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return vs(e,[{key:"triggerHeartbeat",value:function(){var e=i(t().mark((function e(){var n,r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.container.getProvider("platform-logger").getImmediate(),r=n.getPlatformInfoString(),i=qu(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===i}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:i,agent:r});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=i(t().mark((function e(){var n,r,i,a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=qu(),r=Wu(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,o=bs(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function qu(){return(new Date).toISOString().substring(0,10)}function Wu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=hs(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Qu(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Qu(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ku,Gu,Xu=function(){function e(t){ds(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return vs(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=i(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Uu(this.app);case 9:return n=e.sent,e.abrupt("return",n||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=i(t().mark((function e(n){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",Fu(this.app,{lastSentHeartbeatDate:null!==(r=n.lastSentHeartbeatDate)&&void 0!==r?r:i.lastSentHeartbeatDate,heartbeats:n.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=i(t().mark((function e(n){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",Fu(this.app,{lastSentHeartbeatDate:null!==(r=n.lastSentHeartbeatDate)&&void 0!==r?r:i.lastSentHeartbeatDate,heartbeats:[].concat(mt(i.heartbeats),mt(n.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Qu(e){return bs(JSON.stringify({version:2,heartbeats:e})).length}Ku="",Cu(new Fs("platform-logger",(function(e){return new gu(e)}),"PRIVATE")),Cu(new Fs("heartbeat",(function(e){return new Hu(e)}),"PRIVATE")),Lu(ku,bu,Ku),Lu(ku,bu,"esm2017"),Lu("fire-js","");function Yu(){return Xe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var $u=Yu,Ju=new Ns("auth","Firebase",Yu()),Zu=new $s("@firebase/auth");function el(e){if(Zu.logLevel<=qs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zu.error.apply(Zu,["Auth (".concat(Ru,"): ").concat(e)].concat(n))}}function tl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw al.apply(void 0,[e].concat(n))}function nl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return al.apply(void 0,[e].concat(n))}function rl(e,t,n){var r=Object.assign(Object.assign({},$u()),Xe({},t,n));return new Ns("auth","Firebase",r).create(t,{appName:e.name})}function il(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&tl(e,"argument-error"),rl(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function al(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=mt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(mt(o)))}return Ju.create.apply(Ju,[e].concat(n))}function ol(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw al.apply(void 0,[t].concat(r))}}function sl(e){var t="INTERNAL ASSERTION FAILED: "+e;throw el(t),new Error(t)}function ul(e,t){e||sl(t)}var ll=new Map;function cl(e){ul(e instanceof Function,"Expected a class definition");var t=ll.get(e);return t?(ul(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ll.set(e,t),t)}function fl(e,t){var n=Iu(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Rs(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;tl(r,"already-initialized")}return n.initialize({options:t})}function hl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function dl(){return"http:"===pl()||"https:"===pl()}function pl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var vl=function(){function e(t,n){ds(this,e),this.shortDelay=t,this.longDelay=n,ul(n>t,"Short delay should be less than long delay!"),this.isMobile=_s()||Ts()}return vs(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(dl()||Ss()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ml(e,t){ul(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var yl=function(){function e(){ds(this,e)}return vs(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void sl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void sl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void sl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),gl=(Xe(Gu={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Xe(Gu,"MISSING_CUSTOM_TOKEN","internal-error"),Xe(Gu,"INVALID_IDENTIFIER","invalid-email"),Xe(Gu,"MISSING_CONTINUE_URI","internal-error"),Xe(Gu,"INVALID_PASSWORD","wrong-password"),Xe(Gu,"MISSING_PASSWORD","internal-error"),Xe(Gu,"EMAIL_EXISTS","email-already-in-use"),Xe(Gu,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Xe(Gu,"INVALID_IDP_RESPONSE","invalid-credential"),Xe(Gu,"INVALID_PENDING_TOKEN","invalid-credential"),Xe(Gu,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Xe(Gu,"MISSING_REQ_TYPE","internal-error"),Xe(Gu,"EMAIL_NOT_FOUND","user-not-found"),Xe(Gu,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Xe(Gu,"EXPIRED_OOB_CODE","expired-action-code"),Xe(Gu,"INVALID_OOB_CODE","invalid-action-code"),Xe(Gu,"MISSING_OOB_CODE","internal-error"),Xe(Gu,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Xe(Gu,"INVALID_ID_TOKEN","invalid-user-token"),Xe(Gu,"TOKEN_EXPIRED","user-token-expired"),Xe(Gu,"USER_NOT_FOUND","user-token-expired"),Xe(Gu,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Xe(Gu,"INVALID_CODE","invalid-verification-code"),Xe(Gu,"INVALID_SESSION_INFO","invalid-verification-id"),Xe(Gu,"INVALID_TEMPORARY_PROOF","invalid-credential"),Xe(Gu,"MISSING_SESSION_INFO","missing-verification-id"),Xe(Gu,"SESSION_EXPIRED","code-expired"),Xe(Gu,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Xe(Gu,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Xe(Gu,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Xe(Gu,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Xe(Gu,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Xe(Gu,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Xe(Gu,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Xe(Gu,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Xe(Gu,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Xe(Gu,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Xe(Gu,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Gu),kl=new vl(3e4,6e4);function bl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function wl(e,t,n,r){return xl.apply(this,arguments)}function xl(){return xl=i(t().mark((function e(n,r,a,o){var s,u=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>4&&void 0!==u[4]?u[4]:{},e.abrupt("return",El(n,s,i(t().mark((function e(){var i,s,u,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={},s={},o&&("GET"===r?s=o:i={body:JSON.stringify(o)}),u=Ls(Object.assign({key:n.config.apiKey},s)).slice(1),e.next=6,n._getAdditionalHeaders();case 6:return(l=e.sent)["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),e.abrupt("return",yl.fetch()(Cl(n,n.config.apiHost,a,u),Object.assign({method:r,headers:l,referrerPolicy:"no-referrer"},i)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}function El(e,t,n){return _l.apply(this,arguments)}function _l(){return(_l=i(t().mark((function e(n,r,i){var a,o,u,l,c,f,h,d,p,v;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n._canInitEmulator=!1,a=Object.assign(Object.assign({},gl),r),e.prev=2,o=new Il(n),e.next=6,Promise.race([i(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(l=e.sent))){e.next=13;break}throw Nl(n,"account-exists-with-different-credential",l);case 13:if(!u.ok||"errorMessage"in l){e.next=17;break}return e.abrupt("return",l);case 17:if(c=u.ok?l.errorMessage:l.error.message,f=c.split(" : "),h=s(f,2),d=h[0],p=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Nl(n,"credential-already-in-use",l);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw Nl(n,"email-already-in-use",l);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw Nl(n,"user-disabled",l);case 29:if(v=a[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw rl(n,v,p);case 34:tl(n,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Is)){e.next=41;break}throw e.t0;case 41:tl(n,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Sl(e,t,n,r){return Tl.apply(this,arguments)}function Tl(){return Tl=i(t().mark((function e(n,r,i,a){var o,s,u=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,wl(n,r,i,a,o);case 3:return"mfaPendingCredential"in(s=e.sent)&&tl(n,"multi-factor-auth-required",{_serverResponse:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Cl(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ml(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Il=function(){function e(t){var n=this;ds(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(nl(n.auth,"network-request-failed"))}),kl.get())}))}return vs(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Nl(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=nl(e,t,r);return i.customData._tokenResponse=n,i}function Al(e,t){return Pl.apply(this,arguments)}function Pl(){return(Pl=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wl(n,"POST","/v1/accounts:delete",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rl(e,t){return Ol.apply(this,arguments)}function Ol(){return(Ol=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wl(n,"POST","/v1/accounts:lookup",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ll(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Dl(){return Dl=i(t().mark((function e(n){var r,i,a,o,s,u,l=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]&&l[1],i=Vs(n),e.next=4,i.getIdToken(r);case 4:return a=e.sent,ol((o=jl(a))&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error"),s="object"===typeof o.firebase?o.firebase:void 0,u=null===s||void 0===s?void 0:s.sign_in_provider,e.abrupt("return",{claims:o,token:a,authTime:Ll(Ml(o.auth_time)),issuedAtTime:Ll(Ml(o.iat)),expirationTime:Ll(Ml(o.exp)),signInProvider:u||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Ml(e){return 1e3*Number(e)}function jl(e){var t=s(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return el("JWT malformed, contained fewer than 3 sections"),null;try{var a=ws(r);return a?JSON.parse(a):(el("Failed to decode base64 JWT payload"),null)}catch(o){return el("Caught error parsing JWT payload as JSON",o),null}}function Ul(e,t){return Vl.apply(this,arguments)}function Vl(){return Vl=i(t().mark((function e(n,r){var i=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.length>2&&void 0!==i[2]&&i[2])){e.next=3;break}return e.abrupt("return",r);case 3:return e.prev=3,e.next=6,r;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Is&&Fl(e.t0))){e.next=15;break}if(n.auth.currentUser!==n){e.next=15;break}return e.next=15,n.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Vl.apply(this,arguments)}function Fl(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var zl=function(){function e(t){ds(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return vs(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var r=this.getInterval(n);this.timerId=setTimeout(i(t().mark((function n(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),n)}))),r)}}},{key:"iteration",value:function(){var e=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Bl=function(){function e(t,n){ds(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return vs(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Hl(e){return ql.apply(this,arguments)}function ql(){return ql=i(t().mark((function e(n){var r,i,a,o,s,u,l,c,f,h,d;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.auth,e.next=3,n.getIdToken();case 3:return a=e.sent,e.next=6,Ul(n,Rl(i,{idToken:a}));case 6:ol(null===(o=e.sent)||void 0===o?void 0:o.users.length,i,"internal-error"),s=o.users[0],n._notifyReloadListener(s),u=(null===(r=s.providerUserInfo)||void 0===r?void 0:r.length)?Gl(s.providerUserInfo):[],l=Kl(n.providerData,u),c=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(null===l||void 0===l?void 0:l.length),h=!!c&&f,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Bl(s.createdAt,s.lastLoginAt),isAnonymous:h},Object.assign(n,d);case 17:case"end":return e.stop()}}),e)}))),ql.apply(this,arguments)}function Wl(){return(Wl=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vs(n),e.next=3,Hl(r);case 3:return e.next=5,r.auth._persistUserIfCurrent(r);case 5:r.auth._notifyListenersIfCurrent(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kl(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(mt(n),mt(t))}function Gl(e){return e.map((function(e){var t=e.providerId,n=A(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Xl(e,t){return Ql.apply(this,arguments)}function Ql(){return(Ql=i(t().mark((function e(n,r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,El(n,{},i(t().mark((function e(){var i,a,o,s,u,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ls({grant_type:"refresh_token",refresh_token:r}).slice(1),a=n.config,o=a.tokenApiHost,s=a.apiKey,u=Cl(n,o,"/v1/token","key=".concat(s)),e.next=5,n._getAdditionalHeaders();case 5:return(l=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",yl.fetch()(u,{method:"POST",headers:l,body:i}));case 8:case"end":return e.stop()}}),e)}))));case 2:return a=e.sent,e.abrupt("return",{accessToken:a.access_token,expiresIn:a.expires_in,refreshToken:a.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yl=function(){function e(){ds(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return vs(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ol(e.idToken,"internal-error"),ol("undefined"!==typeof e.idToken,"internal-error"),ol("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=jl(e);return ol(t,"internal-error"),ol("undefined"!==typeof t.exp,"internal-error"),ol("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=i(t().mark((function e(n){var r,i=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]&&i[1],ol(!this.accessToken||this.refreshToken,n,"user-token-expired"),r||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(n,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=i(t().mark((function e(n,r){var i,a,o,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl(n,r);case 2:i=e.sent,a=i.accessToken,o=i.refreshToken,s=i.expiresIn,this.updateTokensAndExpiration(a,o,Number(s));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return sl("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ol("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ol("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ol("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function $l(e,t){ol("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Jl=function(){function e(t){ds(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=A(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?mt(a.providerData):[],this.metadata=new Bl(a.createdAt||void 0,a.lastLoginAt||void 0)}return vs(e,[{key:"getIdToken",value:function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ul(this,this.stsTokenManager.getToken(this.auth,n));case 2:if(ol(r=e.sent,this.auth,"internal-error"),this.accessToken===r){e.next=9;break}return this.accessToken=r,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Dl.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Wl.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ol(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ol(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=i(t().mark((function e(n){var r,i,a=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]&&a[1],i=!1,n.idToken&&n.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(n),i=!0),!r){e.next=6;break}return e.next=6,Hl(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:i&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=i(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return n=e.sent,e.next=5,Ul(this,Al(this.auth,{idToken:n}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,l,c,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;ol(k&&E,t,"internal-error");var _=Yl.fromJSON(this.name,E);ol("string"===typeof k,t,"internal-error"),$l(f,t.name),$l(h,t.name),ol("boolean"===typeof b,t,"internal-error"),ol("boolean"===typeof w,t,"internal-error"),$l(d,t.name),$l(p,t.name),$l(v,t.name),$l(m,t.name),$l(y,t.name),$l(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var n=i(t().mark((function n(r,i){var a,o,s,u=arguments;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.length>2&&void 0!==u[2]&&u[2],(o=new Yl).updateFromServerResponse(i),s=new e({uid:i.localId,auth:r,stsTokenManager:o,isAnonymous:a}),t.next=6,Hl(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}]),e}(),Zl=function(){function e(){ds(this,e),this.type="NONE",this.storage={}}return vs(e,[{key:"_isAvailable",value:function(){var e=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[n]=r;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.storage[n],e.abrupt("return",void 0===r?null:r);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[n];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Zl.type="NONE";var ec=Zl;function tc(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var nc=function(){function e(t,n,r){ds(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=tc(this.userKey,a.apiKey,o),this.fullPersistenceKey=tc("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return vs(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=i(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return n=e.sent,e.abrupt("return",n?Jl._fromJSON(this.auth,n):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return r=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=n,!r){e.next=10;break}return e.abrupt("return",this.setCurrentUser(r));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var n=i(t().mark((function n(r,a){var o,s,u,l,c,f,h,d,p,v,m,y=arguments;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=y.length>2&&void 0!==y[2]?y[2]:"authUser",a.length){n.next=3;break}return n.abrupt("return",new e(cl(ec),r,o));case 3:return n.next=5,Promise.all(a.map(function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",n);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:s=n.sent.filter((function(e){return e})),u=s[0]||cl(ec),l=tc(o,r.config.apiKey,r.name),c=null,f=hs(a),n.prev=10,f.s();case 12:if((h=f.n()).done){n.next=29;break}return d=h.value,n.prev=14,n.next=17,d._get(l);case 17:if(!(p=n.sent)){n.next=23;break}return v=Jl._fromJSON(r,p),d!==u&&(c=v),u=d,n.abrupt("break",29);case 23:n.next=27;break;case 25:n.prev=25,n.t0=n.catch(14);case 27:n.next=12;break;case 29:n.next=34;break;case 31:n.prev=31,n.t1=n.catch(10),f.e(n.t1);case 34:return n.prev=34,f.f(),n.finish(34);case 37:if(m=s.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&m.length){n.next=40;break}return n.abrupt("return",new e(u,r,o));case 40:if(u=m[0],!c){n.next=44;break}return n.next=44,u._set(l,c.toJSON());case 44:return n.next=46,Promise.all(a.map(function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n===u){e.next=8;break}return e.prev=1,e.next=4,n._remove(l);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return n.abrupt("return",new e(u,r,o));case 47:case"end":return n.stop()}}),n,null,[[10,31,34,37],[14,25]])})));return function(e,t){return n.apply(this,arguments)}}()}]),e}();function rc(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ic(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lc(t))return"Blackberry";if(cc(t))return"Webos";if(ac(t))return"Safari";if((t.includes("chrome/")||oc(t))&&!t.includes("edge/"))return"Chrome";if(uc(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ic(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Es();return/firefox\//i.test(e)}function ac(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Es(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Es();return/crios\//i.test(e)}function sc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Es();return/iemobile/i.test(e)}function uc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Es();return/android/i.test(e)}function lc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Es();return/blackberry/i.test(e)}function cc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Es();return/webos/i.test(e)}function fc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Es();return/iphone|ipad|ipod/i.test(e)}function hc(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Es();return fc(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function dc(){return Cs()&&10===document.documentMode}function pc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Es();return fc(e)||uc(e)||cc(e)||lc(e)||/windows phone/i.test(e)||sc(e)}function vc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=rc(Es());break;case"Worker":t="".concat(rc(Es()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ru,"/").concat(r)}var mc=function(){function e(t){ds(this,e),this.auth=t,this.queue=[]}return vs(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=i(t().mark((function e(n){var r,i,a,o,s,u,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==n){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=hs(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(n);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=hs(r);try{for(s.s();!(u=s.n()).done;){l=u.value;try{l()}catch(t){}}}catch(c){s.e(c)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),yc=function(){function e(t,n,r){ds(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kc(this),this.idTokenSubscription=new kc(this),this.beforeStateQueue=new mc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ju,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return vs(e,[{key:"_initializeWithPersistence",value:function(e,n){var r=this;return n&&(this._popupRedirectResolver=cl(n)),this._initializationPromise=this.queue(i(t().mark((function i(){var a,o;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r._deleted){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,nc.create(r,e);case 4:if(r.persistenceManager=t.sent,!r._deleted){t.next=7;break}return t.abrupt("return");case 7:if(!(null===(a=r._popupRedirectResolver)||void 0===a?void 0:a._shouldInitProactively)){t.next=15;break}return t.prev=8,t.next=11,r._popupRedirectResolver._initialize(r);case 11:t.next=15;break;case 13:t.prev=13,t.t0=t.catch(8);case 15:return t.next=17,r.initializeCurrentUser(n);case 17:if(r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted){t.next=20;break}return t.abrupt("return");case 20:r._isInitialized=!0;case 21:case"end":return t.stop()}}),i,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=i(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(n=e.sent,this.currentUser||n){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!n||this.currentUser.uid!==n.uid){e.next=12;break}return this._currentUser._assign(n),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(n,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=i(t().mark((function e(n){var r,i,a,o,s,u,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(i=e.sent,a=i,o=!1,!n||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return s=null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null===a||void 0===a?void 0:a._redirectEventId,e.next=12,this.tryRedirectSignIn(n);case 12:l=e.sent,s&&s!==u||!(null===l||void 0===l?void 0:l.user)||(a=l.user,o=!0);case 14:if(a){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(a._redirectEventId){e.next=32;break}if(!o){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(a);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),a=i,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!a){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ol(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(a));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,n,!0);case 4:r=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hl(n);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(n));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n?Vs(n):null)&&ol(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(r&&r._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=i(t().mark((function e(n){var r,a=this,o=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]&&o[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(n&&ol(this.tenantId===n.tenantId,this,"tenant-id-mismatch"),r){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(n);case 7:return e.abrupt("return",this.queue(i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.directlySetCurrentUser(n);case 2:a.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var n=this;return this.queue(i(t().mark((function r(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.assertedPersistence.setPersistence(cl(e));case 2:case"end":return t.stop()}}),r)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ns("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=i(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(r);case 2:return i=e.sent,e.abrupt("return",null===n?i.removeCurrentUser():i.setCurrentUser(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ol(r=n&&cl(n)||this._popupRedirectResolver,this,"argument-error"),e.next=5,nc.create(this,[cl(r._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=i(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(r=this._currentUser)||void 0===r?void 0:r._redirectEventId)!==n){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(a=this.redirectUser)||void 0===a?void 0:a._redirectEventId)!==n){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=i(t().mark((function e(n){var r=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.directlySetCurrentUser(n));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ol(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==n&&(this._currentUser._stopProactiveRefresh(),n&&this.isProactiveRefreshEnabled&&n._startProactiveRefresh()),this.currentUser=n,!n){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(n);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ol(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vc(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=i(t().mark((function e(){var n,r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(n=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();case 4:return(i=e.sent)&&(r["X-Firebase-Client"]=i),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gc(e){return Vs(e)}var kc=function(){function e(t){var n=this;ds(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new js(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return vs(e,[{key:"next",get:function(){return ol(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var bc=function(){function e(t,n){ds(this,e),this.providerId=t,this.signInMethod=n}return vs(e,[{key:"toJSON",value:function(){return sl("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return sl("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return sl("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return sl("not implemented")}}]),e}();function wc(e,t){return xc.apply(this,arguments)}function xc(){return(xc=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wl(n,"POST","/v1/accounts:update",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ec(e,t){return _c.apply(this,arguments)}function _c(){return(_c=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sl(n,"POST","/v1/accounts:signInWithPassword",bl(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sc(e,t){return Tc.apply(this,arguments)}function Tc(){return(Tc=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sl(n,"POST","/v1/accounts:signInWithEmailLink",bl(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cc(e,t){return Ic.apply(this,arguments)}function Ic(){return(Ic=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sl(n,"POST","/v1/accounts:signInWithEmailLink",bl(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nc=function(e){us(r,e);var n=fs(r);function r(e,t,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ds(this,r),(a=n.call(this,"password",i))._email=e,a._password=t,a._tenantId=o,a}return vs(r,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ec(n,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Sc(n,{email:this._email,oobCode:this._password}));case 5:tl(n,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",wc(n,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Cc(n,{idToken:r,email:this._email,oobCode:this._password}));case 5:tl(n,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new r(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new r(e,t,"emailLink",n)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),r}(bc);function Ac(e,t){return Pc.apply(this,arguments)}function Pc(){return(Pc=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sl(n,"POST","/v1/accounts:signInWithIdp",bl(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rc=function(e){us(n,e);var t=fs(n);function n(){var e;return ds(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return vs(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ac(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ac(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ac(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ls(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tl("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=A(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(bc);function Oc(e,t){return Lc.apply(this,arguments)}function Lc(){return(Lc=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wl(n,"POST","/v1/accounts:sendVerificationCode",bl(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dc(){return(Dc=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sl(n,"POST","/v1/accounts:signInWithPhoneNumber",bl(n,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mc(){return(Mc=i(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sl(n,"POST","/v1/accounts:signInWithPhoneNumber",bl(n,r));case 2:if(!(i=e.sent).temporaryProof){e.next=5;break}throw Nl(n,"account-exists-with-different-credential",i);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jc=Xe({},"USER_NOT_FOUND","user-not-found");function Uc(){return(Uc=i(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object.assign(Object.assign({},r),{operation:"REAUTH"}),e.abrupt("return",Sl(n,"POST","/v1/accounts:signInWithPhoneNumber",bl(n,i),jc));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vc=function(e){us(n,e);var t=fs(n);function n(e){var r;return ds(this,n),(r=t.call(this,"phone","phone")).params=e,r}return vs(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Dc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Mc.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Uc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(bc);var Fc=function(){function e(t){var n,r,i,a,o,s;ds(this,e);var u=Ds(Ms(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);ol(l&&c&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=c,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return vs(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ds(Ms(e)).link,n=t?Ds(Ms(t)).deep_link_id:null,r=Ds(Ms(e)).deep_link_id;return(r?Ds(Ms(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(CE){return null}}}]),e}();var zc=function(){function e(){ds(this,e),this.providerId=e.PROVIDER_ID}return vs(e,null,[{key:"credential",value:function(e,t){return Nc._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Fc.parseLink(t);return ol(n,"argument-error"),Nc._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();zc.PROVIDER_ID="password",zc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",zc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Bc=function(){function e(t){ds(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return vs(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Hc=function(e){us(n,e);var t=fs(n);function n(){var e;return ds(this,n),(e=t.apply(this,arguments)).scopes=[],e}return vs(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return mt(this.scopes)}}]),n}(Bc),qc=function(e){us(n,e);var t=fs(n);function n(){return ds(this,n),t.call(this,"facebook.com")}return vs(n,null,[{key:"credential",value:function(e){return Rc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(CE){return null}}}]),n}(Hc);qc.FACEBOOK_SIGN_IN_METHOD="facebook.com",qc.PROVIDER_ID="facebook.com";var Wc=function(e){us(n,e);var t=fs(n);function n(){var e;return ds(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return vs(n,null,[{key:"credential",value:function(e,t){return Rc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(CE){return null}}}]),n}(Hc);Wc.GOOGLE_SIGN_IN_METHOD="google.com",Wc.PROVIDER_ID="google.com";var Kc=function(e){us(n,e);var t=fs(n);function n(){return ds(this,n),t.call(this,"github.com")}return vs(n,null,[{key:"credential",value:function(e){return Rc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(CE){return null}}}]),n}(Hc);Kc.GITHUB_SIGN_IN_METHOD="github.com",Kc.PROVIDER_ID="github.com";var Gc=function(e){us(n,e);var t=fs(n);function n(){return ds(this,n),t.call(this,"twitter.com")}return vs(n,null,[{key:"credential",value:function(e,t){return Rc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(CE){return null}}}]),n}(Hc);Gc.TWITTER_SIGN_IN_METHOD="twitter.com",Gc.PROVIDER_ID="twitter.com";var Xc=function(){function e(t){ds(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return vs(e,null,[{key:"_fromIdTokenResponse",value:function(){var n=i(t().mark((function n(r,i,a){var o,s,u,l,c=arguments;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Jl._fromIdTokenResponse(r,a,o);case 3:return s=t.sent,u=Qc(a),l=new e({user:s,providerId:u,_tokenResponse:a,operationType:i}),t.abrupt("return",l);case 7:case"end":return t.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var n=i(t().mark((function n(r,i,a){var o;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._updateTokensIfNecessary(a,!0);case 2:return o=Qc(a),t.abrupt("return",new e({user:r,providerId:o,_tokenResponse:a,operationType:i}));case 4:case"end":return t.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}()}]),e}();function Qc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Yc=function(e){us(n,e);var t=fs(n);function n(e,r,i,a){var o,s;return ds(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(os(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return vs(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Is);function $c(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Yc._fromErrorAndOperation(e,n,t,r);throw n}))}function Jc(e,t){return Zc.apply(this,arguments)}function Zc(){return Zc=i(t().mark((function e(n,r){var i,a,o=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>2&&void 0!==o[2]&&o[2],e.t0=Ul,e.t1=n,e.t2=r,e.t3=n.auth,e.next=7,n.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=i,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return a=e.sent,e.abrupt("return",Xc._forOperation(n,"link",a));case 14:case"end":return e.stop()}}),e)}))),Zc.apply(this,arguments)}function ef(e,t){return tf.apply(this,arguments)}function tf(){return tf=i(t().mark((function e(n,r){var i,a,o,s,u,l,c=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>2&&void 0!==c[2]&&c[2],a=n.auth,o="reauthenticate",e.prev=3,e.next=6,Ul(n,$c(a,o,r,n),i);case 6:return ol((s=e.sent).idToken,a,"internal-error"),ol(u=jl(s.idToken),a,"internal-error"),l=u.sub,ol(n.uid===l,a,"user-mismatch"),e.abrupt("return",Xc._forOperation(n,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&tl(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),tf.apply(this,arguments)}function nf(e,t){return rf.apply(this,arguments)}function rf(){return rf=i(t().mark((function e(n,r){var i,a,o,s,u=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],a="signIn",e.next=4,$c(n,a,r);case 4:return o=e.sent,e.next=7,Xc._fromIdTokenResponse(n,a,o);case 7:if(s=e.sent,i){e.next=11;break}return e.next=11,n._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),rf.apply(this,arguments)}function af(e,t){return wl(e,"POST","/v2/accounts/mfaEnrollment:start",bl(e,t))}new WeakMap;var of="__sak",sf=function(){function e(t,n){ds(this,e),this.storageRetriever=t,this.type=n}return vs(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(of,"1"),this.storage.removeItem(of),Promise.resolve(!0)):Promise.resolve(!1)}catch(CE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var uf=function(e){us(r,e);var n=fs(r);function r(){var e;return ds(this,r),(e=n.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Es();return ac(e)||fc(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=pc(),e._shouldAllowMigration=!0,e}return vs(r,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);dc()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=i(t().mark((function e(n,i){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,as(rs(r.prototype),"_set",this).call(this,n,i);case 2:this.localCache[n]=JSON.stringify(i);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=i(t().mark((function e(n){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,as(rs(r.prototype),"_get",this).call(this,n);case 2:return i=e.sent,this.localCache[n]=JSON.stringify(i),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,as(rs(r.prototype),"_remove",this).call(this,n);case 2:delete this.localCache[n];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(sf);uf.type="LOCAL";var lf=uf,cf=function(e){us(n,e);var t=fs(n);function n(){return ds(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return vs(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(sf);cf.type="SESSION";var ff=cf;function hf(e){return Promise.all(e.map(function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n;case 3:return r=e.sent,e.abrupt("return",{fulfilled:!0,value:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var df=function(){function e(t){ds(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return vs(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=i(t().mark((function e(n){var r,a,o,s,u,l,c,f;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(r=n).data,o=a.eventId,s=a.eventType,u=a.data,null===(l=this.handlersMap[s])||void 0===l?void 0:l.size){e.next=5;break}return e.abrupt("return");case 5:return r.ports[0].postMessage({status:"ack",eventId:o,eventType:s}),c=Array.from(l).map(function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(r.origin,u));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,hf(c);case 9:f=e.sent,r.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:f});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function pf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}df.receivers=[];var vf=function(){function e(t){ds(this,e),this.target=t,this.handlers=new Set}return vs(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=i(t().mark((function e(n,r){var i,a,o,s,u=this,l=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l.length>2&&void 0!==l[2]?l[2]:50,a="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,t){var l=pf("",20);a.port1.start();var c=setTimeout((function(){t(new Error("unsupported_event"))}),i);s={messageChannel:a,onMessage:function(n){var r=n;if(r.data.eventId===l)switch(r.data.status){case"ack":clearTimeout(c),o=setTimeout((function(){t(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(r.data.response);break;default:clearTimeout(c),clearTimeout(o),t(new Error("invalid_response"))}}},u.handlers.add(s),a.port1.addEventListener("message",s.onMessage),u.target.postMessage({eventType:n,eventId:l,data:r},[a.port2])})).finally((function(){s&&u.removeMessageHandler(s)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function mf(){return window}function yf(){return"undefined"!==typeof mf().WorkerGlobalScope&&"function"===typeof mf().importScripts}function gf(){return kf.apply(this,arguments)}function kf(){return(kf=i(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return n=e.sent,e.abrupt("return",n.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function bf(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var wf="firebaseLocalStorageDb",xf="firebaseLocalStorage",Ef="fbase_key",_f=function(){function e(t){ds(this,e),this.request=t}return vs(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Sf(e,t){return e.transaction([xf],t?"readwrite":"readonly").objectStore(xf)}function Tf(){var e=indexedDB.deleteDatabase(wf);return new _f(e).toPromise()}function Cf(){var e=indexedDB.open(wf,1);return new Promise((function(n,r){e.addEventListener("error",(function(){r(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(xf,{keyPath:Ef})}catch(n){r(n)}})),e.addEventListener("success",i(t().mark((function r(){var i;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=e.result).objectStoreNames.contains(xf)){t.next=12;break}return i.close(),t.next=5,Tf();case 5:return t.t0=n,t.next=8,Cf();case 8:t.t1=t.sent,(0,t.t0)(t.t1),t.next=13;break;case 12:n(i);case 13:case"end":return t.stop()}}),r)}))))}))}function If(e,t,n){return Nf.apply(this,arguments)}function Nf(){return Nf=i(t().mark((function e(n,r,i){var a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Sf(n,!0).put((Xe(a={},Ef,r),Xe(a,"value",i),a)),e.abrupt("return",new _f(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),Nf.apply(this,arguments)}function Af(e,t){return Pf.apply(this,arguments)}function Pf(){return Pf=i(t().mark((function e(n,r){var i,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sf(n,!1).get(r),e.next=3,new _f(i).toPromise();case 3:return a=e.sent,e.abrupt("return",void 0===a?null:a.value);case 5:case"end":return e.stop()}}),e)}))),Pf.apply(this,arguments)}function Rf(e,t){var n=Sf(e,!0).delete(t);return new _f(n).toPromise()}var Of=function(){function e(){ds(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return vs(e,[{key:"_openDb",value:function(){var e=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Cf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=i(t().mark((function e(n){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return i=e.sent,e.next=8,n(i);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(r++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yf()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=i(t().mark((function e(){var n=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=df._getInstance(yf()?self:null),this.receiver._subscribe("keyChanged",function(){var e=i(t().mark((function e(r,i){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._poll();case 2:return a=e.sent,e.abrupt("return",{keyProcessed:a.includes(i.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=i(t().mark((function e(){var n,r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new vf(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(i=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(n=i[0])||void 0===n?void 0:n.fulfilled)&&(null===(r=i[0])||void 0===r?void 0:r.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&bf()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=i(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Cf();case 5:return n=e.sent,e.next=8,If(n,of,"1");case 8:return e.next=10,Rf(n,of);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,n();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=i(t().mark((function e(n,r){var a=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._withRetries((function(e){return If(e,n,r)}));case 2:return a.localCache[n]=r,e.abrupt("return",a.notifyServiceWorker(n));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Af(e,n)}));case 2:return r=e.sent,this.localCache[n]=r,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=i(t().mark((function e(n){var r=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Rf(e,n)}));case 2:return delete r.localCache[n],e.abrupt("return",r.notifyServiceWorker(n));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=i(t().mark((function e(){var n,r,i,a,o,s,u,l,c,f,h;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Sf(e,!1).getAll();return new _f(t).toPromise()}));case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:r=[],i=new Set,a=hs(n);try{for(a.s();!(o=a.n()).done;)s=o.value,u=s.fbase_key,l=s.value,i.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(l)&&(this.notifyListeners(u,l),r.push(u))}catch(t){a.e(t)}finally{a.f()}for(c=0,f=Object.keys(this.localCache);c<f.length;c++)h=f[c],this.localCache[h]&&!i.has(h)&&(this.notifyListeners(h,null),r.push(h));return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(i(t().mark((function n(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),n)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Of.type="LOCAL";var Lf=Of;function Df(e,t){return wl(e,"POST","/v2/accounts/mfaSignIn:start",bl(e,t))}function Mf(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=nl("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function jf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}jf("rcb"),new vl(3e4,6e4);var Uf="recaptcha";function Vf(e,t,n){return Ff.apply(this,arguments)}function Ff(){return Ff=i(t().mark((function e(n,r,i){var a,o,s,u,l,c,f,h,d;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.verify();case 2:if(o=e.sent,e.prev=3,ol("string"===typeof o,n,"argument-error"),ol(i.type===Uf,n,"argument-error"),!("session"in(s="string"===typeof r?{phoneNumber:r}:r))){e.next=26;break}if(u=s.session,!("phoneNumber"in s)){e.next=17;break}return ol("enroll"===u.type,n,"internal-error"),e.next=13,af(n,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:o}});case 13:return l=e.sent,e.abrupt("return",l.phoneSessionInfo.sessionInfo);case 17:return ol("signin"===u.type,n,"internal-error"),ol(c=(null===(a=s.multiFactorHint)||void 0===a?void 0:a.uid)||s.multiFactorUid,n,"missing-multi-factor-info"),e.next=22,Df(n,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:o}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Oc(n,{phoneNumber:s.phoneNumber,recaptchaToken:o});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,i._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ff.apply(this,arguments)}var zf=function(){function e(t){ds(this,e),this.providerId=e.PROVIDER_ID,this.auth=gc(t)}return vs(e,[{key:"verifyPhoneNumber",value:function(e,t){return Vf(this.auth,e,Vs(t))}}],[{key:"credential",value:function(e,t){return Vc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Vc._fromTokenResponse(n,r):null}}]),e}();function Bf(e,t){return t?cl(t):(ol(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}zf.PROVIDER_ID="phone",zf.PHONE_SIGN_IN_METHOD="phone";var Hf=function(e){us(n,e);var t=fs(n);function n(e){var r;return ds(this,n),(r=t.call(this,"custom","custom")).params=e,r}return vs(n,[{key:"_getIdTokenResponse",value:function(e){return Ac(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ac(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ac(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(bc);function qf(e){return nf(e.auth,new Hf(e),e.bypassAuthState)}function Wf(e){var t=e.auth,n=e.user;return ol(n,t,"internal-error"),ef(n,new Hf(e),e.bypassAuthState)}function Kf(e){return Gf.apply(this,arguments)}function Gf(){return(Gf=i(t().mark((function e(n){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.auth,ol(i=n.user,r,"internal-error"),e.abrupt("return",Jc(i,new Hf(n),n.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ds(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return vs(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var n=i(t().mark((function n(r,i){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:r,reject:i},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=i(t().mark((function e(n){var r,i,a,o,s,u,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.urlResponse,i=n.sessionId,a=n.postBody,o=n.tenantId,s=n.error,u=n.type,!s){e.next=4;break}return this.reject(s),e.abrupt("return");case 4:return l={auth:this.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(l);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qf;case"linkViaPopup":case"linkViaRedirect":return Kf;case"reauthViaPopup":case"reauthViaRedirect":return Wf;default:tl(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ul(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ul(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Qf=new vl(2e3,1e4);function Yf(e,t,n){return $f.apply(this,arguments)}function $f(){return($f=i(t().mark((function e(n,r,i){var a,o,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=gc(n),il(n,r,Bc),o=Bf(a,i),s=new Jf(a,"signInViaPopup",r,o),e.abrupt("return",s.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jf=function(e){us(r,e);var n=fs(r);function r(e,t,i,a,o){var s;return ds(this,r),(s=n.call(this,e,t,a,o)).provider=i,s.authWindow=null,s.pollId=null,r.currentPopupAction&&r.currentPopupAction.cancel(),r.currentPopupAction=os(s),s}return vs(r,[{key:"executeNotNull",value:function(){var e=i(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ol(n=e.sent,this.auth,"internal-error"),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=i(t().mark((function e(){var n,r=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ul(1===this.filter.length,"Popup operations only handle one event"),n=pf(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],n);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch((function(e){r.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||r.reject(nl(r.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(nl(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,r.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(nl(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Qf.get())}()}}]),r}(Xf);Jf.currentPopupAction=null;var Zf=new Map,eh=function(e){us(r,e);var n=fs(r);function r(e,t){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ds(this,r),(i=n.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a)).eventId=null,i}return vs(r,[{key:"execute",value:function(){var e=i(t().mark((function e(){var n,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Zf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,th(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,as(rs(r.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:i=e.t0,n=function(){return Promise.resolve(i)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),n=function(){return Promise.reject(e.t1)};case 20:Zf.set(this.auth._key(),n);case 21:return this.bypassAuthState||Zf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",n());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=i(t().mark((function e(n){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==n.type){e.next=4;break}return e.abrupt("return",as(rs(r.prototype),"onAuthEvent",this).call(this,n));case 4:if("unknown"!==n.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!n.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(n.eventId);case 10:if(!(i=e.sent)){e.next=16;break}return this.user=i,e.abrupt("return",as(rs(r.prototype),"onAuthEvent",this).call(this,n));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),r}(Xf);function th(e,t){return nh.apply(this,arguments)}function nh(){return(nh=i(t().mark((function e(n,r){var i,a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ah(r),a=ih(n),e.next=4,a._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,a._get(i);case 8:return e.t0=e.sent,o="true"===e.t0,e.next=12,a._remove(i);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rh(e,t){Zf.set(e._key(),t)}function ih(e){return cl(e._redirectPersistence)}function ah(e){return tc("pendingRedirect",e.config.apiKey,e.name)}function oh(e,t){return sh.apply(this,arguments)}function sh(){return sh=i(t().mark((function e(n,r){var i,a,o,s,u,l=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>2&&void 0!==l[2]&&l[2],a=gc(n),o=Bf(a,r),s=new eh(a,o,i),e.next=6,s.execute();case 6:if(!(u=e.sent)||i){e.next=13;break}return delete u.user._redirectEventId,e.next=11,a._persistUserIfCurrent(u.user);case 11:return e.next=13,a._setRedirectUser(null,r);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}var uh=function(){function e(t){ds(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return vs(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ch(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ch(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(nl(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(lh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function lh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ch(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function fh(e){return hh.apply(this,arguments)}function hh(){return hh=i(t().mark((function e(n){var r,i=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",wl(n,"GET","/v1/projects",r));case 2:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}var dh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ph=/^https?/;function vh(){return(vh=i(t().mark((function e(n){var r,i,a,o,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fh(n);case 4:r=e.sent,i=r.authorizedDomains,a=hs(i),e.prev=7,a.s();case 9:if((o=a.n()).done){e.next=20;break}if(s=o.value,e.prev=11,!mh(s)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:tl(n,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function mh(e){var t=hl(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ph.test(r))return!1;if(dh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var yh=new vl(3e4,6e4);function gh(){var e=mf().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=mt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var kh=null;function bh(e){return kh=kh||function(e){return new Promise((function(t,n){var r,i,a;function o(){gh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){gh(),n(nl(e,"network-request-failed"))},timeout:yh.get()})}if(null===(i=null===(r=mf().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=mf().gapi)||void 0===a?void 0:a.load)){var s=jf("iframefcb");return mf()[s]=function(){gapi.load?o():n(nl(e,"network-request-failed"))},Mf("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw kh=null,e}))}(e),kh}var wh=new vl(5e3,15e3),xh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Eh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _h(e){var t=e.config;ol(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ml(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ru},i=Eh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ls(r).slice(1))}function Sh(e){return Th.apply(this,arguments)}function Th(){return Th=i(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bh(n);case 2:return r=e.sent,ol(a=mf().gapi,n,"internal-error"),e.abrupt("return",r.open({where:document.body,url:_h(n),messageHandlersFilter:a.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xh,dontclear:!0},(function(e){return new Promise(function(){var r=i(t().mark((function r(i,a){var o,s,u;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=function(){mf().clearTimeout(s),i(e)},t.next=3,e.restyle({setHideOnLeave:!1});case 3:o=nl(n,"network-request-failed"),s=mf().setTimeout((function(){a(o)}),wh.get()),e.ping(u).then(u,(function(){a(o)}));case 6:case"end":return t.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Th.apply(this,arguments)}var Ch={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ih="_blank",Nh="http://localhost",Ah=function(){function e(t){ds(this,e),this.window=t,this.associatedEvent=null}return vs(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ph(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",l=Object.assign(Object.assign({},Ch),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Es().toLowerCase();n&&(u=oc(c)?Ih:n),ic(c)&&(t=t||Nh,l.scrollbars="yes");var f=Object.entries(l).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(hc(c)&&"_self"!==u)return Rh(t||"",u),new Ah(null);var h=window.open(t||"",u,f);ol(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Ah(h)}function Rh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Oh="__/auth/handler",Lh="emulator/auth/handler";function Dh(e,t,n,r,i,a){ol(e.config.authDomain,e,"auth-domain-config-required"),ol(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ru,eventId:i};if(t instanceof Bc){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,l=Object.entries(a||{});u<l.length;u++){var c=s(l[u],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof Hc){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Oh);return ml(t,Lh)}(e),"?").concat(Ls(p).slice(1))}var Mh="webStorageSupport",jh=function(){function e(){ds(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ff,this._completeRedirectFn=oh,this._overrideRedirectResult=rh}return vs(e,[{key:"_openPopup",value:function(){var e=i(t().mark((function e(n,r,i,a){var o,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ul(null===(o=this.eventManagers[n._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),s=Dh(n,r,i,hl(),a),e.abrupt("return",Ph(n,s,pf()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=i(t().mark((function e(n,r,i,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(n);case 2:return t=Dh(n,r,i,hl(),a),mf().location.href=t,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var t}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ul(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=i(t().mark((function e(n){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sh(n);case 2:return r=e.sent,i=new uh(n),r.register("authEvent",(function(e){return ol(null===e||void 0===e?void 0:e.authEvent,n,"invalid-auth-event"),{status:i.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[n._key()]={manager:i},this.iframes[n._key()]=r,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Mh,{type:Mh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),tl(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return vh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return pc()||ac()||fc()}}]),e}(),Uh=jh,Vh=function(e){us(n,e);var t=fs(n);function n(e){var r;return ds(this,n),(r=t.call(this,"phone")).credential=e,r}return vs(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return wl(e,"POST","/v2/accounts/mfaEnrollment:finalize",bl(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return wl(e,"POST","/v2/accounts/mfaSignIn:finalize",bl(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){ds(this,e),this.factorId=t}return vs(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return sl("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){ds(this,e)}return vs(e,null,[{key:"assertion",value:function(e){return Vh._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Fh,zh="@firebase/auth",Bh="0.20.2",Hh=function(){function e(t){ds(this,e),this.auth=t,this.internalListeners=new Map}return vs(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(n);case 7:return r=e.sent,e.abrupt("return",{accessToken:r});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ol(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();Fh="Browser",Cu(new Fs("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){ol(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ol(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Fh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vc(Fh)},i=new yc(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cl);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Cu(new Fs("auth-internal",(function(e){return function(e){return new Hh(e)}(gc(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Lu(zh,Bh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Fh)),Lu(zh,Bh,"esm2017");Lu("firebase","9.8.2","app");var qh,Wh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Kh={},Gh=Gh||{},Xh=Wh||self;function Qh(){}function Yh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function $h(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Jh="closure_uid_"+(1e9*Math.random()>>>0),Zh=0;function ed(e,t,n){return e.call.apply(e.bind,arguments)}function td(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function nd(e,t,n){return(nd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ed:td).apply(null,arguments)}function rd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function id(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ad(){this.s=this.s,this.o=this.o}var od={};ad.prototype.s=!1,ad.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Jh)&&e[Jh]||(e[Jh]=++Zh)}(this);delete od[e]}},ad.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var sd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ud=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ld(e){return Array.prototype.concat.apply([],arguments)}function cd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function fd(e){return/^[\s\xa0]*$/.test(e)}var hd,dd=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function pd(e,t){return-1!=e.indexOf(t)}function vd(e,t){return e<t?-1:e>t?1:0}e:{var md=Xh.navigator;if(md){var yd=md.userAgent;if(yd){hd=yd;break e}}hd=""}function gd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function kd(e){var t={};for(var n in e)t[n]=e[n];return t}var bd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<bd.length;a++)n=bd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function xd(e){return xd[" "](e),e}xd[" "]=Qh;var Ed,_d=pd(hd,"Opera"),Sd=pd(hd,"Trident")||pd(hd,"MSIE"),Td=pd(hd,"Edge"),Cd=Td||Sd,Id=pd(hd,"Gecko")&&!(pd(hd.toLowerCase(),"webkit")&&!pd(hd,"Edge"))&&!(pd(hd,"Trident")||pd(hd,"MSIE"))&&!pd(hd,"Edge"),Nd=pd(hd.toLowerCase(),"webkit")&&!pd(hd,"Edge");function Ad(){var e=Xh.document;return e?e.documentMode:void 0}e:{var Pd="",Rd=function(){var e=hd;return Id?/rv:([^\);]+)(\)|;)/.exec(e):Td?/Edge\/([\d\.]+)/.exec(e):Sd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Nd?/WebKit\/(\S+)/.exec(e):_d?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Rd&&(Pd=Rd?Rd[1]:""),Sd){var Od=Ad();if(null!=Od&&Od>parseFloat(Pd)){Ed=String(Od);break e}}Ed=Pd}var Ld,Dd={};function Md(){return function(e){var t=Dd;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=dd(String(Ed)).split("."),n=dd("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=vd(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||vd(0==a[2].length,0==o[2].length)||vd(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Xh.document&&Sd){var jd=Ad();Ld=jd||(parseInt(Ed,10)||void 0)}else Ld=void 0;var Ud=Ld,Vd=function(){if(!Xh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Xh.addEventListener("test",Qh,t),Xh.removeEventListener("test",Qh,t)}catch(fn){}return e}();function Fd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function zd(e,t){if(Fd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Id){e:{try{xd(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Bd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&zd.Z.h.call(this)}}Fd.prototype.h=function(){this.defaultPrevented=!0},id(zd,Fd);var Bd={2:"touch",3:"pen",4:"mouse"};zd.prototype.h=function(){zd.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Hd="closure_listenable_"+(1e6*Math.random()|0),qd=0;function Wd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++qd,this.ca=this.fa=!1}function Kd(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Gd(e){this.src=e,this.g={},this.h=0}function Xd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=sd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Kd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Qd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Gd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Qd(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Wd(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Yd="closure_lm_"+(1e6*Math.random()|0),$d={};function Jd(e,t,n,r,i){if(r&&r.once)return ep(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Jd(e,t[a],n,r,i);return null}return n=sp(n),e&&e[Hd]?e.N(t,n,$h(r)?!!r.capture:!!r,i):Zd(e,t,n,!1,r,i)}function Zd(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=$h(i)?!!i.capture:!!i,s=ap(e);if(s||(e[Yd]=s=new Gd(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ip;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Vd||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(rp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ep(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ep(e,t[a],n,r,i);return null}return n=sp(n),e&&e[Hd]?e.O(t,n,$h(r)?!!r.capture:!!r,i):Zd(e,t,n,!0,r,i)}function tp(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)tp(e,t[a],n,r,i);else r=$h(r)?!!r.capture:!!r,n=sp(n),e&&e[Hd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Qd(a=e.g[t],n,r,i))&&(Kd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ap(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Qd(t,n,r,i)),(n=-1<e?t[e]:null)&&np(n))}function np(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Hd])Xd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(rp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ap(t))?(Xd(n,e),0==n.h&&(n.src=null,t[Yd]=null)):Kd(e)}}}function rp(e){return e in $d?$d[e]:$d[e]="on"+e}function ip(e,t){if(e.ca)e=!0;else{t=new zd(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&np(e),e=n.call(r,t)}return e}function ap(e){return(e=e[Yd])instanceof Gd?e:null}var op="__closure_events_fn_"+(1e9*Math.random()>>>0);function sp(e){return"function"===typeof e?e:(e[op]||(e[op]=function(t){return e.handleEvent(t)}),e[op])}function up(){ad.call(this),this.i=new Gd(this),this.P=this,this.I=null}function lp(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Fd(t,e);else if(t instanceof Fd)t.target=t.target||e;else{var i=t;wd(t=new Fd(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=cp(o,r,!0,t)&&i}if(i=cp(o=t.g=e,r,!0,t)&&i,i=cp(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=cp(o=t.g=n[a],r,!1,t)&&i}function cp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Xd(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}id(up,ad),up.prototype[Hd]=!0,up.prototype.removeEventListener=function(e,t,n,r){tp(this,e,t,n,r)},up.prototype.M=function(){if(up.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kd(n[r]);delete t.g[e],t.h--}}this.I=null},up.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},up.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var fp=Xh.JSON.stringify;function hp(){var e=bp,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var dp,pp=function(){function e(){ds(this,e),this.h=this.g=null}return vs(e,[{key:"add",value:function(e,t){var n=vp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),vp=new(function(){function e(t,n){ds(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return vs(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new mp}),(function(e){return e.reset()})),mp=function(){function e(){ds(this,e),this.next=this.g=this.h=null}return vs(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function yp(e){Xh.setTimeout((function(){throw e}),0)}function gp(e,t){dp||function(){var e=Xh.Promise.resolve(void 0);dp=function(){e.then(wp)}}(),kp||(dp(),kp=!0),bp.add(e,t)}var kp=!1,bp=new pp;function wp(){for(var e;e=hp();){try{e.h.call(e.g)}catch(fn){yp(fn)}var t=vp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}kp=!1}function xp(e,t){up.call(this),this.h=e||1,this.g=t||Xh,this.j=nd(this.kb,this),this.l=Date.now()}function Ep(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function _p(e,t,n){if("function"===typeof e)n&&(e=nd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=nd(e.handleEvent,e)}return 2147483647<Number(t)?-1:Xh.setTimeout(e,t||0)}function Sp(e){e.g=_p((function(){e.g=null,e.i&&(e.i=!1,Sp(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}id(xp,up),(qh=xp.prototype).da=!1,qh.S=null,qh.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),lp(this,"tick"),this.da&&(Ep(this),this.start()))}},qh.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qh.M=function(){xp.Z.M.call(this),Ep(this),delete this.g};var Tp=function(e){us(n,e);var t=fs(n);function n(e,r){var i;return ds(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return vs(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Sp(this)}},{key:"M",value:function(){as(rs(n.prototype),"M",this).call(this),this.g&&(Xh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ad);function Cp(e){ad.call(this),this.h=e,this.g={}}id(Cp,ad);var Ip=[];function Np(e,t,n,r){Array.isArray(n)||(n&&(Ip[0]=n.toString()),n=Ip);for(var i=0;i<n.length;i++){var a=Jd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ap(e){gd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&np(e)}),e),e.g={}}function Pp(){this.g=!0}function Rp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return fp(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Cp.prototype.M=function(){Cp.Z.M.call(this),Ap(this)},Cp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pp.prototype.Aa=function(){this.g=!1},Pp.prototype.info=function(){};var Op={},Lp=null;function Dp(){return Lp=Lp||new up}function Mp(e){Fd.call(this,Op.Ma,e)}function jp(e){var t=Dp();lp(t,new Mp(t,e))}function Up(e,t){Fd.call(this,Op.STAT_EVENT,e),this.stat=t}function Vp(e){var t=Dp();lp(t,new Up(t,e))}function Fp(e,t){Fd.call(this,Op.Na,e),this.size=t}function zp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Xh.setTimeout((function(){e()}),t)}Op.Ma="serverreachability",id(Mp,Fd),Op.STAT_EVENT="statevent",id(Up,Fd),Op.Na="timingevent",id(Fp,Fd);var Bp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Hp={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qp(){}function Wp(e){return e.h||(e.h=e.i())}function Kp(){}qp.prototype.h=null;var Gp,Xp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Qp(){Fd.call(this,"d")}function Yp(){Fd.call(this,"c")}function $p(){}function Jp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Cp(this),this.P=ev,e=Cd?125:void 0,this.W=new xp(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Zp}function Zp(){this.i=null,this.g="",this.h=!1}id(Qp,Fd),id(Yp,Fd),id($p,qp),$p.prototype.g=function(){return new XMLHttpRequest},$p.prototype.i=function(){return{}},Gp=new $p;var ev=45e3,tv={},nv={};function rv(e,t,n){e.K=1,e.v=Tv(bv(t)),e.s=n,e.U=!0,iv(e,null)}function iv(e,t){e.F=Date.now(),uv(e),e.A=bv(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Vv(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Zp,e.g=Fm(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Tp(nd(e.Ia,e,e.g),e.O)),Np(e.V,e.g,"readystatechange",e.gb),t=e.H?kd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),jp(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function av(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ov(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=sv(e,n))==nv){4==t&&(e.o=4,Vp(14),i=!1),Rp(e.j,e.m,null,"[Incomplete Response]");break}if(r==tv){e.o=4,Vp(15),Rp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Rp(e.j,e.m,r,null),dv(e,r)}av(e)&&r!=nv&&r!=tv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Vp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rm(t),t.L=!0,Vp(11))):(Rp(e.j,e.m,n,"[Invalid Chunked Response]"),hv(e),fv(e))}function sv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?nv:(n=Number(t.substring(n,r)),isNaN(n)?tv:(r+=1)+n>t.length?nv:(t=t.substr(r,n),e.C=r+n,t))}function uv(e){e.Y=Date.now()+e.P,lv(e,e.P)}function lv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=zp(nd(e.eb,e),t)}function cv(e){e.B&&(Xh.clearTimeout(e.B),e.B=null)}function fv(e){0==e.l.G||e.I||Dm(e.l,e)}function hv(e){cv(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ep(e.W),Ap(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function dv(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Kv(n.i,e)))if(n.I=e.N,!e.J&&Kv(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Lm(n),Em(n)}Pm(n),Vp(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=zp(nd(n.ab,n),6e3));if(1>=Wv(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else jm(n,11)}else if((e.J||n.g==e)&&Lm(n),!fd(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(pd(c,"spdy")||pd(c,"quic")||pd(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Gv(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Sv(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Vm(r,r.H?r.la:null,r.W),d.J){Xv(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(cv(p),uv(p)),r.g=d}else Am(r);0<n.l.length&&Tm(n)}else"stop"!=a[0]&&"close"!=a[0]||jm(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?jm(n,7):xm(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}jp(4)}catch(a){}}function pv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Yh(e)||"string"===typeof e)ud(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Yh(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Yh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function vv(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof vv)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function mv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];yv(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)yv(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function yv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(qh=Jp.prototype).setTimeout=function(e){this.P=e},qh.gb=function(e){e=e.target;var t=this.L;t&&3==ym(e)?t.l():this.Ia(e)},qh.Ia=function(e){try{if(e==this.g)e:{var t=ym(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Cd||this.g&&(this.h.h||this.g.ga()||gm(this.g)))){this.I||4!=t||7==n||jp(8==n||0>=r?3:2),cv(this);var i=this.g.ba();this.N=i;t:if(av(this)){var a=gm(this.g);e="";var o=a.length,s=4==ym(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){hv(this),fv(this);var u="";break t}this.h.i=new Xh.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fd(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Vp(12),hv(this),fv(this);break e}Rp(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dv(this,i)}this.U?(ov(this,t,u),Cd&&this.i&&3==t&&(Np(this.V,this.W,"tick",this.fb),this.W.start())):(Rp(this.j,this.m,u,null),dv(this,u)),4==t&&hv(this),this.i&&!this.I&&(4==t?Dm(this.l,this):(this.i=!1,uv(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Vp(12)):(this.o=0,Vp(13)),hv(this),fv(this)}}}catch(t){}},qh.fb=function(){if(this.g){var e=ym(this.g),t=this.g.ga();this.C<t.length&&(cv(this),ov(this,e,t),this.i&&4!=e&&uv(this))}},qh.cancel=function(){this.I=!0,hv(this)},qh.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(jp(3),Vp(17)),hv(this),this.o=2,fv(this)):lv(this,this.Y-e)},(qh=vv.prototype).R=function(){mv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},qh.T=function(){return mv(this),this.g.concat()},qh.get=function(e,t){return yv(this.h,e)?this.h[e]:t},qh.set=function(e,t){yv(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},qh.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var gv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kv(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof kv){this.g=void 0!==t?t:e.g,wv(this,e.j),this.s=e.s,xv(this,e.i),Ev(this,e.m),this.l=e.l,t=e.h;var n=new Dv;n.i=t.i,t.g&&(n.g=new vv(t.g),n.h=t.h),_v(this,n),this.o=e.o}else e&&(n=String(e).match(gv))?(this.g=!!t,wv(this,n[1]||"",!0),this.s=Cv(n[2]||""),xv(this,n[3]||"",!0),Ev(this,n[4]),this.l=Cv(n[5]||"",!0),_v(this,n[6]||"",!0),this.o=Cv(n[7]||"")):(this.g=!!t,this.h=new Dv(null,this.g))}function bv(e){return new kv(e)}function wv(e,t,n){e.j=n?Cv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function xv(e,t,n){e.i=n?Cv(t,!0):t}function Ev(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _v(e,t,n){t instanceof Dv?(e.h=t,function(e,t){t&&!e.j&&(Mv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jv(this,t),Vv(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Iv(t,Ov)),e.h=new Dv(t,e.g))}function Sv(e,t,n){e.h.set(t,n)}function Tv(e){return Sv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Cv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Iv(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Nv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Nv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}kv.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Iv(t,Av,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Iv(t,Av,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Iv(n,"/"==n.charAt(0)?Rv:Pv,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Iv(n,Lv)),e.join("")};var Av=/[#\/\?@]/g,Pv=/[#\?:]/g,Rv=/[#\?]/g,Ov=/[#\?@]/g,Lv=/#/g;function Dv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Mv(e){e.g||(e.g=new vv,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jv(e,t){Mv(e),t=Fv(e,t),yv(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,yv((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&mv(e)))}function Uv(e,t){return Mv(e),t=Fv(e,t),yv(e.g.h,t)}function Vv(e,t,n){jv(e,t),0<n.length&&(e.i=null,e.g.set(Fv(e,t),cd(n)),e.h+=n.length)}function Fv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(qh=Dv.prototype).add=function(e,t){Mv(this),this.i=null,e=Fv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},qh.forEach=function(e,t){Mv(this),this.g.forEach((function(n,r){ud(n,(function(n){e.call(t,n,r,this)}),this)}),this)},qh.T=function(){Mv(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},qh.R=function(e){Mv(this);var t=[];if("string"===typeof e)Uv(this,e)&&(t=ld(t,this.g.get(Fv(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ld(t,e[n])}return t},qh.set=function(e,t){return Mv(this),this.i=null,Uv(this,e=Fv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},qh.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},qh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var zv=vs((function e(t,n){ds(this,e),this.h=t,this.g=n}));function Bv(e){this.l=e||Hv,Xh.PerformanceNavigationTiming?e=0<(e=Xh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Xh.g&&Xh.g.Ea&&Xh.g.Ea()&&Xh.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Hv=10;function qv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Wv(e){return e.h?1:e.g?e.g.size:0}function Kv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Gv(e,t){e.g?e.g.add(t):e.h=t}function Xv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Qv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=hs(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return cd(e.i)}function Yv(){}function $v(){this.g=new Yv}function Jv(e,t,n){var r=n||"";try{pv(e,(function(e,n){var i=e;$h(e)&&(i=fp(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Zv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function em(e){this.l=e.$b||null,this.j=e.ib||!1}function tm(e,t){up.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=nm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bv.prototype.cancel=function(){if(this.i=Qv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=hs(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Yv.prototype.stringify=function(e){return Xh.JSON.stringify(e,void 0)},Yv.prototype.parse=function(e){return Xh.JSON.parse(e,void 0)},id(em,qp),em.prototype.g=function(){return new tm(this.l,this.j)},em.prototype.i=function(e){return function(){return e}}({}),id(tm,up);var nm=0;function rm(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function im(e){e.readyState=4,e.l=null,e.j=null,e.A=null,am(e)}function am(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(qh=tm.prototype).open=function(e,t){if(this.readyState!=nm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,am(this)},qh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Xh).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},qh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,im(this)),this.readyState=nm},qh.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,am(this)),this.g&&(this.readyState=3,am(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Xh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rm(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},qh.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?im(this):am(this),3==this.readyState&&rm(this)}},qh.Ua=function(e){this.g&&(this.response=this.responseText=e,im(this))},qh.Ta=function(e){this.g&&(this.response=e,im(this))},qh.ha=function(){this.g&&im(this)},qh.setRequestHeader=function(e,t){this.v.append(e,t)},qh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},qh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var om=Xh.JSON.parse;function sm(e){up.call(this),this.headers=new vv,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=um,this.K=this.L=!1}id(sm,up);var um="",lm=/^https?$/i,cm=["POST","PUT"];function fm(e){return"content-type"==e.toLowerCase()}function hm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,dm(e),vm(e)}function dm(e){e.D||(e.D=!0,lp(e,"complete"),lp(e,"error"))}function pm(e){if(e.h&&"undefined"!=typeof Gh&&(!e.C[1]||4!=ym(e)||2!=e.ba()))if(e.v&&4==ym(e))_p(e.Fa,0,e);else if(lp(e,"readystatechange"),4==ym(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(gv)[1]||null;if(!a&&Xh.self&&Xh.self.location){var o=Xh.self.location.protocol;a=o.substr(0,o.length-1)}i=!lm.test(a?a.toLowerCase():"")}t=i}if(t)lp(e,"complete"),lp(e,"success");else{e.m=6;try{var s=2<ym(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",dm(e)}}finally{vm(e)}}}function vm(e,t){if(e.g){mm(e);var n=e.g,r=e.C[0]?Qh:null;e.g=null,e.C=null,t||lp(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function mm(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Xh.clearTimeout(e.A),e.A=null)}function ym(e){return e.g?e.g.readyState:0}function gm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case um:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(cn){return null}}function km(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return gd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Sv(e,t,n))}function bm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function wm(e){this.za=0,this.l=[],this.h=new Pp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bm("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bm("baseRetryDelayMs",5e3,e),this.$a=bm("retryDelaySeedMs",1e4,e),this.Ya=bm("forwardChannelMaxRetries",2,e),this.ra=bm("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Bv(e&&e.concurrentRequestLimit),this.Ca=new $v,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function xm(e){if(_m(e),3==e.G){var t=e.V++,n=bv(e.F);Sv(n,"SID",e.J),Sv(n,"RID",t),Sv(n,"TYPE","terminate"),Im(e,n),(t=new Jp(e,e.h,t,void 0)).K=2,t.v=Tv(bv(n)),n=!1,Xh.navigator&&Xh.navigator.sendBeacon&&(n=Xh.navigator.sendBeacon(t.v.toString(),"")),!n&&Xh.Image&&((new Image).src=t.v,n=!0),n||(t.g=Fm(t.l,null),t.g.ea(t.v)),t.F=Date.now(),uv(t)}Um(e)}function Em(e){e.g&&(Rm(e),e.g.cancel(),e.g=null)}function _m(e){Em(e),e.u&&(Xh.clearTimeout(e.u),e.u=null),Lm(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Xh.clearTimeout(e.m),e.m=null)}function Sm(e,t){e.l.push(new zv(e.Za++,t)),3==e.G&&Tm(e)}function Tm(e){qv(e.i)||e.m||(e.m=!0,gp(e.Ha,e),e.C=0)}function Cm(e,t){var n;n=t?t.m:e.V++;var r=bv(e.F);Sv(r,"SID",e.J),Sv(r,"RID",n),Sv(r,"AID",e.U),Im(e,r),e.o&&e.s&&km(r,e.o,e.s),n=new Jp(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Nm(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Gv(e.i,n),rv(n,r,t)}function Im(e,t){e.j&&pv({},(function(e,n){Sv(t,n,e)}))}function Nm(e,t,n){n=Math.min(e.l.length,n);var r=e.j?nd(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Jv(c,o,"req"+l+"_")}catch(py){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Am(e){e.g||e.u||(e.Y=1,gp(e.Ga,e),e.A=0)}function Pm(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=zp(nd(e.Ga,e),Mm(e,e.A)),e.A++,!0)}function Rm(e){null!=e.B&&(Xh.clearTimeout(e.B),e.B=null)}function Om(e){e.g=new Jp(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=bv(e.oa);Sv(t,"RID","rpc"),Sv(t,"SID",e.J),Sv(t,"CI",e.N?"0":"1"),Sv(t,"AID",e.U),Im(e,t),Sv(t,"TYPE","xmlhttp"),e.o&&e.s&&km(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Tv(bv(t)),n.s=null,n.U=!0,iv(n,e)}function Lm(e){null!=e.v&&(Xh.clearTimeout(e.v),e.v=null)}function Dm(e,t){var n=null;if(e.g==t){Lm(e),Rm(e),e.g=null;var r=2}else{if(!Kv(e.i,t))return;n=t.D,Xv(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;lp(r=Dp(),new Fp(r,n,t,i)),Tm(e)}else Am(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Wv(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=zp(nd(e.Ha,e,t),Mm(e,e.C)),e.C++,!0))}(e,t)||2==r&&Pm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:jm(e,5);break;case 4:jm(e,10);break;case 3:jm(e,6);break;default:jm(e,2)}}function Mm(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function jm(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=nd(e.jb,e);n||(n=new kv("//www.google.com/images/cleardot.gif"),Xh.location&&"http"==Xh.location.protocol||wv(n,"https"),Tv(n)),function(e,t){var n=new Pp;if(Xh.Image){var r=new Image;r.onload=rd(Zv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=rd(Zv,n,r,"TestLoadImage: error",!1,t),r.onabort=rd(Zv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=rd(Zv,n,r,"TestLoadImage: timeout",!1,t),Xh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Vp(2);e.G=0,e.j&&e.j.va(t),Um(e),_m(e)}function Um(e){e.G=0,e.I=-1,e.j&&(0==Qv(e.i).length&&0==e.l.length||(e.i.i.length=0,cd(e.l),e.l.length=0),e.j.ua())}function Vm(e,t,n){var r=function(e){return e instanceof kv?bv(e):new kv(e,void 0)}(n);if(""!=r.i)t&&xv(r,t+"."+r.i),Ev(r,r.m);else{var i=Xh.location;r=function(e,t,n,r){var i=new kv(null,void 0);return e&&wv(i,e),t&&xv(i,t),n&&Ev(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&gd(e.aa,(function(e,t){Sv(r,t,e)})),t=e.D,n=e.sa,t&&n&&Sv(r,t,n),Sv(r,"VER",e.ma),Im(e,r),r}function Fm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new sm(new em({ib:!0})):new sm(e.qa)).L=e.H,t}function zm(){}function Bm(){if(Sd&&!(10<=Number(Ud)))throw Error("Environmental error: no available transport.")}function Hm(e,t){up.call(this),this.g=new wm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!fd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!fd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Km(this)}function qm(e){Qp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Wm(){Yp.call(this),this.status=1}function Km(e){this.g=e}(qh=sm.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gp.g(),this.C=this.u?Wp(this.u):Wp(Gp),this.g.onreadystatechange=nd(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void hm(this,a)}e=n||"";var i=new vv(this.headers);r&&pv(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=fm,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Xh.FormData&&e instanceof Xh.FormData,!(0<=sd(cm,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mm(this),0<this.B&&((this.K=function(e){return Sd&&Md()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nd(this.pa,this)):this.A=_p(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){hm(this,a)}},qh.pa=function(){"undefined"!=typeof Gh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lp(this,"timeout"),this.abort(8))},qh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,lp(this,"complete"),lp(this,"abort"),vm(this))},qh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vm(this,!0)),sm.Z.M.call(this)},qh.Fa=function(){this.s||(this.F||this.v||this.l?pm(this):this.cb())},qh.cb=function(){pm(this)},qh.ba=function(){try{return 2<ym(this)?this.g.status:-1}catch(ln){return-1}},qh.ga=function(){try{return this.g?this.g.responseText:""}catch(ln){return""}},qh.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),om(t)}},qh.Da=function(){return this.m},qh.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(qh=wm.prototype).ma=8,qh.G=1,qh.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(cn){}},qh.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Jp(this,this.h,e,void 0),n=this.s;if(this.P&&(n?wd(n=kd(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Nm(this,t,r),Sv(i=bv(this.F),"RID",e),Sv(i,"CVER",22),this.D&&Sv(i,"X-HTTP-Session-Id",this.D),Im(this,i),this.o&&n&&km(i,this.o,n),Gv(this.i,t),this.Ra&&Sv(i,"TYPE","init"),this.ja?(Sv(i,"$req",r),Sv(i,"SID","null"),t.$=!0,rv(t,i,null)):rv(t,i,r),this.G=2}}else 3==this.G&&(e?Cm(this,e):0==this.l.length||qv(this.i)||Cm(this))},qh.Ga=function(){if(this.u=null,Om(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=zp(nd(this.bb,this),e)}},qh.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Vp(10),Em(this),Om(this))},qh.ab=function(){null!=this.v&&(this.v=null,Em(this),Pm(this),Vp(19))},qh.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Vp(2)):(this.h.info("Failed to ping google.com"),Vp(1))},(qh=zm.prototype).xa=function(){},qh.wa=function(){},qh.va=function(){},qh.ua=function(){},qh.Oa=function(){},Bm.prototype.g=function(e,t){return new Hm(e,t)},id(Hm,up),Hm.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),gp(nd(e.hb,e,t))),Vp(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Vm(e,null,e.W),Tm(e)},Hm.prototype.close=function(){xm(this.g)},Hm.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Sm(this.g,t)}else this.v?((t={}).__data__=fp(e),Sm(this.g,t)):Sm(this.g,e)},Hm.prototype.M=function(){this.g.j=null,delete this.j,xm(this.g),delete this.g,Hm.Z.M.call(this)},id(qm,Qp),id(Wm,Yp),id(Km,zm),Km.prototype.xa=function(){lp(this.g,"a")},Km.prototype.wa=function(e){lp(this.g,new qm(e))},Km.prototype.va=function(e){lp(this.g,new Wm(e))},Km.prototype.ua=function(){lp(this.g,"b")},Bm.prototype.createWebChannel=Bm.prototype.g,Hm.prototype.send=Hm.prototype.u,Hm.prototype.open=Hm.prototype.m,Hm.prototype.close=Hm.prototype.close,Bp.NO_ERROR=0,Bp.TIMEOUT=8,Bp.HTTP_ERROR=6,Hp.COMPLETE="complete",Kp.EventType=Xp,Xp.OPEN="a",Xp.CLOSE="b",Xp.ERROR="c",Xp.MESSAGE="d",up.prototype.listen=up.prototype.N,sm.prototype.listenOnce=sm.prototype.O,sm.prototype.getLastError=sm.prototype.La,sm.prototype.getLastErrorCode=sm.prototype.Da,sm.prototype.getStatus=sm.prototype.ba,sm.prototype.getResponseJson=sm.prototype.Qa,sm.prototype.getResponseText=sm.prototype.ga,sm.prototype.send=sm.prototype.ea;var Gm=Kh.createWebChannelTransport=function(){return new Bm},Xm=Kh.getStatEventTarget=function(){return Dp()},Qm=Kh.ErrorCode=Bp,Ym=Kh.EventType=Hp,$m=Kh.Event=Op,Jm=Kh.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Zm=Kh.FetchXmlHttpFactory=em,ey=Kh.WebChannel=Kp,ty=Kh.XhrIo=sm,ny="@firebase/firestore",ry=function(){function e(t){ds(this,e),this.uid=t}return vs(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ry.UNAUTHENTICATED=new ry(null),ry.GOOGLE_CREDENTIALS=new ry("google-credentials-uid"),ry.FIRST_PARTY=new ry("first-party-uid"),ry.MOCK_USER=new ry("mock-user");var iy="9.8.0",ay=new $s("@firebase/firestore");function oy(){return ay.logLevel}function sy(e){if(ay.logLevel<=qs.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cy);ay.debug.apply(ay,["Firestore (".concat(iy,"): ").concat(e)].concat(mt(i)))}}function uy(e){if(ay.logLevel<=qs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cy);ay.error.apply(ay,["Firestore (".concat(iy,"): ").concat(e)].concat(mt(i)))}}function ly(e){if(ay.logLevel<=qs.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cy);ay.warn.apply(ay,["Firestore (".concat(iy,"): ").concat(e)].concat(mt(i)))}}function cy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function fy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(iy,") INTERNAL ASSERTION FAILED: ")+e;throw uy(t),new Error(t)}function hy(e,t){e||fy()}function dy(e,t){return e}var py={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},vy=function(e){us(n,e);var t=fs(n);function n(e,r){var i;return ds(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return vs(n)}(Is),my=vs((function e(){var t=this;ds(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),yy=vs((function e(t,n){ds(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),gy=function(){function e(){ds(this,e)}return vs(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ry.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ky=function(){function e(t){ds(this,e),this.t=t,this.currentUser=ry.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return vs(e,[{key:"start",value:function(e,n){var r=this,a=this.i,o=function(e){return r.i!==a?(a=r.i,n(e)):Promise.resolve()},s=new my;this.o=function(){r.i++,r.currentUser=r.u(),s.resolve(),s=new my,e.enqueueRetryable((function(){return o(r.currentUser)}))};var u=function(){var n=s;e.enqueueRetryable(i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.promise;case 2:return e.next=4,o(r.currentUser);case 4:case"end":return e.stop()}}),e)}))))},l=function(e){sy("FirebaseAuthCredentialsProvider","Auth detected"),r.auth=e,r.auth.addAuthTokenListener(r.o),u()};this.t.onInit((function(e){return l(e)})),setTimeout((function(){if(!r.auth){var e=r.t.getImmediate({optional:!0});e?l(e):(sy("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new my)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(sy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(hy("string"==typeof n.accessToken),new yy(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return hy(null===e||"string"==typeof e),new ry(e)}}]),e}(),by=vs((function e(t,n,r){ds(this,e),this.type="FirstParty",this.user=ry.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),wy=function(){function e(t,n,r){ds(this,e),this.h=t,this.l=n,this.m=r}return vs(e,[{key:"getToken",value:function(){return Promise.resolve(new by(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ry.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),xy=vs((function e(t){ds(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ey=function(){function e(t){ds(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return vs(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&sy("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,sy("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){sy("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):sy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(hy("string"==typeof t.token),e.p=t.token,new xy(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),_y=function(){function e(t,n){var r=this;ds(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return vs(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Sy(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}_y.A=-1;var Ty=function(){function e(){ds(this,e)}return vs(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Sy(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Cy(e,t){return e<t?-1:e>t?1:0}function Iy(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Ny=function(){function e(t,n){if(ds(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new vy(py.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new vy(py.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new vy(py.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vy(py.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return vs(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Cy(this.nanoseconds,e.nanoseconds):Cy(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Ay=function(){function e(t){ds(this,e),this.timestamp=t}return vs(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ny(0,0))}},{key:"max",value:function(){return new e(new Ny(253402300799,999999999))}}]),e}();function Py(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ry(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Oy(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ly=function(){function e(t,n,r){ds(this,e),void 0===n?n=0:n>t.length&&fy(),void 0===r?r=t.length-n:r>t.length-n&&fy(),this.segments=t,this.offset=n,this.len=r}return vs(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Dy=function(e){us(n,e);var t=fs(n);function n(){return ds(this,n),t.apply(this,arguments)}return vs(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new vy(py.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,mt(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ly),My=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jy=function(e){us(n,e);var t=fs(n);function n(){return ds(this,n),t.apply(this,arguments)}return vs(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return My.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new vy(py.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new vy(py.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new vy(py.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new vy(py.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ly),Uy=function(){function e(t){ds(this,e),this.fields=t,t.sort(jy.comparator)}return vs(e,[{key:"covers",value:function(e){var t,n=hs(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Iy(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Vy=function(e){function t(e){ds(this,t),this.binaryString=e}return vs(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Cy(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Vy.EMPTY_BYTE_STRING=new Vy("");var Fy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zy(e){if(hy(!!e),"string"==typeof e){var t=0,n=Fy.exec(e);if(hy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:By(e.seconds),nanos:By(e.nanos)}}function By(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Hy(e){return"string"==typeof e?Vy.fromBase64String(e):Vy.fromUint8Array(e)}function qy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wy(e){var t=e.mapValue.fields.__previous_value__;return qy(t)?Wy(t):t}function Ky(e){var t=zy(e.mapValue.fields.__local_write_time__.timestampValue);return new Ny(t.seconds,t.nanos)}var Gy=vs((function e(t,n,r,i,a,o,s,u){ds(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Xy=function(){function e(t,n){ds(this,e),this.projectId=t,this.database=n||"(default)"}return vs(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Qy(e){return null==e}function Yy(e){return 0===e&&1/e==-1/0}function $y(e){return"number"==typeof e&&Number.isInteger(e)&&!Yy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Jy=function(){function e(t){ds(this,e),this.path=t}return vs(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Dy.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Dy.fromString(t))}},{key:"fromName",value:function(t){return new e(Dy.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Dy.emptyPath())}},{key:"comparator",value:function(e,t){return Dy.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Dy(t.slice()))}}]),e}(),Zy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function eg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qy(e)?4:dg(e)?9007199254740991:10:fy()}function tg(e,t){if(e===t)return!0;var n=eg(e);if(n!==eg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ky(e).isEqual(Ky(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=zy(e.timestampValue),r=zy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Hy(e.bytesValue).isEqual(Hy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return By(e.geoPointValue.latitude)===By(t.geoPointValue.latitude)&&By(e.geoPointValue.longitude)===By(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return By(e.integerValue)===By(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=By(e.doubleValue),r=By(t.doubleValue);return n===r?Yy(n)===Yy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Iy(e.arrayValue.values||[],t.arrayValue.values||[],tg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Py(n)!==Py(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!tg(n[i],r[i])))return!1;return!0}(e,t);default:return fy()}}function ng(e,t){return void 0!==(e.values||[]).find((function(e){return tg(e,t)}))}function rg(e,t){if(e===t)return 0;var n=eg(e),r=eg(t);if(n!==r)return Cy(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cy(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=By(e.integerValue||e.doubleValue),r=By(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ig(e.timestampValue,t.timestampValue);case 4:return ig(Ky(e),Ky(t));case 5:return Cy(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Hy(e),r=Hy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Cy(n[i],r[i]);if(0!==a)return a}return Cy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Cy(By(e.latitude),By(t.latitude));return 0!==n?n:Cy(By(e.longitude),By(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=rg(n[i],r[i]);if(a)return a}return Cy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Zy.mapValue&&t===Zy.mapValue)return 0;if(e===Zy.mapValue)return 1;if(t===Zy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Cy(r[o],a[o]);if(0!==s)return s;var u=rg(n[r[o]],i[a[o]]);if(0!==u)return u}return Cy(r.length,a.length)}(e.mapValue,t.mapValue);default:throw fy()}}function ig(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cy(e,t);var n=zy(e),r=zy(t),i=Cy(n.seconds,r.seconds);return 0!==i?i:Cy(n.nanos,r.nanos)}function ag(e){return og(e)}function og(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=zy(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Hy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Jy.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=hs(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=og(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=hs(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(og(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):fy();var t,n}function sg(e){return!!e&&"integerValue"in e}function ug(e){return!!e&&"arrayValue"in e}function lg(e){return!!e&&"nullValue"in e}function cg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fg(e){return!!e&&"mapValue"in e}function hg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ry(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=hg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=hg(e.arrayValue.values[r]);return n}return Object.assign({},e)}function dg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var pg=function(){function e(t){ds(this,e),this.value=t}return vs(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!fg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hg(t)}},{key:"setAll",value:function(e){var t=this,n=jy.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=hg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());fg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return tg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];fg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ry(t,(function(t,n){return e[t]=n}));var r,i=hs(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(hg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function vg(e){var t=[];return Ry(e.fields,(function(e,n){var r=new jy([e]);if(fg(n)){var i=vg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=hs(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Uy(t)}var mg=function(){function e(t,n,r,i,a,o){ds(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return vs(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=pg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=pg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Ay.min(),Ay.min(),pg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Ay.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ay.min(),pg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ay.min(),pg.empty(),2)}}]),e}(),yg=vs((function e(t,n,r,i){ds(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));yg.UNKNOWN_ID=-1;function gg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ay.fromTimestamp(1e9===r?new Ny(n+1,0):new Ny(n,r));return new bg(i,Jy.empty(),t)}function kg(e){return new bg(e.readTime,e.key,-1)}var bg=function(){function e(t,n,r){ds(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return vs(e,null,[{key:"min",value:function(){return new e(Ay.min(),Jy.empty(),-1)}},{key:"max",value:function(){return new e(Ay.max(),Jy.empty(),-1)}}]),e}();function wg(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Jy.comparator(e.documentKey,t.documentKey))?n:Cy(e.largestBatchId,t.largestBatchId)}var xg=function(){function e(t,n){ds(this,e),this.comparator=t,this.root=n||_g.EMPTY}return vs(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,_g.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_g.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Eg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Eg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Eg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Eg(this.root,e,this.comparator,!0)}}]),e}(),Eg=function(){function e(t,n,r,i){ds(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return vs(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),_g=function(){function e(t,n,r,i,a){ds(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return vs(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw fy();if(this.right.isRed())throw fy();var e=this.left.check();if(e!==this.right.check())throw fy();return e+(this.isRed()?0:1)}}]),e}();_g.EMPTY=null,_g.RED=!0,_g.BLACK=!1,_g.EMPTY=new(function(){function e(){ds(this,e),this.size=0}return vs(e,[{key:"key",get:function(){throw fy()}},{key:"value",get:function(){throw fy()}},{key:"color",get:function(){throw fy()}},{key:"left",get:function(){throw fy()}},{key:"right",get:function(){throw fy()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new _g(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Sg=function(){function e(t){ds(this,e),this.comparator=t,this.data=new xg(this.comparator)}return vs(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Tg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Tg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Tg=function(){function e(t){ds(this,e),this.iter=t}return vs(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Cg=vs((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ds(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function Ig(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Cg(e,t,n,r,i,a,o)}function Ng(e){var t=dy(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ag(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Qy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ag(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ag(e)})).join(",")),t.P=n}return t.P}function Ag(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Hg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!tg(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wg(e.startAt,t.startAt)&&Wg(e.endAt,t.endAt)}function Pg(e){return Jy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Rg=function(e){us(n,e);var t=fs(n);function n(e,r,i){var a;return ds(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return vs(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(rg(t,this.value)):null!==t&&eg(this.value)===eg(t)&&this.v(rg(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fy()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Og(e,t,r):"array-contains"===t?new jg(e,r):"in"===t?new Ug(e,r):"not-in"===t?new Vg(e,r):"array-contains-any"===t?new Fg(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Lg(e,n):new Dg(e,n)}}]),n}(function(){return vs((function e(){ds(this,e)}))}()),Og=function(e){us(n,e);var t=fs(n);function n(e,r,i){var a;return ds(this,n),(a=t.call(this,e,r,i)).key=Jy.fromName(i.referenceValue),a}return vs(n,[{key:"matches",value:function(e){var t=Jy.comparator(e.key,this.key);return this.v(t)}}]),n}(Rg),Lg=function(e){us(n,e);var t=fs(n);function n(e,r){var i;return ds(this,n),(i=t.call(this,e,"in",r)).keys=Mg("in",r),i}return vs(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rg),Dg=function(e){us(n,e);var t=fs(n);function n(e,r){var i;return ds(this,n),(i=t.call(this,e,"not-in",r)).keys=Mg("not-in",r),i}return vs(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rg);function Mg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Jy.fromName(e.referenceValue)}))}var jg=function(e){us(n,e);var t=fs(n);function n(e,r){return ds(this,n),t.call(this,e,"array-contains",r)}return vs(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ug(t)&&ng(t.arrayValue,this.value)}}]),n}(Rg),Ug=function(e){us(n,e);var t=fs(n);function n(e,r){return ds(this,n),t.call(this,e,"in",r)}return vs(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ng(this.value.arrayValue,t)}}]),n}(Rg),Vg=function(e){us(n,e);var t=fs(n);function n(e,r){return ds(this,n),t.call(this,e,"not-in",r)}return vs(n,[{key:"matches",value:function(e){if(ng(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ng(this.value.arrayValue,t)}}]),n}(Rg),Fg=function(e){us(n,e);var t=fs(n);function n(e,r){return ds(this,n),t.call(this,e,"array-contains-any",r)}return vs(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ng(t.value.arrayValue,e)}))}}]),n}(Rg),zg=vs((function e(t,n){ds(this,e),this.position=t,this.inclusive=n})),Bg=vs((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ds(this,e),this.field=t,this.dir=n}));function Hg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function qg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Jy.comparator(Jy.fromName(o.referenceValue),n.key):rg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Wg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!tg(e.position[n],t.position[n]))return!1;return!0}var Kg=vs((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ds(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function Gg(e,t,n,r,i,a,o,s){return new Kg(e,t,n,r,i,a,o,s)}function Xg(e){return new Kg(e)}function Qg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Yg(e){var t,n=hs(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function $g(e){return null!==e.collectionGroup}function Jg(e){var t=dy(e);if(null===t.D){t.D=[];var n=Yg(t),r=Qg(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Bg(n)),t.D.push(new Bg(jy.keyField(),"asc"));else{var i,a=!1,o=hs(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Bg(jy.keyField(),u))}}}return t.D}function Zg(e){var t=dy(e);if(!t.C)if("F"===t.limitType)t.C=Ig(t.path,t.collectionGroup,Jg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=hs(Jg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Bg(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new zg(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new zg(t.startAt.position,t.startAt.inclusive):null;t.C=Ig(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function ek(e,t,n){return new Kg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tk(e,t){return Ag(Zg(e),Zg(t))&&e.limitType===t.limitType}function nk(e){return"".concat(Ng(Zg(e)),"|lt:").concat(e.limitType)}function rk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ag(t.value));var t})).join(", "),"]")),Qy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ag(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ag(e)})).join(",")),"Target(".concat(t,")")}(Zg(e)),"; limitType=").concat(e.limitType,")")}function ik(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Jy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=hs(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=hs(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=qg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Jg(e),t))&&!(e.endAt&&!function(e,t,n){var r=qg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Jg(e),t))}(e,t)}function ak(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ok(e){return function(t,n){var r,i=!1,a=hs(Jg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=sk(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function sk(e,t,n){var r=e.field.isKeyField()?Jy.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?rg(r,i):fy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fy()}}function uk(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yy(t)?"-0":t}}function lk(e){return{integerValue:""+e}}function ck(e,t){return $y(t)?lk(t):uk(e,t)}var fk=vs((function e(){ds(this,e),this._=void 0}));function hk(e,t,n){return e instanceof vk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof mk?yk(e,t):e instanceof gk?kk(e,t):function(e,t){var n=pk(e,t),r=wk(n)+wk(e.k);return sg(n)&&sg(e.k)?lk(r):uk(e.M,r)}(e,t)}function dk(e,t,n){return e instanceof mk?yk(e,t):e instanceof gk?kk(e,t):n}function pk(e,t){return e instanceof bk?sg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var vk=function(e){us(n,e);var t=fs(n);function n(){return ds(this,n),t.apply(this,arguments)}return vs(n)}(fk),mk=function(e){us(n,e);var t=fs(n);function n(e){var r;return ds(this,n),(r=t.call(this)).elements=e,r}return vs(n)}(fk);function yk(e,t){var n,r=xk(t),i=hs(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return tg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var gk=function(e){us(n,e);var t=fs(n);function n(e){var r;return ds(this,n),(r=t.call(this)).elements=e,r}return vs(n)}(fk);function kk(e,t){var n,r=xk(t),i=hs(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!tg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var bk=function(e){us(n,e);var t=fs(n);function n(e,r){var i;return ds(this,n),(i=t.call(this)).M=e,i.k=r,i}return vs(n)}(fk);function wk(e){return By(e.integerValue||e.doubleValue)}function xk(e){return ug(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ek=vs((function e(t,n){ds(this,e),this.version=t,this.transformResults=n})),_k=function(){function e(t,n){ds(this,e),this.updateTime=t,this.exists=n}return vs(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Sk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Tk=vs((function e(){ds(this,e)}));function Ck(e,t,n){e instanceof Rk?function(e,t,n){var r=e.value.clone(),i=Dk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ok?function(e,t,n){if(Sk(e.precondition,t)){var r=Dk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Lk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ik(e,t,n){e instanceof Rk?function(e,t,n){if(Sk(e.precondition,t)){var r=e.value.clone(),i=Mk(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Pk(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ok?function(e,t,n){if(Sk(e.precondition,t)){var r=Mk(e.fieldTransforms,n,t),i=t.data;i.setAll(Lk(e)),i.setAll(r),t.convertToFoundDocument(Pk(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Sk(e.precondition,t)&&t.convertToNoDocument(Ay.min())}(e,t)}function Nk(e,t){var n,r=null,i=hs(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=pk(a.transform,o||null);null!=s&&(null==r&&(r=pg.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Ak(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Iy(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof mk&&t instanceof mk||e instanceof gk&&t instanceof gk?Iy(e.elements,t.elements,tg):e instanceof bk&&t instanceof bk?tg(e.k,t.k):e instanceof vk&&t instanceof vk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Pk(e){return e.isFoundDocument()?e.version:Ay.min()}var Rk=function(e){us(n,e);var t=fs(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ds(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return vs(n)}(Tk),Ok=function(e){us(n,e);var t=fs(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ds(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return vs(n)}(Tk);function Lk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Dk(e,t,n){var r=new Map;hy(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,dk(o,s,n[i]))}return r}function Mk(e,t,n){var r,i=new Map,a=hs(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,hk(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var jk,Uk,Vk=function(e){us(n,e);var t=fs(n);function n(e,r){var i;return ds(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return vs(n)}(Tk),Fk=function(e){us(n,e);var t=fs(n);function n(e,r){var i;return ds(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return vs(n)}(Tk),zk=vs((function e(t){ds(this,e),this.count=t}));function Bk(e){switch(e){default:return fy();case py.CANCELLED:case py.UNKNOWN:case py.DEADLINE_EXCEEDED:case py.RESOURCE_EXHAUSTED:case py.INTERNAL:case py.UNAVAILABLE:case py.UNAUTHENTICATED:return!1;case py.INVALID_ARGUMENT:case py.NOT_FOUND:case py.ALREADY_EXISTS:case py.PERMISSION_DENIED:case py.FAILED_PRECONDITION:case py.ABORTED:case py.OUT_OF_RANGE:case py.UNIMPLEMENTED:case py.DATA_LOSS:return!0}}function Hk(e){if(void 0===e)return uy("GRPC error has no .code"),py.UNKNOWN;switch(e){case jk.OK:return py.OK;case jk.CANCELLED:return py.CANCELLED;case jk.UNKNOWN:return py.UNKNOWN;case jk.DEADLINE_EXCEEDED:return py.DEADLINE_EXCEEDED;case jk.RESOURCE_EXHAUSTED:return py.RESOURCE_EXHAUSTED;case jk.INTERNAL:return py.INTERNAL;case jk.UNAVAILABLE:return py.UNAVAILABLE;case jk.UNAUTHENTICATED:return py.UNAUTHENTICATED;case jk.INVALID_ARGUMENT:return py.INVALID_ARGUMENT;case jk.NOT_FOUND:return py.NOT_FOUND;case jk.ALREADY_EXISTS:return py.ALREADY_EXISTS;case jk.PERMISSION_DENIED:return py.PERMISSION_DENIED;case jk.FAILED_PRECONDITION:return py.FAILED_PRECONDITION;case jk.ABORTED:return py.ABORTED;case jk.OUT_OF_RANGE:return py.OUT_OF_RANGE;case jk.UNIMPLEMENTED:return py.UNIMPLEMENTED;case jk.DATA_LOSS:return py.DATA_LOSS;default:return fy()}}(Uk=jk||(jk={}))[Uk.OK=0]="OK",Uk[Uk.CANCELLED=1]="CANCELLED",Uk[Uk.UNKNOWN=2]="UNKNOWN",Uk[Uk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Uk[Uk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Uk[Uk.NOT_FOUND=5]="NOT_FOUND",Uk[Uk.ALREADY_EXISTS=6]="ALREADY_EXISTS",Uk[Uk.PERMISSION_DENIED=7]="PERMISSION_DENIED",Uk[Uk.UNAUTHENTICATED=16]="UNAUTHENTICATED",Uk[Uk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Uk[Uk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Uk[Uk.ABORTED=10]="ABORTED",Uk[Uk.OUT_OF_RANGE=11]="OUT_OF_RANGE",Uk[Uk.UNIMPLEMENTED=12]="UNIMPLEMENTED",Uk[Uk.INTERNAL=13]="INTERNAL",Uk[Uk.UNAVAILABLE=14]="UNAVAILABLE",Uk[Uk.DATA_LOSS=15]="DATA_LOSS";var qk=function(){function e(t,n){ds(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return vs(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=hs(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ry(this.inner,(function(t,n){var r,i=hs(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Oy(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Wk=new xg(Jy.comparator);function Kk(){return Wk}var Gk=new xg(Jy.comparator);function Xk(){for(var e=Gk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Qk(){return new qk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Yk=new xg(Jy.comparator),$k=new Sg(Jy.comparator);function Jk(){for(var e=$k,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Zk=new Sg(Cy);function eb(){return Zk}var tb=function(){function e(t,n,r,i,a){ds(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return vs(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,nb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ay.min(),r,eb(),Kk(),Jk())}}]),e}(),nb=function(){function e(t,n,r,i,a){ds(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return vs(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Vy.EMPTY_BYTE_STRING,n,Jk(),Jk(),Jk())}}]),e}(),rb=vs((function e(t,n,r,i){ds(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),ib=vs((function e(t,n){ds(this,e),this.targetId=t,this.$=n})),ab=vs((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ds(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),ob=function(){function e(){ds(this,e),this.B=0,this.L=lb(),this.U=Vy.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return vs(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Jk(),t=Jk(),n=Jk();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fy()}})),new nb(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=lb()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),sb=function(){function e(t){ds(this,e),this.nt=t,this.st=new Map,this.it=Kk(),this.rt=ub(),this.ot=new Sg(Cy)}return vs(e,[{key:"ut",value:function(e){var t,n=hs(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=hs(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:fy()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Pg(i))if(0===n){var a=new Jy(i.path);this.ct(t,a,mg.newNoDocument(a,Ay.min()))}else hy(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Pg(a.target)){var o=new Jy(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,mg.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Jk();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new tb(e,n,this.ot,this.it,r);return this.it=Kk(),this.rt=ub(),this.ot=new Sg(Cy),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new ob,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Sg(Cy),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||sy("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new ob),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ub(){return new xg(Jy.comparator)}function lb(){return new xg(Jy.comparator)}var cb={asc:"ASCENDING",desc:"DESCENDING"},fb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hb=vs((function e(t,n){ds(this,e),this.databaseId=t,this.N=n}));function db(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function pb(e,t){return e.N?t.toBase64():t.toUint8Array()}function vb(e,t){return db(e,t.toTimestamp())}function mb(e){return hy(!!e),Ay.fromTimestamp(function(e){var t=zy(e);return new Ny(t.seconds,t.nanos)}(e))}function yb(e,t){return function(e){return new Dy(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function gb(e){var t=Dy.fromString(e);return hy(Ub(t)),t}function kb(e,t){return yb(e.databaseId,t.path)}function bb(e,t){var n=gb(t);if(n.get(1)!==e.databaseId.projectId)throw new vy(py.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vy(py.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Jy(_b(n))}function wb(e,t){return yb(e.databaseId,t)}function xb(e){var t=gb(e);return 4===t.length?Dy.emptyPath():_b(t)}function Eb(e){return new Dy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _b(e){return hy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Sb(e,t,n){return{name:kb(e,t),fields:n.value.mapValue.fields}}function Tb(e,t){var n;if(t instanceof Rk)n={update:Sb(e,t.key,t.value)};else if(t instanceof Vk)n={delete:kb(e,t.key)};else if(t instanceof Ok)n={update:Sb(e,t.key,t.data),updateMask:jb(t.fieldMask)};else{if(!(t instanceof Fk))return fy();n={verify:kb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof vk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof mk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bk)return{fieldPath:t.field.canonicalString(),increment:n.k};throw fy()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fy()}(e,t.precondition)),n}function Cb(e,t){return{documents:[wb(e,t.path)]}}function Ib(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=wb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=wb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(cg(e.value))return{unaryFilter:{field:Ob(e.field),op:"IS_NAN"}};if(lg(e.value))return{unaryFilter:{field:Ob(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cg(e.value))return{unaryFilter:{field:Ob(e.field),op:"IS_NOT_NAN"}};if(lg(e.value))return{unaryFilter:{field:Ob(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ob(e.field),op:Rb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ob(e.field),direction:Pb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||Qy(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Nb(e){var t=xb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){hy(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ab(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Bg(Lb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Qy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new zg(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new zg(n,t)}(n.endAt)),Gg(t,i,s,o,u,"F",l,c)}function Ab(e){return e?void 0!==e.unaryFilter?[Mb(e)]:void 0!==e.fieldFilter?[Db(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ab(e)})).reduce((function(e,t){return e.concat(t)})):fy():[]}function Pb(e){return cb[e]}function Rb(e){return fb[e]}function Ob(e){return{fieldPath:e.canonicalString()}}function Lb(e){return jy.fromServerFormat(e.fieldPath)}function Db(e){return Rg.create(Lb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fy()}}(e.fieldFilter.op),e.fieldFilter.value)}function Mb(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Lb(e.unaryFilter.field);return Rg.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Lb(e.unaryFilter.field);return Rg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Lb(e.unaryFilter.field);return Rg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Lb(e.unaryFilter.field);return Rg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fy()}}function jb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ub(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Vb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Fb=([].concat(mt(Vb),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),zb=([].concat(Fb,["indexConfiguration","indexState","indexEntries"]),"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),Bb=function(){function e(){ds(this,e),this.onCommittedListeners=[]}return vs(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Hb=function(){function e(t){var n=this;ds(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return vs(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&fy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=hs(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function qb(e){return"IndexedDbTransactionError"===e.name}var Wb=function(){function e(t,n,r,i){ds(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return vs(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ck(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=hs(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Ik(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=hs(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Ik(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ay.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Jk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Iy(this.mutations,e.mutations,(function(e,t){return Ak(e,t)}))&&Iy(this.baseMutations,e.baseMutations,(function(e,t){return Ak(e,t)}))}}]),e}(),Kb=function(){function e(t,n,r,i){ds(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return vs(e,null,[{key:"from",value:function(t,n,r){hy(t.mutations.length===r.length);for(var i=Yk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Gb=function(){function e(t,n){ds(this,e),this.largestBatchId=t,this.mutation=n}return vs(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Xb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ay.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ay.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vy.EMPTY_BYTE_STRING;ds(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return vs(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Qb=vs((function e(t){ds(this,e),this.Jt=t}));function Yb(e){var t=Nb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ek(t,t.limit,"L"):t}var $b=function(){function e(){ds(this,e)}return vs(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(By(e.integerValue));else if("doubleValue"in e){var n=By(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Yy(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Hy(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?dg(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):fy()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=hs(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Jy.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();$b.fe=new $b;var Jb=function(){function e(){ds(this,e),this.qe=new Zb}return vs(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),Hb.resolve()}},{key:"getCollectionParents",value:function(e,t){return Hb.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Hb.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Hb.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Hb.resolve(null)}},{key:"getIndexType",value:function(e,t){return Hb.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Hb.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Hb.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Hb.resolve(bg.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Hb.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Hb.resolve()}}]),e}(),Zb=function(){function e(){ds(this,e),this.index={}}return vs(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Sg(Dy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Sg(Dy.comparator)).toArray()}}]),e}();new Uint8Array(0);var ew=function(){function e(t,n,r){ds(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return vs(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();ew.DEFAULT_COLLECTION_PERCENTILE=10,ew.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ew.DEFAULT=new ew(41943040,ew.DEFAULT_COLLECTION_PERCENTILE,ew.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ew.DISABLED=new ew(-1,0,0);var tw=function(){function e(t){ds(this,e),this.mn=t}return vs(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}();function nw(e){return rw.apply(this,arguments)}function rw(){return rw=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code===py.FAILED_PRECONDITION&&n.message===zb){e.next=2;break}throw n;case 2:sy("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),rw.apply(this,arguments)}var iw=function(){function e(){ds(this,e),this.changes=new qk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return vs(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,mg.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Hb.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var aw=function(){function e(t,n,r){ds(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return vs(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=hs(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=hs(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return Jy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):$g(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new Jy(t)).next((function(e){var t=Xk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Xk();return this.indexManager.getCollectionParents(e,i).next((function(o){return Hb.forEach(o,(function(o){var s=function(e,t){return new Kg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=hs(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=hs(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,l=r.get(u);null==l&&(l=mg.newInvalidDocument(u),r=r.insert(u,l)),Ik(s,l,a.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){ik(t,n)||(r=r.remove(e))})),r}))}}]),e}(),ow=function(){function e(t,n,r,i){ds(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return vs(e,null,[{key:"Ys",value:function(t,n){var r,i=Jk(),a=Jk(),o=hs(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),sw=function(){function e(){ds(this,e),this.Xs=!1}return vs(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return Hb.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Ay.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(oy()<=qs.DEBUG&&sy("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rk(t)),i.ri(e,o,t,gg(r,-1)))}))}},{key:"si",value:function(e,t){var n=new Sg(ok(e));return t.forEach((function(t,r){ik(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return oy()<=qs.DEBUG&&sy("QueryEngine","Using full collection scan to execute query:",rk(t)),this.Zs.Qs(e,t,bg.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),uw=function(){function e(t,n,r,i){ds(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new xg(Cy),this.ai=new qk((function(e){return Ng(e)}),Ag),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return vs(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new aw(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function lw(e,t,n,r){return new uw(e,t,n,r)}function cw(e,t){return fw.apply(this,arguments)}function fw(){return fw=i(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dy(n),e.next=3,i.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return i.Bs.getAllMutationBatches(e).next((function(n){return t=n,i.li(r),i.Bs.getAllMutationBatches(e)})).next((function(n){var r,a=[],o=[],s=Jk(),u=hs(t);try{for(u.s();!(r=u.n()).done;){var l=r.value;a.push(l.batchId);var c,f=hs(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=hs(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=hs(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return i.fi.Ks(e,s).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}function hw(e,t){var n=dy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Hb.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);hy(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function dw(e){var t=dy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function pw(e,t){var n=dy(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(Vy.EMPTY_BYTE_STRING,Ay.min()).withLastLimboFreeSnapshotVersion(Ay.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.fs.updateTargetData(e,l))}}));var s=Kk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(vw(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(Ay.min())){var u=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return Hb.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,s)})).next((function(){return s}))})).then((function(e){return n.ui=i,e}))}function vw(e,t,n){var r=Jk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Kk();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Ay.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):sy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function mw(e,t){var n=dy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function yw(e,t){var n=dy(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,Hb.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new Xb(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function gw(e,t,n){return kw.apply(this,arguments)}function kw(){return kw=i(t().mark((function e(n,r,i){var a,o,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=dy(n),o=a.ui.get(r),s=i?"readwrite":"readwrite-primary",e.prev=1,e.t0=i,e.t0){e.next=6;break}return e.next=6,a.persistence.runTransaction("Release target",s,(function(e){return a.persistence.referenceDelegate.removeTarget(e,o)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),qb(e.t1)){e.next=12;break}throw e.t1;case 12:sy("LocalStore","Failed to update sequence numbers for target ".concat(r,": ").concat(e.t1));case 13:a.ui=a.ui.remove(r),a.ai.delete(o.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),kw.apply(this,arguments)}function bw(e,t,n){var r=dy(e),i=Ay.min(),a=Jk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=dy(e),i=r.ai.get(n);return void 0!==i?Hb.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,Zg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:Ay.min(),n?a:Jk())})).next((function(e){return ww(r,ak(t),e),{documents:e,_i:a}}))}))}function ww(e,t,n){var r=Ay.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}var xw=function(){function e(t){ds(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return vs(e,[{key:"getBundleMetadata",value:function(e,t){return Hb.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:mb(n.createTime)}),Hb.resolve()}},{key:"getNamedQuery",value:function(e,t){return Hb.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:Yb(e.bundledQuery),readTime:mb(e.readTime)}}(t)),Hb.resolve()}}]),e}(),Ew=function(){function e(){ds(this,e),this.overlays=new xg(Jy.comparator),this.Ii=new Map}return vs(e,[{key:"getOverlay",value:function(e,t){return Hb.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),Hb.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),Hb.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Qk(),i=t.length+1,a=new Jy(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Hb.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new xg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Qk(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Qk(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Hb.resolve(u)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Gb(t,n));var a=this.Ii.get(t);void 0===a&&(a=Jk(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),_w=function(){function e(){ds(this,e),this.Ti=new Sg(Sw.Ei),this.Ai=new Sg(Sw.Ri)}return vs(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Sw(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new Sw(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new Jy(new Dy([])),r=new Sw(n,e),i=new Sw(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new Jy(new Dy([])),n=new Sw(t,e),r=new Sw(t,e+1),i=Jk();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Sw(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Sw=function(){function e(t,n){ds(this,e),this.key=t,this.Ci=n}return vs(e,null,[{key:"Ei",value:function(e,t){return Jy.comparator(e.key,t.key)||Cy(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return Cy(e.Ci,t.Ci)||Jy.comparator(e.key,t.key)}}]),e}(),Tw=function(){function e(t,n){ds(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Sg(Sw.Ei)}return vs(e,[{key:"checkEmpty",value:function(e){return Hb.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new Wb(i,t,n,r);this.Bs.push(a);var o,s=hs(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Ni=this.Ni.add(new Sw(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return Hb.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Hb.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return Hb.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Hb.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return Hb.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Sw(t,0),i=new Sw(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),Hb.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Sg(Cy);return t.forEach((function(e){var t=new Sw(e,0),i=new Sw(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),Hb.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Jy.isDocumentKey(i)||(i=i.child(""));var a=new Sw(new Jy(i),0),o=new Sg(Cy);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),Hb.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;hy(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return Hb.forEach(t.mutations,(function(i){var a=new Sw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Sw(t,0),r=this.Ni.firstAfterOrEqual(n);return Hb.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,Hb.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),Cw=function(){function e(t){ds(this,e),this.$i=t,this.docs=new xg(Jy.comparator),this.size=0}return vs(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Hb.resolve(n?n.document.mutableCopy():mg.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Kk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():mg.newInvalidDocument(e))})),Hb.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Kk(),i=new Jy(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||wg(kg(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Hb.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){fy()}},{key:"Bi",value:function(e,t){return Hb.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Iw(this)}},{key:"getSize",value:function(e){return Hb.resolve(this.size)}}]),e}(),Iw=function(e){us(n,e);var t=fs(n);function n(e){var r;return ds(this,n),(r=t.call(this)).Kn=e,r}return vs(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),Hb.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(iw),Nw=function(){function e(t){ds(this,e),this.persistence=t,this.Li=new qk((function(e){return Ng(e)}),Ag),this.lastRemoteSnapshotVersion=Ay.min(),this.highestTargetId=0,this.Ui=0,this.qi=new _w,this.targetCount=0,this.Ki=tw.gn()}return vs(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),Hb.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Hb.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Hb.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),Hb.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),Hb.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new tw(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,Hb.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),Hb.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Hb.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Hb.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Hb.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return Hb.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),Hb.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Hb.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),Hb.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return Hb.resolve(n)}},{key:"containsKey",value:function(e,t){return Hb.resolve(this.qi.containsKey(t))}}]),e}(),Aw=function(){function e(t,n){var r=this;ds(this,e),this.Gi={},this.overlays={},this.es=new _y(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Nw(this),this.indexManager=new Jb,this.ds=new Cw((function(e){return r.referenceDelegate.Qi(e)})),this.M=new Qb(n),this._s=new xw(this.M)}return vs(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Ew,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new Tw(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;sy("MemoryPersistence","Starting transaction:",e);var i=new Pw(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return Hb.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Pw=function(e){us(n,e);var t=fs(n);function n(e){var r;return ds(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return vs(n)}(Bb),Rw=function(){function e(t){ds(this,e),this.persistence=t,this.Hi=new _w,this.Ji=null}return vs(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw fy()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),Hb.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),Hb.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),Hb.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hb.forEach(this.Xi,(function(r){var i=Jy.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,Ay.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return Hb.or([function(){return Hb.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();var Ow=function(){function e(){ds(this,e),this.activeTargetIds=eb()}return vs(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Lw=function(){function e(){ds(this,e),this.Ur=new Ow,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return vs(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new Ow,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Dw=function(){function e(){ds(this,e)}return vs(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Mw=function(){function e(){var t=this;ds(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return vs(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){sy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=hs(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){sy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=hs(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),jw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Uw=function(){function e(t){ds(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return vs(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),Vw=function(e){us(n,e);var t=fs(n);function n(e){var r;return ds(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return vs(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ty;o.listenOnce(Ym.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Qm.NO_ERROR:var t=o.getResponseJson();sy("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Qm.TIMEOUT:sy("Connection",'RPC "'+e+'" timed out'),a(new vy(py.DEADLINE_EXCEEDED,"Request time out"));break;case Qm.HTTP_ERROR:var n=o.getStatus();if(sy("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(py).indexOf(t)>=0?t:py.UNKNOWN}(r.status);a(new vy(s,r.message))}else a(new vy(py.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new vy(py.UNAVAILABLE,"Connection failed."));break;default:fy()}}finally{sy("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Gm(),a=Xm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Zm({})),this.lo(o.initMessageHeaders,t,n),_s()||Ts()||Es().indexOf("Electron/")>=0||Cs()||Es().indexOf("MSAppHost/")>=0||Ss()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");sy("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),l=!1,c=!1,f=new Uw({Jr:function(e){c?sy("Connection","Not sending because WebChannel is closed:",e):(l||(sy("Connection","Opening WebChannel transport."),u.open(),l=!0),sy("Connection","WebChannel sending:",e),u.send(e))},Yr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,ey.EventType.OPEN,(function(){c||sy("Connection","WebChannel transport opened.")})),h(u,ey.EventType.CLOSE,(function(){c||(c=!0,sy("Connection","WebChannel transport closed"),f.ro())})),h(u,ey.EventType.ERROR,(function(e){c||(c=!0,ly("Connection","WebChannel transport errored:",e),f.ro(new vy(py.UNAVAILABLE,"The operation could not be completed")))})),h(u,ey.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];hy(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){sy("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=jk[e];if(void 0!==t)return Hk(t)}(a),s=i.message;void 0===o&&(o=py.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,f.ro(new vy(o,s)),u.close()}else sy("Connection","WebChannel received:",n),f.oo(n)}})),h(a,$m.STAT_EVENT,(function(e){e.stat===Jm.PROXY?sy("Connection","Detected buffering proxy"):e.stat===Jm.NOPROXY&&sy("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){ds(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return vs(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);sy("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return sy("RestConnection","Received: ",e),e}),(function(t){throw ly("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+iy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=jw[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function Fw(){return"undefined"!=typeof document?document:null}function zw(e){return new hb(e,!0)}var Bw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ds(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return vs(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&sy("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Hw=function(){function e(t,n,r,i,a,o,s,u){ds(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Bw(t,n)}return vs(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==n?this.No.reset():r&&r.code===py.RESOURCE_EXHAUSTED?(uy(r.toString()),uy("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):r&&r.code===py.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=n,e.next=9,this.listener.eo(r);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new vy(py.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(i(t().mark((function n(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),n)}))))}},{key:"jo",value:function(e){return sy("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(sy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),qw=function(e){us(n,e);var t=fs(n);function n(e,r,i,a,o,s){var u;return ds(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).M=o,u}return vs(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(hy(void 0===t||"string"==typeof t),Vy.fromBase64String(t||"")):(hy(void 0===t||t instanceof Uint8Array),Vy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?py.UNKNOWN:Hk(e.code);return new vy(t,e.message||"")}(o);n=new ab(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=bb(e,u.document.name),c=mb(u.document.updateTime),f=new pg({mapValue:{fields:u.document.fields}}),h=mg.newFoundDocument(l,c,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new rb(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=bb(e,v.document),y=v.readTime?mb(v.readTime):Ay.min(),g=mg.newNoDocument(m,y),k=v.removedTargetIds||[];n=new rb([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=bb(e,b.document),x=b.removedTargetIds||[];n=new rb([],x,w,null)}else{if(!("filter"in t))return fy();t.filter;var E=t.filter;E.targetId;var _=E.count||0,S=new zk(_),T=E.targetId;n=new ib(T,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Ay.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ay.min():t.readTime?mb(t.readTime):Ay.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=Eb(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Pg(r)?{documents:Cb(e,r)}:{query:Ib(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=pb(e,t.resumeToken):t.snapshotVersion.compareTo(Ay.min())>0&&(n.readTime=db(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fy()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=Eb(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(Hw),Ww=function(e){us(n,e);var t=fs(n);function n(e,r,i,a,o,s){var u;return ds(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).M=o,u.Yo=!1,u}return vs(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,as(rs(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(hy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(hy(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?mb(e.updateTime):mb(t);return n.isEqual(Ay.min())&&(n=mb(t)),new Ek(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=mb(e.commitTime);return this.listener.tu(n,t)}return hy(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=Eb(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Tb(t.M,e)}))};this.Lo(n)}}]),n}(Hw),Kw=function(e){us(n,e);var t=fs(n);function n(e,r,i,a){var o;return ds(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return vs(n,[{key:"iu",value:function(){if(this.su)throw new vy(py.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.So.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===py.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new vy(py.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.So._o(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===py.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new vy(py.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return vs((function e(){ds(this,e)}))}()),Gw=function(){function e(t,n){ds(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return vs(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(uy(t),this.uu=!1):sy("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),Xw=vs((function e(n,r,a,o,s){var u=this;ds(this,e),this.localStore=n,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr((function(e){a.enqueueAndForget(i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ax(u),!e.t0){e.next=5;break}return sy("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=dy(n)).wu.add(4),e.next=4,$w(r);case 4:return r.yu.set("Unknown"),r.wu.delete(4),e.next=8,Qw(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new Gw(a,o)}));function Qw(e){return Yw.apply(this,arguments)}function Yw(){return Yw=i(t().mark((function e(n){var r,i,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ax(n)){e.next=18;break}r=hs(n.mu),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return a=i.value,e.next=8,a(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Yw.apply(this,arguments)}function $w(e){return Jw.apply(this,arguments)}function Jw(){return Jw=i(t().mark((function e(n){var r,i,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=hs(n.mu),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=9;break}return a=i.value,e.next=7,a(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Jw.apply(this,arguments)}function Zw(e,t){var n=dy(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),ix(n)?rx(n):Lx(n).Mo()&&tx(n,t))}function ex(e,t){var n=dy(e),r=Lx(n);n._u.delete(t),r.Mo()&&nx(n,t),0===n._u.size&&(r.Mo()?r.$o():ax(n)&&n.yu.set("Unknown"))}function tx(e,t){e.pu.Z(t.targetId),Lx(e).Ho(t)}function nx(e,t){e.pu.Z(t),Lx(e).Jo(t)}function rx(e){e.pu=new sb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),Lx(e).start(),e.yu.au()}function ix(e){return ax(e)&&!Lx(e).ko()&&e._u.size>0}function ax(e){return 0===dy(e).wu.size}function ox(e){e.pu=void 0}function sx(e){return ux.apply(this,arguments)}function ux(){return ux=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n._u.forEach((function(e,t){tx(n,e)}));case 1:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function lx(e,t){return cx.apply(this,arguments)}function cx(){return cx=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ox(n),ix(n)?(n.yu.lu(r),rx(n)):n.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}function fx(e,t,n){return hx.apply(this,arguments)}function hx(){return hx=i(t().mark((function e(n,r,a){var o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.yu.set("Online"),!(r instanceof ab&&2===r.state&&r.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=i(t().mark((function e(n,r){var i,a,o,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.cause,a=hs(r.targetIds),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=14;break}if(s=o.value,e.t0=n._u.has(s),!e.t0){e.next=12;break}return e.next=10,n.remoteSyncer.rejectListen(s,i);case 10:n._u.delete(s),n.pu.removeTarget(s);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),a.e(e.t1);case 19:return e.prev=19,a.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(n,r);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),sy("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),e.t0),e.next=11,dx(n,e.t0);case 11:case 22:e.next=29;break;case 13:if(r instanceof rb?n.pu.ut(r):r instanceof ib?n.pu._t(r):n.pu.ht(r),a.isEqual(Ay.min())){e.next=29;break}return e.prev=14,e.next=17,dw(n.localStore);case 17:if(o=e.sent,e.t1=a.compareTo(o)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(Vy.EMPTY_BYTE_STRING,n.snapshotVersion)),nx(e,t);var r=new Xb(n.target,t,1,n.sequenceNumber);tx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(n,a);case 24:return e.prev=24,e.t2=e.catch(14),sy("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,dx(n,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),hx.apply(this,arguments)}function dx(e,t,n){return px.apply(this,arguments)}function px(){return px=i(t().mark((function e(n,r,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qb(r)){e.next=2;break}throw r;case 2:return n.wu.add(1),e.next=5,$w(n);case 5:n.yu.set("Offline"),a||(a=function(){return dw(n.localStore)}),n.asyncQueue.enqueueRetryable(i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sy("RemoteStore","Retrying IndexedDB access"),e.next=3,a();case 3:return n.wu.delete(1),e.next=6,Qw(n);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),px.apply(this,arguments)}function vx(e,t){return t().catch((function(n){return dx(e,n,t)}))}function mx(e){return yx.apply(this,arguments)}function yx(){return yx=i(t().mark((function e(n){var r,i,a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=dy(n),i=Dx(r),a=r.du.length>0?r.du[r.du.length-1].batchId:-1;case 2:if(!gx(r)){e.next=19;break}return e.prev=3,e.next=6,mw(r.localStore,a);case 6:if(null!==(o=e.sent)){e.next=10;break}return 0===r.du.length&&i.$o(),e.abrupt("break",19);case 10:a=o.batchId,kx(r,o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,dx(r,e.t0);case 17:e.next=2;break;case 19:bx(r)&&wx(r);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),yx.apply(this,arguments)}function gx(e){return ax(e)&&e.du.length<10}function kx(e,t){e.du.push(t);var n=Dx(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function bx(e){return ax(e)&&!Dx(e).ko()&&e.du.length>0}function wx(e){Dx(e).start()}function xx(e){return Ex.apply(this,arguments)}function Ex(){return Ex=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Dx(n).nu();case 1:case"end":return e.stop()}}),e)}))),Ex.apply(this,arguments)}function _x(e){return Sx.apply(this,arguments)}function Sx(){return Sx=i(t().mark((function e(n){var r,i,a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Dx(n),i=hs(n.du);try{for(i.s();!(a=i.n()).done;)o=a.value,r.Zo(o.mutations)}catch(t){i.e(t)}finally{i.f()}case 3:case"end":return e.stop()}}),e)}))),Sx.apply(this,arguments)}function Tx(e,t,n){return Cx.apply(this,arguments)}function Cx(){return Cx=i(t().mark((function e(n,r,i){var a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.du.shift(),o=Kb.from(a,r,i),e.next=3,vx(n,(function(){return n.remoteSyncer.applySuccessfulWrite(o)}));case 3:return e.next=5,mx(n);case 5:case"end":return e.stop()}}),e)}))),Cx.apply(this,arguments)}function Ix(e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=i(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r&&Dx(n).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=i(t().mark((function e(n,r){var i,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Bk(a=r.code)||a===py.ABORTED){e.next=7;break}return i=n.du.shift(),Dx(n).Fo(),e.next=5,vx(n,(function(){return n.remoteSyncer.rejectFailedWrite(i.batchId,r)}));case 5:return e.next=7,mx(n);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n,r);case 4:bx(n)&&wx(n);case 5:case"end":return e.stop()}}),e)}))),Nx.apply(this,arguments)}function Ax(e,t){return Px.apply(this,arguments)}function Px(){return Px=i(t().mark((function e(n,r){var i,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=dy(n)).asyncQueue.verifyOperationInProgress(),sy("RemoteStore","RemoteStore received new credentials"),a=ax(i),i.wu.add(3),e.next=6,$w(i);case 6:return a&&i.yu.set("Unknown"),e.next=9,i.remoteSyncer.handleCredentialChange(r);case 9:return i.wu.delete(3),e.next=12,Qw(i);case 12:case"end":return e.stop()}}),e)}))),Px.apply(this,arguments)}function Rx(e,t){return Ox.apply(this,arguments)}function Ox(){return Ox=i(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dy(n),!r){e.next=7;break}return i.wu.delete(2),e.next=5,Qw(i);case 5:e.next=13;break;case 7:if(e.t0=r,e.t0){e.next=13;break}return i.wu.add(2),e.next=12,$w(i);case 12:i.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Ox.apply(this,arguments)}function Lx(e){return e.Iu||(e.Iu=function(e,t,n){var r=dy(e);return r.iu(),new qw(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:sx.bind(null,e),eo:lx.bind(null,e),zo:fx.bind(null,e)}),e.mu.push(function(){var n=i(t().mark((function n(r){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=4;break}e.Iu.Fo(),ix(e)?rx(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:ox(e);case 7:case"end":return t.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())),e.Iu}function Dx(e){return e.Tu||(e.Tu=function(e,t,n){var r=dy(e);return r.iu(),new Ww(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:xx.bind(null,e),eo:Ix.bind(null,e),eu:_x.bind(null,e),tu:Tx.bind(null,e)}),e.mu.push(function(){var n=i(t().mark((function n(r){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}return e.Tu.Fo(),t.next=4,mx(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(sy("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())),e.Tu}var Mx=function(){function e(t,n,r,i,a){ds(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new my,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return vs(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vy(py.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function jx(e,t){if(uy("AsyncQueue","".concat(t,": ").concat(e)),qb(e))return new vy(py.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Ux=function(){function e(t){ds(this,e),this.comparator=t?function(e,n){return t(e,n)||Jy.comparator(e.key,n.key)}:function(e,t){return Jy.comparator(e.key,t.key)},this.keyedMap=Xk(),this.sortedSet=new xg(this.comparator)}return vs(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Vx=function(){function e(){ds(this,e),this.Eu=new xg(Jy.comparator)}return vs(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):fy():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Fx=function(){function e(t,n,r,i,a,o,s,u){ds(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return vs(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Ux.emptySet(n),a,r,i,!0,!1)}}]),e}(),zx=vs((function e(){ds(this,e),this.Ru=void 0,this.listeners=[]})),Bx=vs((function e(){ds(this,e),this.queries=new qk((function(e){return nk(e)}),tk),this.onlineState="Unknown",this.bu=new Set}));function Hx(e,t){return qx.apply(this,arguments)}function qx(){return qx=i(t().mark((function e(n,r){var i,a,o,s,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dy(n),a=r.query,o=!1,(s=i.queries.get(a))||(o=!0,s=new zx),!o){e.next=13;break}return e.prev=3,e.next=6,i.onListen(a);case 6:s.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=jx(e.t0,"Initialization of query '".concat(rk(r.query),"' failed")),e.abrupt("return",void r.onError(u));case 13:i.queries.set(a,s),s.listeners.push(r),r.Pu(i.onlineState),s.Ru&&r.Vu(s.Ru)&&Qx(i);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),qx.apply(this,arguments)}function Wx(e,t){return Kx.apply(this,arguments)}function Kx(){return Kx=i(t().mark((function e(n,r){var i,a,o,s,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dy(n),a=r.query,o=!1,(s=i.queries.get(a))&&(u=s.listeners.indexOf(r))>=0&&(s.listeners.splice(u,1),o=0===s.listeners.length),!o){e.next=6;break}return e.abrupt("return",(i.queries.delete(a),i.onUnlisten(a)));case 6:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}function Gx(e,t){var n,r=dy(e),i=!1,a=hs(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=hs(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Vu(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}u.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&Qx(r)}function Xx(e,t,n){var r=dy(e),i=r.queries.get(t);if(i){var a,o=hs(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Qx(e){e.bu.forEach((function(e){e.next()}))}var Yx=function(){function e(t,n,r){ds(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return vs(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=hs(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Fx(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=Fx.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}();var $x=vs((function e(t){ds(this,e),this.key=t})),Jx=vs((function e(t){ds(this,e),this.key=t})),Zx=function(){function e(t,n){ds(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=Jk(),this.mutatedKeys=Jk(),this.Gu=ok(t),this.Qu=new Ux(this.Gu)}return vs(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Vx,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=ik(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||l&&n.Gu(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,ii:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fy()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==a.length||u?{snapshot:new Fx(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Vx,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Jk(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Jx(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new $x(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=Jk();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return Fx.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),eE=vs((function e(t,n,r){ds(this,e),this.query=t,this.targetId=n,this.view=r})),tE=vs((function e(t){ds(this,e),this.key=t,this.na=!1})),nE=function(){function e(t,n,r,i,a,o){ds(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new qk((function(e){return nk(e)}),tk),this.ra=new Map,this.oa=new Set,this.ua=new xg(Jy.comparator),this.aa=new Map,this.ca=new _w,this.ha={},this.la=new Map,this.fa=tw.yn(),this.onlineState="Unknown",this.da=void 0}return vs(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function rE(e,t){return iE.apply(this,arguments)}function iE(){return iE=i(t().mark((function e(n,r){var i,a,o,s,u,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=RE(n),!(s=i.ia.get(r))){e.next=6;break}a=s.targetId,i.sharedClientState.addLocalQueryTarget(a),o=s.view.ea(),e.next=15;break;case 6:return e.next=8,yw(i.localStore,Zg(r));case 8:return u=e.sent,i.isPrimaryClient&&Zw(i.remoteStore,u),l=i.sharedClientState.addLocalQueryTarget(u.targetId),a=u.targetId,e.next=14,aE(i,r,a,"current"===l);case 14:o=e.sent;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(e,t,n,r){return oE.apply(this,arguments)}function oE(){return oE=i(t().mark((function e(n,r,a,o){var s,u,l,c,f,h;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n._a=function(e,r,a){return function(){var e=i(t().mark((function e(n,r,i,a){var o,s,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.view.Wu(i),e.t0=o.ii,!e.t0){e.next=6;break}return e.next=5,bw(n.localStore,r.query,!1).then((function(e){var t=e.documents;return r.view.Wu(t,o)}));case 5:o=e.sent;case 6:return s=a&&a.targetChanges.get(r.targetId),u=r.view.applyChanges(o,n.isPrimaryClient,s),e.abrupt("return",(_E(n,r.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(n,e,r,a)},e.next=3,bw(n.localStore,r,!0);case 3:return s=e.sent,u=new Zx(r,s._i),l=u.Wu(s.documents),c=nb.createSynthesizedTargetChangeForCurrentChange(a,o&&"Offline"!==n.onlineState),f=u.applyChanges(l,n.isPrimaryClient,c),_E(n,a,f.Xu),h=new eE(r,a,u),e.abrupt("return",(n.ia.set(r,h),n.ra.has(a)?n.ra.get(a).push(r):n.ra.set(a,[r]),f.snapshot));case 11:case"end":return e.stop()}}),e)}))),oE.apply(this,arguments)}function sE(e,t){return uE.apply(this,arguments)}function uE(){return uE=i(t().mark((function e(n,r){var i,a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dy(n),a=i.ia.get(r),!((o=i.ra.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(i.ra.set(a.targetId,o.filter((function(e){return!tk(e,r)}))),void i.ia.delete(r)));case 3:if(!i.isPrimaryClient){e.next=11;break}if(i.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=i.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,gw(i.localStore,a.targetId,!1).then((function(){i.sharedClientState.clearQueryState(a.targetId),ex(i.remoteStore,a.targetId),xE(i,a.targetId)})).catch(nw);case 9:e.next=14;break;case 11:return xE(i,a.targetId),e.next=14,gw(i.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function lE(e,t,n){return cE.apply(this,arguments)}function cE(){return cE=i(t().mark((function e(n,r,i){var a,o,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=OE(n),e.prev=1,e.next=4,function(e,t){var n,r=dy(e),i=Ny.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Jk());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,s=[],u=hs(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=Nk(l,n.get(l.key));null!=c&&s.push(new Ok(l.key,c,vg(c.value.mapValue),_k.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.Bs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(a.localStore,r);case 4:return o=e.sent,a.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new xg(Cy)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(a,o.batchId,i),e.next=9,CE(a,o.changes);case 9:return e.next=11,mx(a.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),s=jx(e.t0,"Failed to persist write"),i.reject(s);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),cE.apply(this,arguments)}function fE(e,t){return hE.apply(this,arguments)}function hE(){return hE=i(t().mark((function e(n,r){var i,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dy(n),e.prev=1,e.next=4,pw(i.localStore,r);case 4:return a=e.sent,r.targetChanges.forEach((function(e,t){var n=i.aa.get(t);n&&(hy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?hy(n.na):e.removedDocuments.size>0&&(hy(n.na),n.na=!1))})),e.next=8,CE(i,a,r);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,nw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),hE.apply(this,arguments)}function dE(e,t,n){var r=dy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=dy(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=hs(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Qx(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function pE(e,t,n){return vE.apply(this,arguments)}function vE(){return vE=i(t().mark((function e(n,r,i){var a,o,s,u,l,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=dy(n)).sharedClientState.updateQueryState(r,"rejected",i),o=a.aa.get(r),!(s=o&&o.key)){e.next=14;break}return u=(u=new xg(Jy.comparator)).insert(s,mg.newNoDocument(s,Ay.min())),l=Jk().add(s),c=new tb(Ay.min(),new Map,new Sg(Cy),u,l),e.next=9,fE(a,c);case 9:a.ua=a.ua.remove(s),a.aa.delete(r),TE(a),e.next=16;break;case 14:return e.next=16,gw(a.localStore,r,!1).then((function(){return xE(a,r,i)})).catch(nw);case 16:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function mE(e,t){return yE.apply(this,arguments)}function yE(){return yE=i(t().mark((function e(n,r){var i,a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dy(n),a=r.batch.batchId,e.prev=1,e.next=4,hw(i.localStore,r);case 4:return o=e.sent,wE(i,a,null),bE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),e.next=10,CE(i,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,nw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),yE.apply(this,arguments)}function gE(e,t,n){return kE.apply(this,arguments)}function kE(){return kE=i(t().mark((function e(n,r,i){var a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=dy(n),e.prev=1,e.next=4,function(e,t){var n=dy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return hy(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(a.localStore,r);case 4:return o=e.sent,wE(a,r,i),bE(a,r),a.sharedClientState.updateMutationState(r,"rejected",i),e.next=10,CE(a,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,nw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),kE.apply(this,arguments)}function bE(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function wE(e,t,n){var r=dy(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function xE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=hs(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||EE(e,t)}))}function EE(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(ex(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),TE(e))}function _E(e,t,n){var r,i=hs(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof $x?(e.ca.addReference(a.key,t),SE(e,a)):a instanceof Jx?(sy("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||EE(e,a.key)):fy()}}catch(o){i.e(o)}finally{i.f()}}function SE(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(sy("SyncEngine","New document in limbo: "+n),e.oa.add(r),TE(e))}function TE(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new Jy(Dy.fromString(t)),r=e.fa.next();e.aa.set(r,new tE(n)),e.ua=e.ua.insert(n,r),Zw(e.remoteStore,new Xb(Zg(Xg(n.path)),r,2,_y.A))}}function CE(e,t,n){return IE.apply(this,arguments)}function IE(){return IE=i(t().mark((function e(n,r,a){var o,s,u,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=dy(n),s=[],u=[],l=[],e.t0=o.ia.isEmpty(),e.t0){e.next=9;break}return o.ia.forEach((function(e,t){l.push(o._a(t,r,a).then((function(e){if(e){o.isPrimaryClient&&o.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),s.push(e);var n=ow.Ys(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(l);case 6:return o.sa.zo(s),e.next=9,function(){var e=i(t().mark((function e(n,r){var i,a,o,s,u,l,c,f;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dy(n),e.prev=1,e.next=4,i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Hb.forEach(r,(function(t){return Hb.forEach(t.Hs,(function(n){return i.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Hb.forEach(t.Js,(function(n){return i.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),qb(e.t0)){e.next=10;break}throw e.t0;case 10:sy("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:a=hs(r);try{for(a.s();!(o=a.n()).done;)s=o.value,u=s.targetId,s.fromCache||(l=i.ui.get(u),c=l.snapshotVersion,f=l.withLastLimboFreeSnapshotVersion(c),i.ui=i.ui.insert(u,f))}catch(t){a.e(t)}finally{a.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(o.localStore,u);case 9:case"end":return e.stop()}}),e)}))),IE.apply(this,arguments)}function NE(e,t){return AE.apply(this,arguments)}function AE(){return AE=i(t().mark((function e(n,r){var i,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=dy(n)).currentUser.isEqual(r)){e.next=11;break}return sy("SyncEngine","User change. New user:",r.toKey()),e.next=5,cw(i.localStore,r);case 5:return a=e.sent,i.currentUser=r,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new vy(py.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(i),i.sharedClientState.handleUserChange(r,a.removedBatchIds,a.addedBatchIds),e.next=11,CE(i,a.di);case 11:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}function PE(e,t){var n=dy(e),r=n.aa.get(t);if(r&&r.na)return Jk().add(r.key);var i=Jk(),a=n.ra.get(t);if(!a)return i;var o,s=hs(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.ia.get(u);i=i.unionWith(l.view.ju)}}catch(c){s.e(c)}finally{s.f()}return i}function RE(e){var t=dy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=fE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pE.bind(null,t),t.sa.zo=Gx.bind(null,t.eventManager),t.sa.wa=Xx.bind(null,t.eventManager),t}function OE(e){var t=dy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gE.bind(null,t),t}var LE=function(){function e(){ds(this,e),this.synchronizeTabs=!1}return vs(e,[{key:"initialize",value:function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=zw(n.databaseInfo.databaseId),this.sharedClientState=this.ga(n),this.persistence=this.ya(n),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(n),this.localStore=this.Ia(n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return lw(this.persistence,new sw,e.initialUser,this.M)}},{key:"ya",value:function(e){return new Aw(Rw.Yi,this.M)}},{key:"ga",value:function(e){return new Lw}},{key:"terminate",value:function(){var e=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),DE=function(){function e(){ds(this,e)}return vs(e,[{key:"initialize",value:function(){var e=i(t().mark((function e(n,r){var i=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return dE(i.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=NE.bind(null,this.syncEngine),e.next=12,Rx(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Bx}},{key:"createDatastore",value:function(e){var t,n=zw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Vw(t));return function(e,t,n,r){return new Kw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return dE(o.syncEngine,e,0)},a=Mw.vt()?new Mw:new Dw,new Xw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new nE(e,t,n,r,i,a);return o&&(s.da=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dy(n),sy("RemoteStore","RemoteStore shutting down."),r.wu.add(5),e.next=5,$w(r);case 5:r.gu.shutdown(),r.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var ME=function(){function e(t){ds(this,e),this.observer=t,this.muted=!1}return vs(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),jE=function(){function e(n,r,a,o){var s=this;ds(this,e),this.authCredentials=n,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=o,this.user=ry.UNAUTHENTICATED,this.clientId=Ty.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(a,function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sy("FirestoreClient","Received user=",n.uid),e.next=3,s.authCredentialListener(n);case 3:s.user=n;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(a,(function(e){return sy("FirestoreClient","Received new app check token=",e),s.appCheckCredentialListener(e,s.user)}))}return vs(e,[{key:"getConfiguration",value:function(){var e=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new vy(py.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new my;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(i(t().mark((function r(){var i;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,t.t0=e.onlineComponents,!t.t0){t.next=5;break}return t.next=5,e.onlineComponents.terminate();case 5:if(t.t1=e.offlineComponents,!t.t1){t.next=9;break}return t.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve(),t.next=18;break;case 14:t.prev=14,t.t2=t.catch(0),i=jx(t.t2,"Failed to shutdown persistence"),n.reject(i);case 18:case"end":return t.stop()}}),r,null,[[0,14]])})))),n.promise}}]),e}();function UE(e,t){return VE.apply(this,arguments)}function VE(){return VE=i(t().mark((function e(n,r){var a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.asyncQueue.verifyOperationInProgress(),sy("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,n.getConfiguration();case 3:return a=e.sent,e.next=6,r.initialize(a);case 6:o=a.initialUser,n.setCredentialChangeListener(function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=o.isEqual(n),e.t0){e.next=5;break}return e.next=4,cw(r.localStore,n);case 4:o=n;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener((function(){return n.terminate()})),n.offlineComponents=r;case 8:case"end":return e.stop()}}),e)}))),VE.apply(this,arguments)}function FE(e,t){return zE.apply(this,arguments)}function zE(){return zE=i(t().mark((function e(n,r){var i,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.asyncQueue.verifyOperationInProgress(),e.next=3,BE(n);case 3:return i=e.sent,sy("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,n.getConfiguration();case 7:return a=e.sent,e.next=10,r.initialize(i,a);case 10:n.setCredentialChangeListener((function(e){return Ax(r.remoteStore,e)})),n.setAppCheckTokenChangeListener((function(e,t){return Ax(r.remoteStore,t)})),n.onlineComponents=r;case 13:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function BE(e){return HE.apply(this,arguments)}function HE(){return HE=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.offlineComponents,e.t0){e.next=5;break}return sy("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,UE(n,new LE);case 5:return e.abrupt("return",n.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),HE.apply(this,arguments)}function qE(e){return WE.apply(this,arguments)}function WE(){return WE=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.onlineComponents,e.t0){e.next=5;break}return sy("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,FE(n,new DE);case 5:return e.abrupt("return",n.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function KE(e){return qE(e).then((function(e){return e.syncEngine}))}function GE(e){return XE.apply(this,arguments)}function XE(){return XE=i(t().mark((function e(n){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qE(n);case 2:return r=e.sent,i=r.eventManager,e.abrupt("return",(i.onListen=rE.bind(null,r.syncEngine),i.onUnlisten=sE.bind(null,r.syncEngine),i));case 5:case"end":return e.stop()}}),e)}))),XE.apply(this,arguments)}function QE(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=new my;return e.asyncQueue.enqueueAndForget(i(t().mark((function i(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t,n,r,i){var a=new ME({next:function(n){t.enqueueAndForget((function(){return Wx(e,o)})),n.fromCache&&"server"===r.source?i.reject(new vy(py.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Yx(n,a,{includeMetadataChanges:!0,ku:!0});return Hx(e,o)},t.next=3,GE(e);case 3:return t.t1=t.sent,t.t2=e.asyncQueue,t.t3=n,t.t4=r,t.t5=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4,t.t5));case 9:case"end":return t.stop()}}),i)})))),a.promise}var YE=new Map;function $E(e,t,n){if(!n)throw new vy(py.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function JE(e){if(!Jy.isDocumentKey(e))throw new vy(py.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ZE(e){if(Jy.isDocumentKey(e))throw new vy(py.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function e_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":fy()}function t_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vy(py.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=e_(e);throw new vy(py.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var n_=function(){function e(t){var n;if(ds(this,e),void 0===t.host){if(void 0!==t.ssl)throw new vy(py.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new vy(py.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new vy(py.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return vs(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),r_=function(){function e(t,n,r){ds(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n_({}),this._settingsFrozen=!1,t instanceof Xy?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vy(py.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xy(e.options.projectId)}(t))}return vs(e,[{key:"app",get:function(){if(!this._app)throw new vy(py.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new vy(py.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new gy;switch(e.type){case"gapi":var t=e.client;return hy(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new wy(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new vy(py.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=YE.get(e);t&&(sy("ComponentProvider","Removing Datastore"),YE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var i_=function(){function e(t,n,r){ds(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return vs(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new o_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),a_=function(){function e(t,n,r){ds(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return vs(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),o_=function(e){us(n,e);var t=fs(n);function n(e,r,i){var a;return ds(this,n),(a=t.call(this,e,r,Xg(i)))._path=i,a.type="collection",a}return vs(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new i_(this.firestore,null,new Jy(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(a_);function s_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Vs(e),$E("collection","path",t),e instanceof r_){var a=Dy.fromString.apply(Dy,[t].concat(r));return ZE(a),new o_(e,null,a)}if(!(e instanceof i_||e instanceof o_))throw new vy(py.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Dy.fromString.apply(Dy,[t].concat(r)));return ZE(o),new o_(e.firestore,null,o)}function u_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Vs(e),1===arguments.length&&(t=Ty.R()),$E("doc","path",t),e instanceof r_){var a=Dy.fromString.apply(Dy,[t].concat(r));return JE(a),new i_(e,null,new Jy(a))}if(!(e instanceof i_||e instanceof o_))throw new vy(py.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Dy.fromString.apply(Dy,[t].concat(r)));return JE(o),new i_(e.firestore,e instanceof o_?e.converter:null,new Jy(o))}var l_=function(){function e(){var t=this;ds(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Bw(this,"async_queue_retry"),this.Qa=function(){var e=Fw();e&&sy("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=Fw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return vs(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=Fw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new my;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=i(t().mark((function e(){var n=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),qb(e.t0)){e.next=12;break}throw e.t0;case 12:sy("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return n.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw uy("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=Mx.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&fy()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=i(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.Fa,e.next=3,n;case 3:if(n!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=hs(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=hs(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();var c_=function(e){us(n,e);var t=fs(n);function n(e,r,i){var a;return ds(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new l_,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return vs(n,[{key:"_terminate",value:function(){return this._firestoreClient||h_(this),this._firestoreClient.terminate()}}]),n}(r_);function f_(e){return e._firestoreClient||h_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function h_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Gy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new jE(e._authCredentials,e._appCheckCredentials,e._queue,r)}var d_=function(){function e(){ds(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new vy(py.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jy(n)}return vs(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var p_=function(){function e(t){ds(this,e),this._byteString=t}return vs(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Vy.fromBase64String(t))}catch(t){throw new vy(py.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Vy.fromUint8Array(t))}}]),e}(),v_=vs((function e(t){ds(this,e),this._methodName=t})),m_=function(){function e(t,n){if(ds(this,e),!isFinite(t)||t<-90||t>90)throw new vy(py.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new vy(py.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return vs(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Cy(this._lat,e._lat)||Cy(this._long,e._long)}}]),e}(),y_=/^__.*__$/,g_=function(){function e(t,n,r){ds(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return vs(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ok(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rk(e,this.data,t,this.fieldTransforms)}}]),e}();function k_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fy()}}var b_=function(){function e(t,n,r,i,a,o){ds(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return vs(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return P_(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(k_(this.ec)&&y_.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),w_=function(){function e(t,n,r){ds(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||zw(t)}return vs(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new b_({ec:e,methodName:t,hc:n,path:jy.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function x_(e){var t=e._freezeSettings(),n=zw(e._databaseId);return new w_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function E_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);C_("Data must be an object, but it was:",o,r);var s,u,l=S_(r,o);if(a.merge)s=new Uy(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=hs(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=I_(t,d,n);if(!o.contains(p))throw new vy(py.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));R_(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Uy(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new g_(new pg(l),s,u)}function __(e,t){if(T_(e=Vs(e)))return C_("Unsupported field value:",t,e),S_(e,t);if(e instanceof v_)return function(e,t){if(!k_(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=hs(e);try{for(a.s();!(n=a.n()).done;){var o=__(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Vs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ck(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ny.fromDate(e);return{timestampValue:db(t.M,n)}}if(e instanceof Ny){var r=new Ny(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:db(t.M,r)}}if(e instanceof m_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof p_)return{bytesValue:pb(t.M,e._byteString)};if(e instanceof i_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:yb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(e_(e)))}(e,t)}function S_(e,t){var n={};return Oy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ry(e,(function(e,r){var i=__(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function T_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ny||e instanceof m_||e instanceof p_||e instanceof i_||e instanceof v_)}function C_(e,t,n){if(!T_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=e_(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function I_(e,t,n){if((t=Vs(t))instanceof d_)return t._internalPath;if("string"==typeof t)return A_(e,t);throw P_("Field path arguments must be of type string or ",e,!1,void 0,n)}var N_=new RegExp("[~\\*/\\[\\]]");function A_(e,t,n){if(t.search(N_)>=0)throw P_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ms(d_,mt(t.split(".")))._internalPath}catch(r){throw P_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function P_(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new vy(py.INVALID_ARGUMENT,s+e+u)}function R_(e,t){return e.some((function(e){return e.isEqual(t)}))}var O_=function(){function e(t,n,r,i,a){ds(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return vs(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new i_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new L_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(D_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),L_=function(e){us(n,e);var t=fs(n);function n(){return ds(this,n),t.apply(this,arguments)}return vs(n,[{key:"data",value:function(){return as(rs(n.prototype),"data",this).call(this)}}]),n}(O_);function D_(e,t){return"string"==typeof t?A_(e,t):t instanceof d_?t._internalPath:t._delegate._internalPath}var M_=function(){function e(t,n){ds(this,e),this.hasPendingWrites=t,this.fromCache=n}return vs(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),j_=function(e){us(n,e);var t=fs(n);function n(e,r,i,a,o,s){var u;return ds(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return vs(n,[{key:"exists",value:function(){return as(rs(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new U_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(D_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(O_),U_=function(e){us(n,e);var t=fs(n);function n(){return ds(this,n),t.apply(this,arguments)}return vs(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return as(rs(n.prototype),"data",this).call(this,e)}}]),n}(j_),V_=function(){function e(t,n,r,i){ds(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new M_(i.hasPendingWrites,i.fromCache),this.query=r}return vs(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new U_(n._firestore,n._userDataWriter,r.key,r,new M_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new vy(py.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new U_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new M_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new U_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new M_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:F_(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function F_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fy()}}function z_(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vy(py.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var B_=vs((function e(){ds(this,e)}));function H_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var q_=function(e){us(n,e);var t=fs(n);function n(e,r){var i;return ds(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return vs(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new vy(py.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new vy(py.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Bg(t,n);return function(e,t){if(null===Qg(e)){var n=Yg(e);null!==n&&K_(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new a_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Kg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(B_);function W_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=D_("orderBy",e);return new q_(r,n)}function K_(e,t,n){if(!n.isEqual(t))throw new vy(py.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var G_=function(){function e(){ds(this,e)}return vs(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(eg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return By(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fy()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ry(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new m_(By(e.latitude),By(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Wy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ky(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=zy(e);return new Ny(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Dy.fromString(e);hy(Ub(n));var r=new Xy(n.get(1),n.get(3)),i=new Jy(n.popFirst(5));return r.isEqual(t)||uy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function X_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Q_=function(e){us(n,e);var t=fs(n);function n(e){var r;return ds(this,n),(r=t.call(this)).firestore=e,r}return vs(n,[{key:"convertBytes",value:function(e){return new p_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new i_(this.firestore,null,t)}}]),n}(G_);function Y_(e){e=t_(e,a_);var t=t_(e.firestore,c_),n=f_(t),r=new Q_(t);return z_(e._query),QE(n,e._query).then((function(n){return new V_(t,r,e,n)}))}function $_(e,t,n){e=t_(e,i_);var r=t_(e.firestore,c_),i=X_(e.converter,t,n);return J_(r,[E_(x_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,_k.none())])}function J_(e,n){return function(e,n){var r=new my;return e.asyncQueue.enqueueAndForget(i(t().mark((function i(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=lE,t.next=3,KE(e);case 3:return t.t1=t.sent,t.t2=n,t.t3=r,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 7:case"end":return t.stop()}}),i)})))),r.promise}(f_(e),n)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];iy="9.8.2",Cu(new Fs("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new c_(i,new ky(e.getProvider("auth-internal")),new Ey(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Lu(ny,"3.4.9",e),Lu(ny,"3.4.9","esm2017")}();var Z_="firebasestorage.googleapis.com",eS=function(e){us(n,e);var t=fs(n);function n(e,r){var i;return ds(this,n),(i=t.call(this,tS(e),"Firebase Storage: ".concat(r," (").concat(tS(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(os(i),n.prototype),i}return vs(n,[{key:"_codeEquals",value:function(e){return tS(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Is);function tS(e){return"storage/"+e}function nS(){return new eS("unknown","An unknown error occurred, please check the error payload for server response.")}function rS(){return new eS("canceled","User canceled the upload/download.")}function iS(){return new eS("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function aS(e){return new eS("invalid-argument",e)}function oS(){return new eS("app-deleted","The Firebase app was deleted.")}function sS(e,t){return new eS("invalid-format","String does not match format '"+e+"': "+t)}function uS(e){throw new eS("internal-error","Internal error: "+e)}var lS,cS=function(){function e(t,n){ds(this,e),this.bucket=t,this.path_=n}return vs(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new eS("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Z_?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],l=0;l<u.length;l++){var c=u[l],f=c.regex.exec(t);if(f){var h=f[c.indices.bucket],d=f[c.indices.path];d||(d=""),r=new e(h,d),c.postModify(r);break}}if(null==r)throw function(e){return new eS("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),fS=function(){function e(t){ds(this,e),this.promise_=Promise.reject(t)}return vs(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function hS(e){return"string"===typeof e||e instanceof String}function dS(e){return pS()&&e instanceof Blob}function pS(){return"undefined"!==typeof Blob}function vS(e,t,n,r){if(r<t)throw aS("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw aS("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function mS(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function yS(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(lS||(lS={}));var gS=function(){function e(t,n,r,i,a,o,s,u,l,c,f){var h=this;ds(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return vs(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=nS();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?oS():rS());else i(new eS("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new kS(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(l)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void c.call.apply(c,[null,e].concat(n));var a;if(u()||o)return h(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),l||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new kS(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===lS.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new kS(o,r))}else{var s=r.getErrorCode()===lS.ABORT;t(!1,new kS(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),kS=vs((function e(t,n,r){ds(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function bS(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function wS(){for(var e=bS(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(pS())return new Blob(n);throw new eS("unsupported-environment","This browser doesn't seem to support creating Blobs")}var xS="raw",ES="base64",_S="base64url",SS="data_url",TS=vs((function e(t,n){ds(this,e),this.data=t,this.contentType=n||null}));function CS(e,t){switch(e){case xS:return new TS(IS(t));case ES:case _S:return new TS(NS(e,t));case SS:return new TS(function(e){var t=new AS(e);return t.base64?NS(ES,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw sS(SS,"Malformed data URL.")}return IS(t)}(t.rest)}(t),new AS(t).contentType)}throw nS()}function IS(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function NS(e,t){switch(e){case ES:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw sS(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case _S:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw sS(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(l){throw sS(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var AS=vs((function e(t){ds(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw sS(SS,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var PS=function(){function e(t,n){ds(this,e);var r=0,i="";dS(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return vs(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(dS(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(pS()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(wS.apply(null,i))}var a=n.map((function(e){return hS(e)?CS(xS,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function RS(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function OS(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function LS(e,t){return t}var DS=vs((function e(t,n,r,i){ds(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||LS})),MS=null;function jS(){if(MS)return MS;var e=[];e.push(new DS("bucket")),e.push(new DS("generation")),e.push(new DS("metageneration")),e.push(new DS("name","fullPath",!0));var t=new DS("name");t.xform=function(e,t){return function(e){return!hS(e)||e.length<2?e:OS(e)}(t)},e.push(t);var n=new DS("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new DS("timeCreated")),e.push(new DS("updated")),e.push(new DS("md5Hash",null,!0)),e.push(new DS("cacheControl",null,!0)),e.push(new DS("contentDisposition",null,!0)),e.push(new DS("contentEncoding",null,!0)),e.push(new DS("contentLanguage",null,!0)),e.push(new DS("contentType",null,!0)),e.push(new DS("metadata","customMetadata",!0)),MS=e}function US(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new cS(n,r);return t._makeStorageReference(i)}})}(r,e),r}function VS(e,t,n){var r=RS(t);return null===r?null:US(e,r,n)}function FS(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var zS=vs((function e(t,n,r,i){ds(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function BS(e){if(!e)throw nS()}function HS(e,t){return function(n,r){var i=VS(e,r,t);return BS(null!==i),i}}function qS(e,t){return function(n,r){var i=VS(e,r,t);return BS(null!==i),function(e,t,n,r){var i=RS(t);if(null===i)return null;if(!hS(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return mS("/b/"+o(i)+"/o/"+o(a),n,r)+yS({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function WS(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new eS("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new eS("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new eS("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new eS("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function KS(e){var t=WS(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new eS("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function GS(e,t,n){var r=mS(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new zS(r,"GET",HS(e,n),i);return a.errorHandler=KS(t),a}function XS(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function QS(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=XS(t,r,i),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+FS(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",f=PS.getBlob(l,r,c);if(null===f)throw iS();var h={name:u.fullPath},d=mS(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new zS(d,"POST",HS(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=WS(t),v}var YS=vs((function e(t,n,r,i){ds(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function $S(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){BS(!1)}return BS(!!n&&-1!==(t||["active"]).indexOf(n)),n}var JS=262144;function ZS(e,t,n,r,i,a,o,s){var u=new YS(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new eS("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var f=u.current,h=f+c,d={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw iS();var v=t.maxUploadRetryTime,m=new zS(n,"POST",(function(e,n){var i,o=$S(e,["active","final"]),s=u.current+c,l=r.size();return i="final"===o?HS(t,a)(e,n):null,new YS(s,l,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=WS(e),m}var eT="running",tT="paused",nT="success",rT="canceled",iT="error";function aT(e){switch(e){case"running":case"pausing":case"canceling":return eT;case"paused":return tT;case"success":return nT;case"canceled":return rT;default:return iT}}var oT=vs((function e(t,n,r){ds(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function sT(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var uT=function(){function e(){var t=this;ds(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lS.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=lS.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=lS.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return vs(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw uS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw uS("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw uS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw uS("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw uS("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),lT=function(e){us(n,e);var t=fs(n);function n(){return ds(this,n),t.apply(this,arguments)}return vs(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(uT);function cT(){return new lT}var fT=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ds(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=jS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return vs(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=s(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=XS(t,r,i),s={name:o.fullPath},u=mS(a,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=FS(o,n),f=e.maxUploadRetryTime,h=new zS(u,"POST",(function(e){var t;$S(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){BS(!1)}return BS(hS(t)),t}),f);return h.urlParams=s,h.headers=l,h.body=c,h.errorHandler=WS(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,cT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new zS(n,"POST",(function(e){var t=$S(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){BS(!1)}n||BS(!1);var i=Number(n);return BS(!isNaN(i)),new YS(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=WS(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,cT,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=JS*this._chunkMultiplier,n=new YS(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=ZS(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,cT,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){JS*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=GS(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,cT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=QS(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,cT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=rS(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=aT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new oT(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(aT(this._state)){case nT:sT(this._resolve.bind(null,this.snapshot))();break;case rT:case iT:sT(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(aT(this._state)){case eT:case tT:e.next&&sT(e.next.bind(e,this.snapshot))();break;case nT:e.complete&&sT(e.complete.bind(e))();break;default:e.error&&sT(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),hT=function(){function e(t,n){ds(this,e),this._service=t,this._location=n instanceof cS?n:cS.makeFromUrl(n,t.host)}return vs(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new cS(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return OS(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new cS(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new eS("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function dT(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=mS(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new zS(r,"GET",qS(e,n),i);return a.errorHandler=KS(t),a}(e.storage,e._location,jS());return e.storage.makeRequestWithTokens(t,cT).then((function(e){if(null===e)throw new eS("no-download-url","The given file does not have any download URLs.");return e}))}function pT(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=mS(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new zS(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=KS(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,cT)}function vT(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new cS(e._location.bucket,n);return new hT(e.storage,r)}function mT(e,t){if(e instanceof kT){var n=e;if(null==n._bucket)throw new eS("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new hT(n,n._bucket);return null!=t?mT(r,t):r}return void 0!==t?vT(e,t):e}function yT(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof kT)return new hT(e,t);throw aS("To use ref(service, url), the first argument must be a Storage instance.")}return mT(e,t)}function gT(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:cS.makeFromBucketSpec(n,e)}var kT=function(){function e(t,n,r,i,a){ds(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Z_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?cS.makeFromBucketSpec(i,this._host):gT(this._host,this.app.options)}return vs(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=cS.makeFromBucketSpec(this._url,e):this._bucket=gT(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){vS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){vS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=i(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(n=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,n.getToken();case 6:if(null===(r=e.sent)){e.next=9;break}return e.abrupt("return",r.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=i(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,n.getToken();case 4:return r=e.sent,e.abrupt("return",r.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new hT(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new fS(oS());var a=function(e,t,n,r,i,a){var o=yS(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new gS(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=i(t().mark((function e(n,r){var i,a,o,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return i=e.sent,a=s(i,2),o=a[0],u=a[1],e.abrupt("return",this._makeRequest(n,r,o,u).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),bT="@firebase/storage",wT="0.9.6",xT="storage";function ET(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new fT(e,new PS(t),n)}(e=Vs(e),t,n)}function _T(e,t){return yT(e=Vs(e),t)}function ST(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new kT(r,i,a,n,Ru)}Cu(new Fs(xT,ST,"PUBLIC").setMultipleInstances(!0)),Lu(bT,wT,""),Lu(bT,wT,"esm2017");var TT,CT=function(){return Array.from(_u.values())}.length>0?Ou():function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:xu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Au.create("bad-app-name",{appName:String(i)});var a=_u.get(i);if(a){if(Rs(e,a.options)&&Rs(r,a.config))return a;throw Au.create("duplicate-app",{appName:i})}var o,s=new Ws(i),u=hs(Su.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s.addComponent(l)}}catch(f){u.e(f)}finally{u.f()}var c=new Pu(e,r,s);return _u.set(i,c),c}({apiKey:"AIzaSyBq2ROJ8CYPGbPl_sZodrLI0LDpqH6B0Ik",authDomain:"food-delivery-app-ca37c.firebaseapp.com",databaseURL:"https://food-delivery-app-ca37c-default-rtdb.europe-west1.firebasedatabase.app",projectId:"food-delivery-app-ca37c",storageBucket:"food-delivery-app-ca37c.appspot.com",messagingSenderId:"572929666398",appId:"1:572929666398:web:e7bd8649464c433c88b3cf"}),IT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou();return Iu(e,"firestore").getImmediate()}(CT),NT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou(),t=arguments.length>1?arguments[1]:void 0,n=Iu(e=Vs(e),xT),r=n.getImmediate({identifier:t});return r}(CT),AT=n.p+"static/media/logo.0f99324454e3c3ccba98.png",PT=n.p+"static/media/avatar.68cdc4513e601d28a382.png";function RT(){return RT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RT.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(TT||(TT={}));var OT=function(e){return e};var LT="beforeunload",DT="popstate";function MT(e){e.preventDefault(),e.returnValue=""}function jT(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function UT(){return Math.random().toString(36).substr(2,8)}function VT(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function FT(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var zT=(0,u.createContext)(null);var BT=(0,u.createContext)(null);var HT=(0,u.createContext)({outlet:null,matches:[]});function qT(e,t){if(!e)throw new Error(t)}function WT(e,t,n){void 0===n&&(n="/");var r=ZT(("string"===typeof t?FT(t):t).pathname||"/",n);if(null==r)return null;var i=KT(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=YT(i[o],r);return a}function KT(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||qT(!1),a.relativePath=a.relativePath.slice(r.length));var o=eC([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&qT(!1),KT(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:QT(o,e.index),routesMeta:s})})),t}var GT=/^:\w+$/,XT=function(e){return"*"===e};function QT(e,t){var n=e.split("/"),r=n.length;return n.some(XT)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!XT(e)})).reduce((function(e,t){return e+(GT.test(t)?3:""===t?1:10)}),r)}function YT(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=$T({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:eC([i,c.pathname]),pathnameBase:tC(eC([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=eC([i,c.pathnameBase]))}return a}function $T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],l=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:l,pattern:e}}function JT(e,t,n){var r,i="string"===typeof e?FT(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?FT(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:nC(a),hash:rC(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function ZT(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var eC=function(e){return e.join("/").replace(/\/\/+/g,"/")},tC=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},nC=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},rC=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function iC(e){aC()||qT(!1);var t=(0,u.useContext)(zT),n=t.basename,r=t.navigator,i=uC(e),a=i.hash,o=i.pathname,s=i.search,l=o;if("/"!==n){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?FT(e).pathname:e.pathname}(e),f=null!=c&&c.endsWith("/");l="/"===o?n+(f?"/":""):eC([n,o])}return r.createHref({pathname:l,search:s,hash:a})}function aC(){return null!=(0,u.useContext)(BT)}function oC(){return aC()||qT(!1),(0,u.useContext)(BT).location}function sC(){aC()||qT(!1);var e=(0,u.useContext)(zT),t=e.basename,n=e.navigator,r=(0,u.useContext)(HT).matches,i=oC().pathname,a=JSON.stringify(r.map((function(e){return e.pathnameBase}))),o=(0,u.useRef)(!1);(0,u.useEffect)((function(){o.current=!0}));var s=(0,u.useCallback)((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var s=JT(e,JSON.parse(a),i);"/"!==t&&(s.pathname=eC([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state)}else n.go(e)}),[t,n,a,i]);return s}function uC(e){var t=(0,u.useContext)(HT).matches,n=oC().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,u.useMemo)((function(){return JT(e,JSON.parse(r),n)}),[e,r,n])}function lC(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,i){return(0,u.createElement)(HT.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,i+1))}})}),null)}function cC(e){qT(!1)}function fC(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,o=e.navigationType,s=void 0===o?TT.Pop:o,l=e.navigator,c=e.static,f=void 0!==c&&c;aC()&&qT(!1);var h=tC(n),d=(0,u.useMemo)((function(){return{basename:h,navigator:l,static:f}}),[h,l,f]);"string"===typeof a&&(a=FT(a));var p=a,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,E=p.key,_=void 0===E?"default":E,S=(0,u.useMemo)((function(){var e=ZT(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:_}}),[h,m,g,b,x,_]);return null==S?null:(0,u.createElement)(zT.Provider,{value:d},(0,u.createElement)(BT.Provider,{children:i,value:{location:S,navigationType:s}}))}function hC(e){var t=e.children,n=e.location;return function(e,t){aC()||qT(!1);var n,r=(0,u.useContext)(HT).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/"),s=(i&&i.route,oC());if(t){var l,c="string"===typeof t?FT(t):t;"/"===o||(null==(l=c.pathname)?void 0:l.startsWith(o))||qT(!1),n=c}else n=s;var f=n.pathname||"/",h=WT(e,{pathname:"/"===o?f:f.slice(o.length)||"/"});return lC(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:eC([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:eC([o,e.pathnameBase])})})),r)}(dC(t),n)}function dC(e){var t=[];return u.Children.forEach(e,(function(e){if((0,u.isValidElement)(e))if(e.type!==u.Fragment){e.type!==cC&&qT(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=dC(e.props.children)),t.push(n)}else t.push.apply(t,dC(e.props.children))})),t}function pC(){return pC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pC.apply(this,arguments)}function vC(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var mC=["onClick","reloadDocument","replace","state","target","to"];function yC(e){var t=e.basename,n=e.children,r=e.window,i=(0,u.useRef)();null==i.current&&(i.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,OT({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(DT,(function(){if(a)f.call(a),a=null;else{var e=TT.Pop,t=i(),n=t[0],r=t[1];if(f.length){if(null!=n){var o=u-n;o&&(a={action:e,location:r,retry:function(){y(-1*o)}},y(o))}}else m(e)}}));var o=TT.Pop,s=i(),u=s[0],l=s[1],c=jT(),f=jT();function h(e){return"string"===typeof e?e:VT(e)}function d(e,t){return void 0===t&&(t=null),OT(RT({pathname:l.pathname,hash:"",search:""},"string"===typeof e?FT(e):e,{state:t,key:UT()}))}function p(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function v(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function m(e){o=e;var t=i();u=t[0],l=t[1],c.call({action:o,location:l})}function y(e){r.go(e)}null==u&&(u=0,r.replaceState(RT({},r.state,{idx:u}),""));var g={get action(){return o},get location(){return l},createHref:h,push:function e(t,i){var a=TT.Push,o=d(t,i);if(v(a,o,(function(){e(t,i)}))){var s=p(o,u+1),l=s[0],c=s[1];try{r.pushState(l,"",c)}catch(f){n.location.assign(c)}m(a)}},replace:function e(t,n){var i=TT.Replace,a=d(t,n);if(v(i,a,(function(){e(t,n)}))){var o=p(a,u),s=o[0],l=o[1];r.replaceState(s,"",l),m(i)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return c.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(LT,MT),function(){t(),f.length||n.removeEventListener(LT,MT)}}};return g}({window:r}));var a=i.current,o=s((0,u.useState)({action:a.action,location:a.location}),2),l=o[0],c=o[1];return(0,u.useLayoutEffect)((function(){return a.listen(c)}),[a]),(0,u.createElement)(fC,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a})}var gC=(0,u.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,i=e.replace,a=void 0!==i&&i,o=e.state,s=e.target,l=e.to,c=vC(e,mC),f=iC(l),h=function(e,t){var n=void 0===t?{}:t,r=n.target,i=n.replace,a=n.state,o=sC(),s=oC(),l=uC(e);return(0,u.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!i||VT(s)===VT(l);o(e,{replace:n,state:a})}}),[s,o,l,i,a,r,e])}(l,{replace:a,state:o,target:s});return(0,u.createElement)("a",pC({},c,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||r||h(e)},ref:t,target:s}))}));var kC=n(184),bC=(0,u.createContext)(),wC=function(e){var t=e.reducer,n=e.initialState,r=e.children;return(0,kC.jsx)(bC.Provider,{value:(0,u.useReducer)(t,n),children:r})},xC=function(){return(0,u.useContext)(bC)},EC="SET_USER",_C="SET_FOOD_ITEMS",SC="SET_CART_SHOW",TC="SET_CARTITEMS",CC=function(e,t){switch(console.log(t),t.type){case EC:return Zs(Zs({},e),{},{user:t.user});case _C:return Zs(Zs({},e),{},{foodItems:t.foodItems});case SC:return Zs(Zs({},e),{},{cartShow:t.cartShow});case TC:return Zs(Zs({},e),{},{cartItems:t.cartItems});default:return e}},IC=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou(),t=Iu(e,"auth");return t.isInitialized()?t.getImmediate():fl(e,{popupRedirectResolver:Uh,persistence:[Lf,lf,ff]})}(CT),n=new Wc,r=s(xC(),2),a=r[0],o=a.user,l=a.cartShow,c=a.cartItems,f=r[1],h=s((0,u.useState)(!1),2),d=h[0],p=h[1],v=function(){var r=i(t().mark((function r(){var i,a,s;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=11;break}return t.next=3,Yf(e,n);case 3:i=t.sent,a=i.user,a.refreshToken,s=a.providerData,f({type:EC,user:s[0]}),localStorage.setItem("user",JSON.stringify(s[0])),t.next=12;break;case 11:p(!d);case 12:case"end":return t.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),m=function(){p(!1),localStorage.clear(),f({type:EC,user:null})},b=function(){f({type:SC,cartShow:!l})};return(0,kC.jsxs)("header",{className:"fixed z-50 w-screen p-3 px-4 md:p-6 md:px-16 bg-primary",children:[(0,kC.jsxs)("div",{className:"hidden md:flex w-full h-full items-center justify-between",children:[(0,kC.jsxs)(gC,{to:"/",className:"flex items-center gap-2",children:[(0,kC.jsx)("img",{src:AT,className:"w-8 object-cover",alt:"logo"}),(0,kC.jsx)("p",{className:"text-headingColor text-xl font-bold",children:" City"})]}),(0,kC.jsxs)("div",{className:"flex items-center gap-8",children:[(0,kC.jsxs)(ns.ul,{initial:{opacity:0,x:200},animate:{opacity:1,x:0},exit:{opacity:0,x:200},className:"flex items-center gap-24 ",children:[(0,kC.jsx)("li",{className:"text-lg text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer",children:"Home"}),(0,kC.jsx)("li",{className:"text-lg text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer",children:"Menu"}),(0,kC.jsx)("li",{className:"text-lg text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer",children:"About Us"}),(0,kC.jsx)("li",{className:"text-lg text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer",children:"Service"})]}),(0,kC.jsxs)("div",{className:"relative flex items-center justify-center",onClick:b,children:[(0,kC.jsx)(g,{className:"text-textColor text-2xl  cursor-pointer"}),c&&c.length>0&&(0,kC.jsx)("div",{className:" absolute -top-2 -right-2 w-5 h-5 rounded-full bg-cartNumBg flex items-center justify-center",children:(0,kC.jsx)("p",{className:"text-xs text-white font-semibold",children:c.length})})]}),(0,kC.jsxs)("div",{className:"relative",children:[(0,kC.jsx)(ns.img,{whileTap:{scale:.6},src:o?o.photoURL:PT,className:"w-10 min-w-[40px] h-10 min-h-[40px] drop-shadow-xl cursor-pointer rounded-full",alt:"userprofile",onClick:v}),d&&(0,kC.jsxs)(ns.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},className:"w-40 bg-gray-50 shadow-xl rounded-lg flex flex-col absolute top-12 right-0",children:[o&&"filip.bogicevic025@gmail.com"===o.email&&(0,kC.jsx)(gC,{to:"/createItem",children:(0,kC.jsxs)("p",{className:"px-4 py-2 flex items-center gap-3 cursor-pointer hover:bg-slate-100 transition-all duration-100 ease-in-out text-textColor text-base",onClick:function(){return p(!1)},children:["New Item ",(0,kC.jsx)(k,{})]})}),(0,kC.jsxs)("p",{className:"px-4 py-2 flex items-center gap-3 cursor-pointer hover:bg-slate-100 transition-all duration-100 ease-in-out text-textColor text-base",onClick:m,children:["Logout ",(0,kC.jsx)(y,{})]})]})]})]})]}),(0,kC.jsxs)("div",{className:"flex items-center justify-between md:hidden w-full h-full ",children:[(0,kC.jsxs)("div",{className:"relative flex items-center justify-center",onClick:b,children:[(0,kC.jsx)(g,{className:"text-textColor text-2xl  cursor-pointer"}),c&&c.length>0&&(0,kC.jsx)("div",{className:" absolute -top-2 -right-2 w-5 h-5 rounded-full bg-cartNumBg flex items-center justify-center",children:(0,kC.jsx)("p",{className:"text-xs text-white font-semibold",children:c.length})})]}),(0,kC.jsxs)(gC,{to:"/",className:"flex items-center gap-2",children:[(0,kC.jsx)("img",{src:AT,className:"w-8 object-cover",alt:"logo"}),(0,kC.jsx)("p",{className:"text-headingColor text-xl font-bold",children:" City"})]}),(0,kC.jsxs)("div",{className:"relative",children:[(0,kC.jsx)(ns.img,{whileTap:{scale:.6},src:o?o.photoURL:PT,className:"w-10 min-w-[40px] h-10 min-h-[40px] drop-shadow-xl cursor-pointer rounded-full",alt:"userprofile",onClick:v}),d&&(0,kC.jsxs)(ns.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},className:"w-40 bg-gray-50 shadow-xl rounded-lg flex flex-col absolute top-12 right-0",children:[o&&"filip.bogicevic025@gmail.com"===o.email&&(0,kC.jsx)(gC,{to:"/createItem",children:(0,kC.jsxs)("p",{className:"px-4 py-2 flex items-center gap-3 cursor-pointer hover:bg-slate-100 transition-all duration-100 ease-in-out text-textColor text-base",children:["New Item ",(0,kC.jsx)(k,{})]})}),(0,kC.jsxs)("ul",{className:"flex flex-col ",children:[(0,kC.jsx)("li",{className:"text-base text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer hover:bg-slate-100 px-4 py-2",onClick:function(){return p(!1)},children:"Home"}),(0,kC.jsx)("li",{className:"text-base text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer hover:bg-slate-100 px-4 py-2",onClick:function(){return p(!1)},children:"Menu"}),(0,kC.jsx)("li",{className:"text-base text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer hover:bg-slate-100 px-4 py-2",onClick:function(){return p(!1)},children:"About Us"}),(0,kC.jsx)("li",{className:"text-base text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer hover:bg-slate-100 px-4 py-2",onClick:function(){return p(!1)},children:"Service"})]}),(0,kC.jsxs)("p",{className:"m-2 p-2 rounded-md shadow-md flex items-center justify-center bg-gray-200 gap-3 cursor-pointer hover:bg-gray-300 transition-all duration-100 ease-in-out text-textColor text-base",onClick:m,children:["Logout ",(0,kC.jsx)(y,{})]})]})]})]})]})},NC=n.p+"static/media/delivery.bf9130a0962fbe091abc.png",AC=n.p+"static/media/heroBg.c43c4862422e70d88698.png",PC=[{id:1,name:"Icecream",description:"Chocolate & vanilla",price:"5.25",imageSrc:n.p+"static/media/i1.3d9b129d2c5432c6f1fb.png"},{id:2,name:"Strawberries",description:"Fresh Strawberries",price:"10.25",imageSrc:n.p+"static/media/f1.c52686695ee9a5c4cd0d.png"},{id:3,name:"Chicken Kebab",description:"Mixed Kebab Plate",price:"8.25",imageSrc:n.p+"static/media/c3.55f83414f33f66456b35.png"},{id:4,name:"Fish Kebab",description:"Mixed Kebab Plate",price:"8.25",imageSrc:n.p+"static/media/fi1.3f43e51b6058550d1f44.png"}],RC=[{id:1,name:"Chicken",urlParamName:"chicken"},{id:2,name:"Curry",urlParamName:"curry"},{id:3,name:"Rice",urlParamName:"rice"},{id:4,name:"Fish",urlParamName:"fish"},{id:5,name:"Fruits",urlParamName:"fruits"},{id:6,name:"Icecreams",urlParamName:"icecreams"},{id:7,name:"Soft Drinks",urlParamName:"drinks"}],OC=function(){return(0,kC.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 w-full",id:"home",children:[(0,kC.jsxs)("div",{className:"py-2 flex-1 flex flex-col items-start justify-center gap-6",children:[(0,kC.jsxs)("div",{className:"flex items-center gap-2 justify-center bg-orange-100 px-4 py-1 rounded-full",children:[(0,kC.jsx)("p",{className:"text-base text-orange-500 font-semibold",children:"Bike Delivery"}),(0,kC.jsx)("div",{className:"w-8 h-8 bg-white rounded-full overflow-hidden drop-shadow-xl",children:(0,kC.jsx)("img",{className:"w-full h-full object-contain",src:NC,alt:"Delivery image"})})]}),(0,kC.jsxs)("p",{className:"text-[2.5rem] lg:text-[4.5rem] font-bold letter tracking-wide text-headingColor",children:["The Fastest Delivery in"," ",(0,kC.jsx)("span",{className:"text-orange-600 text-[3rem] lg:text-[5rem]",children:"Your City"})]}),(0,kC.jsx)("p",{className:"text-base text-textColor text-center md:text-left md:w-[80%]",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officiis, molestiae et asperiores repellendus tenetur repudiandae explicabo porro blanditiis dicta nostrum at quisquam animi nemo voluptatum, officia nisi, praesentium error soluta."}),(0,kC.jsx)("button",{type:"button",className:"md:w-auto bg-gradient-to-br from-orange-400 to-orange-500 w-full px-4 py-2 rounded-lg hover:shadow-lg transition-all ease-out duration-100",children:"Order Now"})]}),(0,kC.jsxs)("div",{className:"py-2 flex-1 flex items-center relative",children:[(0,kC.jsx)("img",{src:AC,alt:"Hero image",className:"h-400 w-full lg:w-auto lg:h-650 ml-auto"}),(0,kC.jsx)("div",{className:"w-full h-full absolute top-0 left-0 flex items-center justify-center lg:px-32 py-32 gap-4 flex-wrap drop-shadow-lg",children:PC&&PC.map((function(e){return(0,kC.jsxs)("div",{className:"  lg:w-190 p-4 bg-cardOverlay backdrop-blur-md rounded-3xl flex items-center justify-center flex-col",children:[(0,kC.jsx)("img",{src:e.imageSrc,className:"w-20 -mt-10 lg:w-40 lg:-mt-20",alt:"Ice cream image"}),(0,kC.jsx)("p",{className:"text-base lg:text-xl font-semibold text-textColor mt-2 lg:mt-4",children:e.name}),(0,kC.jsx)("p",{className:"text-[12px] lg:text-sm text-lighttextGray font-semibold my-1 lg:my-3",children:e.description}),(0,kC.jsxs)("p",{className:"text-sm font-semibold text-headingColor",children:[(0,kC.jsx)("span",{className:"text-xs text-red-600",children:"$"}),e.price]})]},e.id)}))})]})]})};var LC=n.p+"static/media/NotFound.4e90bb93460bfd8d9e2c86b42ef91a4a.svg",DC=function(e){var t=e.flag,n=e.data,r=e.scrollValue,i=(0,u.useRef)(),a=s((0,u.useState)([]),2),o=a[0],l=a[1],c=s(xC(),2),f=c[0].cartItems,h=c[1];return(0,u.useEffect)((function(){i.current.scrollLeft+=r}),[r]),(0,u.useEffect)((function(){h({type:TC,cartItems:o}),localStorage.setItem("cartItems",JSON.stringify(o))}),[o]),(0,kC.jsx)("div",{ref:i,className:"w-full flex items-center gap-3  my-12 scroll-smooth  ".concat(t?"overflow-x-scroll scrollbar-none":"overflow-x-hidden flex-wrap justify-center"),children:n&&n.length>0?n.map((function(e){return(0,kC.jsxs)("div",{className:"w-275 h-[175px] min-w-[275px] md:w-300 md:min-w-[300px]  bg-cardOverlay rounded-lg py-2 px-4  my-12 backdrop-blur-lg hover:drop-shadow-lg flex flex-col items-center justify-evenly relative",children:[(0,kC.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,kC.jsx)(ns.div,{className:"w-40 h-40 -mt-8 drop-shadow-2xl",whileHover:{scale:1.2},children:(0,kC.jsx)("img",{src:null===e||void 0===e?void 0:e.imageUrl,alt:"",className:"w-full h-full object-contain"})}),(0,kC.jsx)(ns.div,{whileTap:{scale:.75},className:"w-8 h-8 rounded-full bg-red-600 flex items-center justify-center cursor-pointer hover:shadow-md -mt-8",onClick:function(){return l([].concat(mt(f),[e]))},children:(0,kC.jsx)(g,{className:"text-white"})})]}),(0,kC.jsxs)("div",{className:"w-full flex flex-col items-end justify-end -mt-8",children:[(0,kC.jsx)("p",{className:"text-textColor font-semibold text-base md:text-lg",children:null===e||void 0===e?void 0:e.title}),(0,kC.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:[null===e||void 0===e?void 0:e.calories," Calories"]}),(0,kC.jsx)("div",{className:"flex items-center gap-8",children:(0,kC.jsxs)("p",{className:"text-lg text-headingColor font-semibold",children:[(0,kC.jsx)("span",{className:"text-sm text-red-500",children:"$"})," ",null===e||void 0===e?void 0:e.price]})})]})]},null===e||void 0===e?void 0:e.id)})):(0,kC.jsxs)("div",{className:"w-full flex flex-col items-center justify-center",children:[(0,kC.jsx)("img",{src:LC,className:"h-340"}),(0,kC.jsx)("p",{className:"text-xl text-headingColor font-semibold my-2",children:"Items Not Available"})]})})};function MC(e){return p({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M368 128h.09m111.46-32h-91.06l8.92-35.66 38.32-13.05c8.15-2.77 13-11.43 10.65-19.71a16 16 0 00-20.54-10.73l-47 16a16 16 0 00-10.36 11.27L355.51 96H224.45c-8.61 0-16 6.62-16.43 15.23A16 16 0 00224 128h2.75l1 8.66A8.3 8.3 0 00236 144c39 0 73.66 10.9 100.12 31.52A121.9 121.9 0 01371 218.07a123.4 123.4 0 0110.12 29.51 7.83 7.83 0 003.29 4.88 72 72 0 0126.38 86.43 7.92 7.92 0 00-.15 5.53A96 96 0 01416 376c0 22.34-7.6 43.63-21.4 59.95a80.12 80.12 0 01-28.78 21.67 8 8 0 00-4.21 4.37 108.19 108.19 0 01-17.37 29.86 2.5 2.5 0 001.9 4.11h49.21a48.22 48.22 0 0047.85-44.14L477.4 128h2.6a16 16 0 0016-16.77c-.42-8.61-7.84-15.23-16.45-15.23z"}},{tag:"path",attr:{d:"M108.69 320a23.87 23.87 0 0117 7l15.51 15.51a4 4 0 005.66 0L162.34 327a23.87 23.87 0 0117-7h196.58a8 8 0 008.08-7.92V312a40.07 40.07 0 00-32-39.2c-.82-29.69-13-54.54-35.51-72C295.67 184.56 267.85 176 236 176h-72c-68.22 0-114.43 38.77-116 96.8A40.07 40.07 0 0016 312a8 8 0 008 8zm77.25 32a8 8 0 00-5.66 2.34l-22.14 22.15a20 20 0 01-28.28 0l-22.14-22.15a8 8 0 00-5.66-2.34h-69.4a15.93 15.93 0 00-15.76 13.17A65.22 65.22 0 0016 376c0 30.59 21.13 55.51 47.26 56 2.43 15.12 8.31 28.78 17.16 39.47C93.51 487.28 112.54 496 134 496h132c21.46 0 40.49-8.72 53.58-24.55 8.85-10.69 14.73-24.35 17.16-39.47 26.13-.47 47.26-25.39 47.26-56a65.22 65.22 0 00-.9-10.83A15.93 15.93 0 00367.34 352z"}}]})(e)}var jC=function(){var e=s((0,u.useState)("chicken"),2),t=e[0],n=e[1],r=s(xC(),2),i=r[0].foodItems;r[1];return(0,kC.jsx)("section",{className:"w-full my-6",id:"menu",children:(0,kC.jsxs)("div",{className:"w-full flex flex-col items-center justify-center",children:[(0,kC.jsx)("p",{className:"text-2xl font-semibold capitalize text-headingColor relative before:absolute before:rounded-lg before:content before:w-16 before:h-1 before:-bottom-2 before:left-0 before:bg-gradient-to-tr from-orange-400 to-orange-600 transition-all ease-in-out duration-100 mr-auto",children:"Our Hot Dishes"}),(0,kC.jsx)("div",{className:"w-full flex items-center justify-start lg:justify-center gap-8 py-6 overflow-x-scroll scrollbar-none",children:RC&&RC.map((function(e){return(0,kC.jsxs)(ns.div,{whileTap:{scale:.75},className:"group ".concat(t===e.urlParamName?"bg-cartNumBg":"bg-card"," w-24 min-w-[94px] h-28 cursor-pointer rounded-lg drop-shadow-xl flex flex-col gap-3 items-center justify-center hover:bg-cartNumBg "),onClick:function(){return n(e.urlParamName)},children:[(0,kC.jsx)("div",{className:"w-10 h-10 rounded-full shadow-lg ".concat(t===e.urlParamName?"bg-white":"bg-cartNumBg"," group-hover:bg-white flex items-center justify-center"),children:(0,kC.jsx)(MC,{className:"".concat(t===e.urlParamName?"text-textColor":"text-white"," group-hover:text-textColor text-lg")})}),(0,kC.jsx)("p",{className:"text-sm ".concat(t===e.urlParamName?"text-white":"text-textColor"," group-hover:text-white"),children:e.name})]},e.id)}))}),(0,kC.jsx)("div",{className:"w-full",children:(0,kC.jsx)(DC,{flag:!1,data:null===i||void 0===i?void 0:i.filter((function(e){return e.category==t}))})})]})})};function UC(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm4.82-4.924A7 7 0 0 0 9.032 5.658l.975 1.755A5 5 0 0 1 17 12h-3l2.82 5.076zm-1.852 1.266l-.975-1.755A5 5 0 0 1 7 12h3L7.18 6.924a7 7 0 0 0 7.788 11.418z"}}]}]})(e)}var VC=n.p+"static/media/emptyCart.71ad17e692d71caa77c6c9351f84756b.svg";function FC(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 11h14v2H5z"}}]})(e)}function zC(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z"}}]})(e)}var BC=[],HC=function(e){var t=e.item,n=e.setFlag,r=e.flag,i=s(xC(),2),a=i[0].cartItems,o=i[1],l=s((0,u.useState)(t.qty),2),c=l[0],f=l[1],h=function(){localStorage.setItem("cartItems",JSON.stringify(BC)),o({type:TC,cartItems:BC})},d=function(e,t){"add"==e?(f(c+1),a.map((function(e){e.id===t&&(e.qty+=1,n(r+1))})),h()):1==c?(BC=a.filter((function(e){return e.id!==t})),n(r+1),h()):(f(c-1),a.map((function(e){e.id===t&&(e.qty-=1,n(r+1))})),h())};return(0,u.useEffect)((function(){BC=a}),[c,BC]),(0,kC.jsxs)("div",{className:"w-full p-1 px-2 rounded-lg bg-cartItem flex items-center gap-2",children:[(0,kC.jsx)("img",{src:null===t||void 0===t?void 0:t.imageUrl,className:"w-20 h-20 max-w-[60px] rounded-full object-contain",alt:""}),(0,kC.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,kC.jsx)("p",{className:"text-base text-gray-50",children:null===t||void 0===t?void 0:t.title}),(0,kC.jsxs)("p",{className:"text-sm block text-gray-300 font-semibold",children:["$ ",parseFloat(null===t||void 0===t?void 0:t.price)*c]})]}),(0,kC.jsxs)("div",{className:"group flex items-center gap-2 ml-auto cursor-pointer",children:[(0,kC.jsx)(ns.div,{whileTap:{scale:.75},onClick:function(){return d("remove",null===t||void 0===t?void 0:t.id)},children:(0,kC.jsx)(FC,{className:"text-gray-50 "})}),(0,kC.jsx)("p",{className:"w-5 h-5 rounded-sm bg-cartBg text-gray-50 flex items-center justify-center",children:c}),(0,kC.jsx)(ns.div,{whileTap:{scale:.75},onClick:function(){return d("add",null===t||void 0===t?void 0:t.id)},children:(0,kC.jsx)(zC,{className:"text-gray-50 "})})]})]})},qC=function(){var e=s(xC(),2),t=e[0],n=t.cartShow,r=t.cartItems,i=t.user,a=e[1],o=s((0,u.useState)(1),2),l=o[0],c=o[1],f=s((0,u.useState)(0),2),h=f[0],d=f[1];(0,u.useEffect)((function(){var e=r.reduce((function(e,t){return e+t.qty*t.price}),0);d(e),console.log(h)}),[h,l]);return(0,kC.jsxs)(ns.div,{initial:{opacity:0,x:200},animate:{opacity:1,x:0},exit:{opacity:0,x:200},className:"fixed top-0 right-0 w-full md:w-375 h-screen bg-white drop-shadow-md flex flex-col z-[101]",children:[(0,kC.jsxs)("div",{className:"w-full flex items-center justify-between p-4 cursor-pointer",children:[(0,kC.jsx)(ns.div,{whileTap:{scale:.75},onClick:function(){a({type:SC,cartShow:!n})},children:(0,kC.jsx)(T,{className:"text-textColor text-3xl"})}),(0,kC.jsx)("p",{className:"text-textColor text-lg font-semibold",children:"Cart"}),(0,kC.jsxs)(ns.p,{whileTap:{scale:.75},className:"flex items-center gap-2 p-1 px-2 my-2 bg-gray-100 rounded-md hover:shadow-md  cursor-pointer text-textColor text-base",onClick:function(){a({type:TC,cartItems:[]}),localStorage.setItem("cartItems",JSON.stringify([]))},children:["Clear ",(0,kC.jsx)(UC,{})]})]}),r&&r.length>0?(0,kC.jsxs)("div",{className:"w-full h-full bg-cartBg rounded-t-[2rem] flex flex-col",children:[(0,kC.jsx)("div",{className:"w-full h-340 md:h-42 px-6 py-10 flex flex-col gap-3 overflow-y-scroll scrollbar-none",children:r&&r.length>0&&r.map((function(e){return(0,kC.jsx)(HC,{item:e,setFlag:c,flag:l},e.id)}))}),(0,kC.jsxs)("div",{className:"w-full flex-1 bg-cartTotal rounded-t-[2rem] flex flex-col items-center justify-evenly px-8 py-2",children:[(0,kC.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,kC.jsx)("p",{className:"text-gray-400 text-lg",children:"Sub Total"}),(0,kC.jsxs)("p",{className:"text-gray-400 text-lg",children:["$ ",h]})]}),(0,kC.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,kC.jsx)("p",{className:"text-gray-400 text-lg",children:"Delivery"}),(0,kC.jsx)("p",{className:"text-gray-400 text-lg",children:"$ 2.5"})]}),(0,kC.jsx)("div",{className:"w-full border-b border-gray-600 my-2"}),(0,kC.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,kC.jsx)("p",{className:"text-gray-200 text-xl font-semibold",children:"Total"}),(0,kC.jsxs)("p",{className:"text-gray-200 text-xl font-semibold",children:["$",h+2.5]})]}),i?(0,kC.jsx)(ns.button,{whileTap:{scale:.8},type:"button",className:"w-full p-2 rounded-full bg-gradient-to-tr from-orange-400 to-orange-600 text-gray-50 text-lg my-2 hover:shadow-lg",children:"Check Out"}):(0,kC.jsx)(ns.button,{whileTap:{scale:.8},type:"button",className:"w-full p-2 rounded-full bg-gradient-to-tr from-orange-400 to-orange-600 text-gray-50 text-lg my-2 hover:shadow-lg",children:"Login to check out"})]})]}):(0,kC.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center gap-6",children:[(0,kC.jsx)("img",{src:VC,className:"w-300",alt:""}),(0,kC.jsx)("p",{className:"text-xl text-textColor font-semibold",children:"Add some items to your cart"})]})]})},WC=function(){var e=s(xC(),2),t=e[0],n=t.foodItems,r=t.cartShow,i=(e[1],s((0,u.useState)(0),2)),a=i[0],o=i[1];return(0,u.useEffect)((function(){}),[a,r]),(0,kC.jsxs)("div",{className:"w-full h-auto flex flex-col items-center justify-center ",children:[(0,kC.jsx)(OC,{}),(0,kC.jsxs)("section",{className:"w-full my-6",children:[(0,kC.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,kC.jsx)("p",{className:"text-2xl font-semibold capitalize text-headingColor relative before:absolute before:rounded-lg before:content before:w-32 before:h-1 before:-bottom-2 before:left-0 before:bg-gradient-to-tr from-orange-400 to-orange-600 transition-all ease-in-out duration-100",children:"Our fresh & healthy fruits"}),(0,kC.jsxs)("div",{className:"hidden md:flex gap-3 items-center",children:[(0,kC.jsx)(ns.div,{whileTap:{scale:.75},className:"w-8 h-8 rounded-lg bg-orange-300 hover:bg-orange-500 cursor-pointer  hover:shadow-lg flex items-center justify-center",onClick:function(){return o(-200)},children:(0,kC.jsx)(E,{className:"text-lg text-white"})}),(0,kC.jsx)(ns.div,{whileTap:{scale:.75},className:"w-8 h-8 rounded-lg bg-orange-300 hover:bg-orange-500 cursor-pointer transition-all duration-100 ease-in-out hover:shadow-lg flex items-center justify-center",onClick:function(){return o(200)},children:(0,kC.jsx)(_,{className:"text-lg text-white"})})]})]}),(0,kC.jsx)(DC,{scrollValue:a,flag:!0,data:null===n||void 0===n?void 0:n.filter((function(e){return"fruits"===e.category}))})]}),(0,kC.jsx)(jC,{}),r&&(0,kC.jsx)(qC,{})]})},KC=function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$_(u_(IT,"foodItems","".concat(Date.now())),n,{merge:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),GC=function(){var e=i(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y_(H_(s_(IT,"foodItems"),W_("id","desc")));case 2:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return e.data()})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),XC=function(){return(0,kC.jsxs)("svg",{role:"status",className:"inline w-10 h-10 mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,kC.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,kC.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})},QC=function(){var e=s(xC(),2),n=(e[0].foodItems,e[1]),r=s((0,u.useState)(""),2),a=r[0],o=r[1],l=s((0,u.useState)(""),2),c=l[0],f=l[1],h=s((0,u.useState)(""),2),d=h[0],p=h[1],v=s((0,u.useState)(null),2),y=v[0],g=v[1],k=s((0,u.useState)(!1),2),E=k[0],_=k[1],T=s((0,u.useState)("danger"),2),C=T[0],I=T[1],N=s((0,u.useState)(null),2),A=N[0],P=N[1],R=s((0,u.useState)(!1),2),O=R[0],L=R[1],D=s((0,u.useState)(null),2),M=D[0],j=D[1],U=function(){o(""),j(null),f(""),p(""),g(null)},V=function(){var e=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GC().then((function(e){n({type:_C,foodItems:e})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,kC.jsx)("div",{className:"w-full min-h-screen flex items-center justify-center pt-10",children:(0,kC.jsxs)("div",{className:"w-[90%] md:w-[75%] border border-gray-300 rounded-lg p-4 flex flex-col items-center justify-center gap-4",children:[E&&(0,kC.jsx)(ns.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full p-2 rounded-lg text-center text-lg font-semibold ".concat("danger"===C?"bg-red-400 text-red-800":"bg-emerald-400 text-emerald-800"),children:A}),(0,kC.jsxs)("div",{className:"w-full py-2 border-b border-gray-300 flex items-center gap-2",children:[(0,kC.jsx)(x,{className:"text-xl text-gray-700"}),(0,kC.jsx)("input",{type:"text",required:!0,value:a,placeholder:"Enter Title",onChange:function(e){return o(e.target.value)},className:"w-full h-full text-lg bg-transparent \r outline-none border-none placeholder:text-gray-400 text-textColor"})]}),(0,kC.jsx)("div",{className:"w-full",children:(0,kC.jsxs)("select",{onChange:function(e){return g(e.target.value)},className:"outline-none w-full text-base border-b-2 border-gray-200 p-2 rounded-md cursor-pointer",children:[(0,kC.jsx)("option",{value:"other",className:"bg-white",children:"Select Category"}),RC&&RC.map((function(e){return(0,kC.jsx)("option",{className:"text-base border-0 outline-none capitalize bg-white text-headingColor",value:e.urlParamName,children:e.name},e.id)}))]})}),(0,kC.jsx)("div",{className:"group flex justify-center items-center flex-col border-2 border-dotted border-gray-300 w-full h-225 md:h-420 cursor-pointer rounded-lg",children:O?(0,kC.jsx)(XC,{}):(0,kC.jsx)(kC.Fragment,{children:M?(0,kC.jsx)(kC.Fragment,{children:(0,kC.jsxs)("div",{className:"relative h-full",children:[(0,kC.jsx)("img",{src:M,alt:"Uploaded image",className:"w-full h-full object-cover"}),(0,kC.jsx)("button",{type:"button",className:"absolute bottom-3 right-3 p-3 rounded-full\r bg-red-500 text-xl cursor-pointer\r outline-none hover:shadow-lg\r duration-500 transition-all ease-in-out",onClick:function(){L(!1),function(e){return pT(e=Vs(e))}(_T(NT,M)).then((function(){j(null),L(!1),P("Image deleted successfully"),I("success"),setTimeout((function(){_(!1)}),4e3)}))},children:(0,kC.jsx)(m,{className:"text-white"})})]})}):(0,kC.jsx)(kC.Fragment,{children:(0,kC.jsxs)("label",{className:"w-full h-full flex flex-col items-center justify-center cursor-pointer",children:[(0,kC.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center gap-2",children:[(0,kC.jsx)(w,{className:"text-gray-500 text-3xl hover:text-gray-700"}),(0,kC.jsx)("p",{className:"text-gray-500 hover:text-gray-700",children:"Click here to upload"})]}),(0,kC.jsx)("input",{onChange:function(e){L(!0);var t=e.target.files[0],n=ET(_T(NT,"images/".concat(Date.now(),"-").concat(t.name)),t);n.on("state_changed",(function(e){e.bytesTransferred,e.totalBytes}),(function(e){console.log(e),_(!0),P("Error while uploading. Try again."),I("danger"),setTimeout((function(){_(!1),L(!1)}),4e3)}),(function(){(function(e){return dT(e=Vs(e))})(n.snapshot.ref).then((function(e){j(e),L(!1),_(!0),P("Image uploaded successfully"),I("success"),setTimeout((function(){_(!1)}),4e3)}))}))},type:"file",name:"uploadingimage",accept:"image/*",className:"w-0 h-0"})]})})})}),(0,kC.jsxs)("div",{className:"w-full flex flex-col md:flex-row items-center gap-3",children:[(0,kC.jsxs)("div",{className:"w-full py-2 border-b border-gray-300 flex items-center gap-2",children:[(0,kC.jsx)(S,{className:"text-gray-700 text-2xl"}),(0,kC.jsx)("input",{type:"text",required:!0,value:c,onChange:function(e){return f(e.target.value)},placeholder:"Calories",className:"w-full h-full text-lg bg-transparent outline-none border-none placeholder:text-gray-400 text-textColor"})]}),(0,kC.jsxs)("div",{className:"w-full py-2 border-b border-gray-300 flex items-center gap-2",children:[(0,kC.jsx)(b,{className:"text-gray-700 text-2xl"}),(0,kC.jsx)("input",{type:"text",required:!0,value:d,onChange:function(e){return p(e.target.value)},placeholder:"Price",className:"w-full h-full text-lg bg-transparent outline-none border-none placeholder:text-gray-400 text-textColor"})]})]}),(0,kC.jsx)("div",{className:"flex items-center w-full",children:(0,kC.jsx)("button",{type:"button",className:"ml-0 md:ml-auto w-full md:w-auto border-none outline-none bg-emerald-500 px-12 py-2 rounded-lg text-lg text-white font-semibold",onClick:function(){L(!0);try{if(a&&c&&M&&d&&y){var e={id:"".concat(Date.now()),title:a,imageUrl:M,category:y,calories:c,qty:1,price:d};KC(e),L(!1),P("Data saved successfully"),U(),I("success"),setTimeout((function(){_(!1)}),4e3)}else _(!0),P("Required fields can't be empty"),I("danger"),setTimeout((function(){_(!1),L(!1)}),4e3)}catch(t){console.log(t),_(!0),P("Error while uploading. Try again."),I("danger"),setTimeout((function(){_(!1),L(!1)}),4e3)}V()},children:"Save"})})]})})};function YC(){var e=(0,u.useRef)(!1);return H((function(){return e.current=!0,function(){e.current=!1}}),[]),e}var $C=function(e){var t=e.children,n=e.initial,r=e.isPresent,i=e.onExitComplete,a=e.custom,o=e.presenceAffectsLayout,s=re(JC),l=Ra(),c=(0,u.useMemo)((function(){return{id:l,initial:n,isPresent:r,custom:a,onExitComplete:function(e){var t,n;s.set(e,!0);try{for(var r=P(s.values()),a=r.next();!a.done;a=r.next()){if(!a.value)return}}catch(o){t={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}null===i||void 0===i||i()},register:function(e){return s.set(e,!1),function(){return s.delete(e)}}}}),o?void 0:[r]);return(0,u.useMemo)((function(){s.forEach((function(e,t){return s.set(t,!1)}))}),[r]),u.useEffect((function(){!r&&!s.size&&(null===i||void 0===i||i())}),[r]),u.createElement(z.Provider,{value:c},t)};function JC(){return new Map}var ZC=function(e){return e.key||""};var eI=function(e){var t=e.children,n=e.custom,r=e.initial,i=void 0===r||r,a=e.onExitComplete,o=e.exitBeforeEnter,s=e.presenceAffectsLayout,l=void 0===s||s,c=R(function(){var e=YC(),t=R((0,u.useState)(0),2),n=t[0],r=t[1],i=(0,u.useCallback)((function(){e.current&&r(n+1)}),[n]);return[(0,u.useCallback)((function(){return be.postRender(i)}),[i]),n]}(),1),f=c[0],h=(0,u.useContext)(fi).forceRender;h&&(f=h);var d=YC(),p=function(e){var t=[];return u.Children.forEach(e,(function(e){(0,u.isValidElement)(e)&&t.push(e)})),t}(t),v=p,m=new Set,y=(0,u.useRef)(v),g=(0,u.useRef)(new Map).current,k=(0,u.useRef)(!0);if(H((function(){k.current=!1,function(e,t){e.forEach((function(e){var n=ZC(e);t.set(n,e)}))}(p,g),y.current=v})),ka((function(){k.current=!0,g.clear(),m.clear()})),k.current)return u.createElement(u.Fragment,null,v.map((function(e){return u.createElement($C,{key:ZC(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:l},e)})));v=O([],R(v),!1);for(var b=y.current.map(ZC),w=p.map(ZC),x=b.length,E=0;E<x;E++){var _=b[E];-1===w.indexOf(_)&&m.add(_)}return o&&m.size&&(v=[]),m.forEach((function(e){if(-1===w.indexOf(e)){var t=g.get(e);if(t){var r=b.indexOf(e);v.splice(r,0,u.createElement($C,{key:ZC(t),isPresent:!1,onExitComplete:function(){g.delete(e),m.delete(e);var t=y.current.findIndex((function(t){return t.key===e}));if(y.current.splice(t,1),!m.size){if(y.current=p,!1===d.current)return;f(),a&&a()}},custom:n,presenceAffectsLayout:l},t))}}})),v=v.map((function(e){var t=e.key;return m.has(t)?e:u.createElement($C,{key:ZC(e),isPresent:!0,presenceAffectsLayout:l},e)})),u.createElement(u.Fragment,null,m.size?v:v.map((function(e){return(0,u.cloneElement)(e)})))},tI=function(){var e=s(xC(),2),n=(e[0].foodItems,e[1]),r=function(){var e=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GC().then((function(e){n({type:_C,foodItems:e})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){r()}),[]),(0,kC.jsx)(eI,{exitBeforeEnter:!0,children:(0,kC.jsxs)("div",{className:"w-screen h-auto flex flex-col bg-primary",children:[(0,kC.jsx)(IC,{}),(0,kC.jsx)("main",{className:"mt-20 md:mt-20 px-4 md:px-16 py-4 w-full",children:(0,kC.jsxs)(hC,{children:[(0,kC.jsx)(cC,{path:"/*",element:(0,kC.jsx)(WC,{})}),(0,kC.jsx)(cC,{path:"/createItem",element:(0,kC.jsx)(QC,{})})]})})]})})},nI=n(250),rI={user:"undefined"!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):localStorage.clear,foodItems:null,cartShow:!1,cartItems:function(){var e="undefined"!==localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):localStorage.clear;return e||[]}()},iI=document.getElementById("app");(0,nI.s)(iI).render((0,kC.jsx)(yC,{children:(0,kC.jsx)(wC,{initialState:rI,reducer:CC,children:(0,kC.jsx)(tI,{tab:"home"})})}))}()}();
//# sourceMappingURL=main.bf88997c.js.map